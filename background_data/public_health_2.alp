<?xml version="1.0" encoding="UTF-8"?>
<!--
*************************************************
	         AnyLogic Project File 
*************************************************	         
-->
<AnyLogicWorkspace WorkspaceVersion="1.9" AnyLogicVersion="6.7.1.201202091542" AlpVersion="6.6.0">
<Model>
	<Id>1246373484445</Id>
	<Name><![CDATA[public_health_2]]></Name>
	<ExcludeFromBuild>false</ExcludeFromBuild>
	<EngineVersion>6</EngineVersion>
	<JavaPackageName><![CDATA[epanet]]></JavaPackageName>
	<ModelTimeUnit><![CDATA[Hour]]></ModelTimeUnit>
	<ActiveObjectClasses>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1246373484446</Id>
			<Name><![CDATA[Main]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<AdditionalClassCode><![CDATA[		
private int counter;

	   // static double[] mealArray = new double[6];
		static double meal1StartingTime = 0;
		 static double meal2StartingTime = 0;
		static double meal3StartingTime = 0;
		static double meal4StartingTime = 0;
		static double meal5StartingTime = 0;

		
//class WaterRequest {

	//private static double[] mealArray = new double[6];

	//private static int timeOfModel;
	// private int numDays;

	 
	/*public WaterRequest(){	
	}*/

	/* public static void set_time(int time) {
		timeOfModel = time;
		//System.out.println("time of is " + timeOfModel);
	}*/

	/*public double get_MealTime() {
		// System.out.println(timeOfModel);
		double timeOfDrink = 0;
		// double[] drink = new double[6];
		timeOfDrink = calculateMealArray();
		return timeOfDrink;
	}*/






	

	//double[] volumeDistribution = { .03, .263, .710, 1.311, 2.014, 2.544, 4.242 };
	//double[] volumeProbabilities = { .10, .25, .50, .75, .90, .95, 1.0 };




]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Import><![CDATA[import java.util.ArrayList;
import java.util.*;
import javax.swing.*;
]]></Import>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>false</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="PlainVariable">
					<Id>1247094764741</Id>
					<Name><![CDATA[timeStep]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>780</X><Y>-220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1247869521692</Id>
					<Name><![CDATA[owner]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>780</X><Y>-240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[0]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1249259242931</Id>
					<Name><![CDATA[mealArray]]></Name>
					<Description><![CDATA[this variable stores all time of drinking water for all consumers at each time ]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>780</X><Y>-260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
						<InitialValue><![CDATA[{0, 0, 0, 0, 0, 0}]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1254152062737</Id>
					<Name><![CDATA[numOfNodeInitializer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[0]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1257201771341</Id>
					<Name><![CDATA[nodeID]]></Name>
					<Description><![CDATA[This variable consists all intermedaite and terminal nodes]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>550</X><Y>-490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1257201894387</Id>
					<Name><![CDATA[Y]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>-510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268273340043</Id>
					<Name><![CDATA[nodeID_Res]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268273360011</Id>
					<Name><![CDATA[Population_Res]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268273432589</Id>
					<Name><![CDATA[HouseHolds]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268273509183</Id>
					<Name><![CDATA[NodeElevation_Res]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268273918386</Id>
					<Name><![CDATA[nodeID_Com]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268273930011</Id>
					<Name><![CDATA[nodeID_Ind]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268274038979</Id>
					<Name><![CDATA[Population_Com]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268274052901</Id>
					<Name><![CDATA[Population_Ind]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268274063604</Id>
					<Name><![CDATA[Population_NavyAir]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268274063606</Id>
					<Name><![CDATA[nodeID_NavyAir]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268328902522</Id>
					<Name><![CDATA[NodeElevation_Com]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268328909881</Id>
					<Name><![CDATA[NodeElevation_Ind]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268328924053</Id>
					<Name><![CDATA[NodeElevation_NavyAir]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268329586006</Id>
					<Name><![CDATA[X]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>550</X><Y>-510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268329605069</Id>
					<Name><![CDATA[nodeEpanetIndex]]></Name>
					<Description><![CDATA[This variable consists all intermedaite and terminal nodes]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>550</X><Y>-470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268434443553</Id>
					<Name><![CDATA[CurrentNodePopulation]]></Name>
					<Description><![CDATA[
	THIS VARIABLE HOLDS ALL NUMBERS OF CONSUMER AT EACH TIME STEP BASED ON ORDER OF NODES IN EPANET]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268435837631</Id>
					<Name><![CDATA[totalPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[0]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268671466540</Id>
					<Name><![CDATA[terminalNodes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268677838609</Id>
					<Name><![CDATA[CommercialPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268677901139</Id>
					<Name><![CDATA[IndusterialPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268677924358</Id>
					<Name><![CDATA[NavyPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268677952968</Id>
					<Name><![CDATA[UniversityPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268677977186</Id>
					<Name><![CDATA[AirportPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268677997702</Id>
					<Name><![CDATA[ResidentialPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268679528547</Id>
					<Name><![CDATA[PercentOfCommercialWorker]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>690</X><Y>-610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268684659264</Id>
					<Name><![CDATA[PercentOfAirportandNavy]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>690</X><Y>-630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268686814702</Id>
					<Name><![CDATA[SchoolIDs]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268687959234</Id>
					<Name><![CDATA[SchoolIndexInCom]]></Name>
					<Description><![CDATA[INDECES OF SCHOOL IN CONSEQUENCE OF COMERCIAL NODES AT nodeID_Com]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268690949672</Id>
					<Name><![CDATA[Female]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>870</X><Y>-390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268690965858</Id>
					<Name><![CDATA[Male]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>870</X><Y>-370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268692112172</Id>
					<Name><![CDATA[Age]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>870</X><Y>-350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268702248656</Id>
					<Name><![CDATA[totalHouseholds]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268765287027</Id>
					<Name><![CDATA[TerminalNodeID]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1268767481855</Id>
					<Name><![CDATA[PopJustforInitialization]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1270675637253</Id>
					<Name><![CDATA[terminalNodesIndexes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1271273050705</Id>
					<Name><![CDATA[Sick]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>540</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[0]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277741456307</Id>
					<Name><![CDATA[numberOfStudents]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>690</X><Y>-570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[18552]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277741475838</Id>
					<Name><![CDATA[numberOfCommericalVisitors]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>690</X><Y>-590</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[19457]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277741487714</Id>
					<Name><![CDATA[UniversityEpanetID]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>690</X><Y>-550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String]]></Type>        
						<InitialValue><![CDATA["TN1551"]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277741502354</Id>
					<Name><![CDATA[AirportEpanetID]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>690</X><Y>-530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String]]></Type>        
						<InitialValue><![CDATA["TN1372"]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277741888902</Id>
					<Name><![CDATA[epanetFile]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-590</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String]]></Type>        
						<InitialValue><![CDATA[System.getProperty("user.dir").concat("/Mesopolis1.inp")]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277741923432</Id>
					<Name><![CDATA[reportEpanetFile]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String]]></Type>        
						<InitialValue><![CDATA[System.getProperty("user.dir").concat("/M2.rpt")]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1285036269094</Id>
					<Name><![CDATA[WOM]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>540</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1288124570349</Id>
					<Name><![CDATA[Media]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>540</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1288909702649</Id>
					<Name><![CDATA[alertingTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>540</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[-1]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524014360</Id>
					<Name><![CDATA[maxAvilablePopAtNodes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>-220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1298407683895</Id>
					<Name><![CDATA[Routing]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>540</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1305500260983</Id>
					<Name><![CDATA[alertingTime2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>650</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1247149387159</Id>
					<Name><![CDATA[totalOfConsumer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>760</X><Y>-150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[100]]></DefaultValue>
						<ParameterEditor>
							<Id>1247149387157</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1247149448258</Id>
					<Name><![CDATA[simulationTotalTimeStep]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>760</X><Y>-130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[20]]></DefaultValue>
						<ParameterEditor>
							<Id>1247149448256</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1268347593995</Id>
					<Name><![CDATA[epanetFile1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>350</X><Y>-610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[String]]></Type>        
						<DefaultValue><![CDATA[System.getProperty("user.dir").concat("/Mesopolis1.inp")]]></DefaultValue>
						<ParameterEditor>
							<Id>1268347593993</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1270676156026</Id>
					<Name><![CDATA[reportEpanetFile1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>-610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[String]]></Type>        
						<DefaultValue><![CDATA[System.getProperty("user.dir").concat("/M2.rpt")]]></DefaultValue>
						<ParameterEditor>
							<Id>1270676156024</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1271101351458</Id>
					<Name><![CDATA[CurrentNodePopQueue]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[int[]]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1285036366547</Id>
					<Name><![CDATA[resultCollectorSick]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1285036370704</Id>
					<Name><![CDATA[resultCollectorWOM]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1288126287745</Id>
					<Name><![CDATA[resultCollectorMedia]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1317690505981</Id>
					<Name><![CDATA[resultCollectorRouting]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>730</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Connectors>
				<Connector>
					<Id>1248120342397</Id>
					<Name><![CDATA[connector]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-20</X><Y>-260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<SourceEmbeddedObject>1248120274130</SourceEmbeddedObject>
					<SourceConnectableName>toGroupConsumer</SourceConnectableName>
					<TargetEmbeddedObject>1248120315724</TargetEmbeddedObject>
					<TargetConnectableName>toWDS</TargetConnectableName>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>210</X><Y>-180</Y></Point>
					</Points>
				</Connector>
				<Connector>
					<Id>1285822489532</Id>
					<Name><![CDATA[connector1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-160</X><Y>-530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<SourceEmbeddedObject>1285812034171</SourceEmbeddedObject>
					<SourceConnectableName>toUtilityOfficers</SourceConnectableName>
					<TargetEmbeddedObject>1285812068203</TargetEmbeddedObject>
					<TargetConnectableName>fromPHA</TargetConnectableName>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>130</X><Y>70</Y></Point>
						<Point><X>150</X><Y>50</Y></Point>
					</Points>
				</Connector>
				<Connector>
					<Id>1285822507454</Id>
					<Name><![CDATA[connector2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-10</X><Y>-450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<SourceEmbeddedObject>1285812068203</SourceEmbeddedObject>
					<SourceConnectableName>fromSensors</SourceConnectableName>
					<TargetEmbeddedObject>1285208449687</TargetEmbeddedObject>
					<TargetConnectableName>toUtilityOfficiers</TargetConnectableName>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>-10</X><Y>70</Y></Point>
					</Points>
				</Connector>
				<Connector>
					<Id>1285822701985</Id>
					<Name><![CDATA[connector3]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-100</X><Y>-590</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<SourceEmbeddedObject>1285812050750</SourceEmbeddedObject>
					<SourceConnectableName>fromUO</SourceConnectableName>
					<TargetEmbeddedObject>1285812068203</TargetEmbeddedObject>
					<TargetConnectableName>toMedia</TargetConnectableName>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>90</X><Y>50</Y></Point>
					</Points>
				</Connector>
				<Connector>
					<Id>1286138435907</Id>
					<Name><![CDATA[connector4]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-100</X><Y>-560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<SourceEmbeddedObject>1285812050750</SourceEmbeddedObject>
					<SourceConnectableName>toConsumer</SourceConnectableName>
					<TargetEmbeddedObject>1248120315724</TargetEmbeddedObject>
					<TargetConnectableName>fromMedia</TargetConnectableName>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>220</X><Y>120</Y></Point>
					</Points>
				</Connector>
				<Connector>
					<Id>1298333174444</Id>
					<Name><![CDATA[connector5]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-140</X><Y>-230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<SourceEmbeddedObject>1298333094422</SourceEmbeddedObject>
					<SourceConnectableName>fromUtilityOfficers</SourceConnectableName>
					<TargetEmbeddedObject>1285812068203</TargetEmbeddedObject>
					<TargetConnectableName>toFireDepartment</TargetConnectableName>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>30</X><Y>-180</Y></Point>
						<Point><X>80</X><Y>-270</Y></Point>
						<Point><X>130</X><Y>-300</Y></Point>
					</Points>
				</Connector>
				<Connector>
					<Id>1298334318799</Id>
					<Name><![CDATA[connector6]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-10</X><Y>-520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<SourceEmbeddedObject>1285812068203</SourceEmbeddedObject>
					<SourceConnectableName>toWDS_HydraulicResponse</SourceConnectableName>
					<TargetEmbeddedObject>1248120274130</TargetEmbeddedObject>
					<TargetConnectableName>hydraulicResponse</TargetConnectableName>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>90</X><Y>30</Y></Point>
						<Point><X>100</X><Y>110</Y></Point>
						<Point><X>120</X><Y>260</Y></Point>
					</Points>
				</Connector>
			</Connectors>
			<Functions>
				<Function AccessType="public" StaticFunction="true">
					<ReturnType><![CDATA[double[]]]></ReturnType>
					<Id>1248905660745</Id>
					<Name><![CDATA[calculateMealArray]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>760</X><Y>-90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[

			double[] cdf_probability = { 0.005, 0.0075, 0.01, 0.0175, 0.025,
					0.0375, 0.05, 0.075, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4,
					0.45, 0.5, 0.55, 0.6, 0.65, 0.7, 0.75, 0.8, 0.85, 0.9,
					0.925, 0.95, 0.9625, 0.975, 0.9825, 0.99, 0.9925, 1.0 };

			double[] meal1 = { 4.08, 4.22, 4.36, 4.68, 4.88, 5.12, 5.33, 5.64,
					5.86, 6.18, 6.46, 6.69, 6.9, 7.08, 7.27, 7.47, 7.68, 7.9,
					8.1, 8.36, 8.68, 8.99, 9.34, 9.92, 10.8, 11.49, 12.08,
					12.38, 12.88, 13.39, 14.35, 14.98, 15.8 };

			double[][] meal2 = { { 5.91, 7.72, 9.41, 10.56, 12.18 },
					{ 6.02, 8.02, 9.65, 10.73, 12.38 },
					{ 6.11, 8.28, 9.81, 10.85, 12.54 },
					{ 6.46, 8.88, 10.19, 11.09, 12.9 },
					{ 6.89, 9.25, 10.47, 11.26, 13.2 },
					{ 7.66, 9.95, 10.76, 11.47, 13.62 },
					{ 8.22, 10.32, 10.94, 11.63, 13.95 },
					{ 9.22, 10.83, 11.19, 11.89, 14.41 },
					{ 9.95, 11.08, 11.37, 12.11, 14.74 },
					{ 10.7, 11.38, 11.62, 12.48, 15.25 },
					{ 11.05, 11.56, 11.8, 12.81, 15.7 },
					{ 11.31, 11.71, 11.94, 13.11, 16.13 },
					{ 11.53, 11.83, 12.06, 13.42, 16.53 },
					{ 11.69, 11.93, 12.19, 13.73, 16.9 },
					{ 11.82, 12.01, 12.32, 14.08, 17.23 },
					{ 11.91, 12.09, 12.46, 14.45, 17.52 },
					{ 12, 12.17, 12.62, 14.85, 17.78 },
					{ 12.08, 12.27, 12.8, 15.25, 18.04 },
					{ 12.17, 12.4, 12.99, 15.66, 18.3 },
					{ 12.27, 12.54, 13.21, 16.08, 18.58 },
					{ 12.4, 12.72, 13.47, 16.53, 18.89 },
					{ 12.58, 12.93, 13.78, 17, 19.27 },
					{ 12.81, 13.13, 14.14, 17.52, 19.74 },
					{ 13.09, 13.45, 14.66, 18.09, 20.29 },
					{ 13.5, 14.04, 15.56, 18.72, 20.94 },
					{ 13.9, 14.41, 16.19, 19.07, 21.34 },
					{ 14.6, 15.21, 17.1, 19.49, 21.9 },
					{ 15.3, 15.75, 17.54, 19.76, 22.28 },
					{ 16.75, 16.79, 17.96, 20.16, 22.73 },
					{ 17.35, 17.47, 18.23, 20.62, 23.04 },
					{ 18.19, 18.28, 18.73, 21.85, 23.43 },
					{ 18.64, 18.66, 19.07, 22.41, 23.6 },
					{ 18.95, 19.22, 19.69, 22.88, 23.82 } };

			double[][] meal3 = { { 9.49, 14.1, 15.09, 15.96, 17.2 },
					{ 9.9, 14.43, 15.6, 16.14, 17.36 },
					{ 10.17, 14.71, 15.83, 16.28, 17.48 },
					{ 10.67, 15.17, 16.14, 16.56, 17.74 },
					{ 11, 15.54, 16.34, 16.74, 17.93 },
					{ 11.34, 15.9, 16.57, 16.96, 18.17 },
					{ 11.57, 16.12, 16.72, 17.11, 18.36 },
					{ 11.94, 16.44, 16.94, 17.35, 18.68 },
					{ 12.29, 16.67, 17.11, 17.53, 18.94 },
					{ 13.28, 16.95, 17.4, 17.84, 19.38 },
					{ 15.08, 17.14, 17.64, 18.12, 19.76 },
					{ 15.84, 17.33, 17.84, 18.39, 20.08 },
					{ 16.29, 17.5, 18.01, 18.66, 20.37 },
					{ 16.63, 17.66, 18.18, 18.92, 20.66 },
					{ 16.9, 17.81, 18.34, 19.19, 20.95 },
					{ 17.13, 17.94, 18.5, 19.46, 21.25 },
					{ 17.35, 18.08, 18.67, 19.73, 21.55 },
					{ 17.55, 18.22, 18.84, 20.01, 21.86 },
					{ 17.74, 18.38, 19.03, 20.28, 22.18 },
					{ 17.93, 18.56, 19.24, 20.56, 22.54 },
					{ 18.13, 18.75, 19.48, 20.87, 22.94 },
					{ 18.34, 18.96, 19.76, 21.2, 23.54 },
					{ 18.58, 19.2, 20.04, 21.58, 24.4 },
					{ 18.91, 19.52, 20.36, 22.05, 25.27 },
					{ 19.43, 19.97, 20.8, 22.69, 26.03 },
					{ 19.81, 20.25, 21.09, 23.12, 26.48 },
					{ 20.33, 20.63, 21.9, 23.86, 26.96 },
					{ 20.71, 20.92, 21.87, 25.14, 27.2 },
					{ 21.21, 21.28, 22.4, 25.87, 27.46 },
					{ 21.63, 21.54, 22.97, 26.3, 27.64 },
					{ 22.23, 22.01, 23.84, 26.87, 27.87 },
					{ 22.54, 22.3, 24.1, 27.07, 27.96 },
					{ 22.94, 22.69, 24.46, 27.28, 28.08 } };

			Random random1 = new Random();

			int pickRandom = random1.nextInt(32);
			
			double probability = cdf_probability[pickRandom];

			meal1StartingTime = meal1[pickRandom];
			mealArray[0] = probability;
			mealArray[1] = meal1StartingTime;
			
			pickRandom = random1.nextInt(32);
			
			
			if (meal1StartingTime < 6) {
				meal3StartingTime = meal2[pickRandom][0];
			} else {
				if (meal1StartingTime >= 6 && meal1StartingTime < 8) {
					meal3StartingTime = meal2[pickRandom][1];
				} else {
					if (meal1StartingTime >= 8 && meal1StartingTime < 10) {
						meal3StartingTime = meal2[pickRandom][2];
					} else {
						if (meal1StartingTime >= 10 && meal1StartingTime < 12) {
							meal3StartingTime = meal2[pickRandom][3];
						} else {
							if (meal1StartingTime >= 12) {
								meal3StartingTime = meal2[pickRandom][4];
							}
						}
					}
				}
			}
			pickRandom = random1.nextInt(32);

			if (meal3StartingTime < 11) {
				meal5StartingTime = meal3[pickRandom][0];
			} else {
				if (meal3StartingTime >= 11 && meal3StartingTime < 13) {
					meal5StartingTime = meal3[pickRandom][1];
				} else {
					if (meal3StartingTime >= 13 && meal3StartingTime < 15) {
						meal5StartingTime = meal3[pickRandom][2];
					} else {
						if (meal3StartingTime >= 15 && meal3StartingTime < 17) {
							meal5StartingTime = meal3[pickRandom][3];
						} else {
							if (meal3StartingTime >= 17) {
								meal5StartingTime = meal3[pickRandom][4];

							}
						}
					}
				}
			}
			meal2StartingTime = (meal3StartingTime - meal1StartingTime) / 2
					+ meal1StartingTime;
			meal4StartingTime = (meal5StartingTime - meal3StartingTime) / 2
					+ meal3StartingTime;
			mealArray[2] = meal2StartingTime;
			mealArray[3] = meal3StartingTime;
			mealArray[4] = meal4StartingTime;
			mealArray[5] = meal5StartingTime;
			

			///*****sorting the meal Array to get squence of meals**/
			for(int i=1; i < mealArray.length;++i){
				if(mealArray[i] >= 24){
				mealArray[i] = mealArray[i]-24;
				}
			}
			double[] sortingMeal = new double[5];
			for(int i=0; i<5; ++i){
				sortingMeal[i] = mealArray[i+1];
			}
			Arrays.sort(sortingMeal);
		
			for(int i=0; i<5; ++i){
				mealArray[i+1] = sortingMeal[i];
			}

return mealArray;

		
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="true">
					<ReturnType><![CDATA[int]]></ReturnType>
					<Id>1249261137476</Id>
					<Name><![CDATA[convertTimetoDayScale]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>760</X><Y>-110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[time]]></Name>
						<Type><![CDATA[int]]></Type>
					</Parameter>
					<Body><![CDATA[		int timeHourinDay = 0;
        int timeOfModel =time;
		int a = Math.abs(timeOfModel / 24);
		switch (a) {
		case 0:
			timeHourinDay = timeOfModel;
			break;
		case 1:
			timeHourinDay = timeOfModel - 24;
			break;
		case 2:
			timeHourinDay = timeOfModel - 48;
			break;
		case 3:
			timeHourinDay = timeOfModel - 72;
			break;
		case 4:
			timeHourinDay = timeOfModel - 96;
			break;
		case 5:
			timeHourinDay = timeOfModel - 120;
			break;
		case 6: 
			timeHourinDay = timeOfModel - 144;
			break;
		case 7: 
			timeHourinDay = timeOfModel - 168;
			break;
		case 8: 
			timeHourinDay = timeOfModel - 192;
			break;
		case 9: 
			timeHourinDay = timeOfModel - 216;
			break;
		case 10: 
			timeHourinDay = timeOfModel - 240;
			break;
		default:
			if (a > 10) {
				JOptionPane
						.showMessageDialog(
								null,
								"The program is set for 11 days of simulation,"
										+ " you should go to the class WaterRequest and"
										+ " then to convertTimetoDayScale to correct it"
										+ " for your desire time of simulation",
								"Error Message",
								JOptionPane.INFORMATION_MESSAGE);
			}
		}
		return timeHourinDay;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1268347542775</Id>
					<Name><![CDATA[pleaseCallMeBeforeEverythingElse]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//INITIALIZE THE NODES POPULATION AND NUMBERS

if(timeStep ==1){

}else{
 

   

{
	//ResultSet woop =  PopRatio.getTableResultSet("PopRatio",null,null,null);
	
	double[] a = new double[11];
	Female = Arrays.copyOf(a,11);
	Male = Arrays.copyOf(a,11);
	
	Age = new String[11];
	int counter = 0;

	while(popRatio.canReadMore()){
		String s = popRatio.readLine();
		//traceln(s.split("\t").length+" "+s);
		Female[counter] = Double.parseDouble(s.split("\t")[2]);
		Male[counter] = Double.parseDouble(s.split("\t")[1]);
		Age[counter] = s.split("\t")[0];
		++counter;
	}
}
{
	//ResultSet woop =  Pattern.getTableResultSet("Pattern",null,null,null);
	double[] a = new double[24];
	PercentOfCommercialWorker = Arrays.copyOf(a,24);
	PercentOfAirportandNavy = Arrays.copyOf(a,24);
	
	int counter = 0;
	pattern.readLine();
	while(pattern.canReadMore()){
		String s =  pattern.readLine();
		PercentOfCommercialWorker[counter] = Double.parseDouble(s.split("\t")[0]);//woop.getDouble("COM");
		PercentOfAirportandNavy[counter] = Double.parseDouble(s.split("\t")[1]);//woop.getDouble("Navy");
		++counter;	
	}
	
}

{
	//ResultSet woop =  SchoolID.getTableResultSet("SchoolID",null,null,null);
	ArrayList<String> Schools = new ArrayList<String>();
	schoolID.readLine();
	while(schoolID.canReadMore())
		Schools.add(schoolID.readLine());
		
	SchoolIDs = new String[Schools.size()];
	for(int w=0;w < Schools.size(); ++w)
		SchoolIDs[w] = Schools.get(w);
}

{
	
	//ResultSet a =  NodeElevPop.getTableResultSet("NodeElevPop",null,null,null);
	ArrayList<String> ID_res = new ArrayList<String>();
	ArrayList<String> ID_com = new ArrayList<String>();
	ArrayList<String> ID_ind = new ArrayList<String>();
	ArrayList<String> ID_navy = new ArrayList<String>();
	ArrayList<Integer> pop_res = new ArrayList<Integer>();
	ArrayList<Integer> pop_com = new ArrayList<Integer>();
	ArrayList<Integer> pop_ind = new ArrayList<Integer>();
	ArrayList<Integer> pop_navy = new ArrayList<Integer>();
	ArrayList<Integer> house_res = new ArrayList<Integer>();
	ArrayList<Double> elev_res = new ArrayList<Double>();
	ArrayList<Double> elev_ind = new ArrayList<Double>();
	ArrayList<Double> elev_com = new ArrayList<Double>();
	ArrayList<Double> elev_navy = new ArrayList<Double>();
	NodesInfo.readLine();
	while(NodesInfo.canReadMore()){
		String S = NodesInfo.readLine();
		//traceln("S HERE "+S +" split "+S.split("\t").length);
	
		if(S.split("\t")[2].trim().equals("res")){

					
			ID_res.add(S.split("\t")[0].trim());
			pop_res.add(Integer.parseInt(S.split("\t")[3].trim()));
			house_res.add(Integer.parseInt(S.split("\t")[4].trim()));
			elev_res.add(Double.parseDouble(S.split("\t")[1].trim()));				
		}
		if(S.split("\t")[2].trim().equals("com")){
			ID_com.add(S.split("\t")[0].trim());
			pop_com.add(Integer.parseInt(S.split("\t")[3].trim()));

			elev_com.add(Double.parseDouble(S.split("\t")[1].trim()));				
		}
		if(S.split("\t")[2].trim().equals("ind")){
			ID_ind.add(S.split("\t")[0].trim());
			pop_ind.add(Integer.parseInt(S.split("\t")[3].trim()));

			elev_ind.add(Double.parseDouble(S.split("\t")[1].trim()));				
		}
		if(S.split("\t")[2].trim().equals("nav") || S.split("\t")[2].trim().equals("air") ){
			ID_navy.add(S.split("\t")[0].trim());
			pop_navy.add(Integer.parseInt(S.split("\t")[3].trim()));

			elev_navy.add(Double.parseDouble(S.split("\t")[1].trim()));				
		}
	}

	String[] res_ID = new String[ID_res.size()];
	String[] com_ID = new String[ID_com.size()];
	String[] ind_ID = new String[ID_ind.size()];
	String[] navy_ID = new String[ID_navy.size()];
	int[] res_pop = new int[pop_res.size()];
	int[] com_pop = new int[pop_com.size()];
	int[] ind_pop = new int[pop_ind.size()];
	int[] navy_pop = new int[pop_navy.size()];
	int[] res_house = new int[house_res.size()];
	double[] res_elev  =new double[elev_res.size()];
	double[] com_elev  =new double[elev_com.size()];
	double[] ind_elev  =new double[elev_ind.size()];
	double[] navy_elev  =new double[elev_navy.size()];
	for(int i=0; i < ID_res.size();i++){
		for(int j=0; j < ID_res.get(i).split(" ").length;j++)
			if(!ID_res.get(i).split(" ")[j].equals(" "))
				res_ID[i] = ID_res.get(i).split(" ")[j];
				
		res_pop[i] = pop_res.get(i);
		res_house[i] = house_res.get(i);
		res_elev[i] =  elev_res.get(i);
	}
	Main.nodeID_Res = Arrays.copyOf(res_ID,res_ID.length);
	Main.Population_Res = Arrays.copyOf(res_pop,res_pop.length);
	Main.HouseHolds = Arrays.copyOf(res_house,res_house.length);
	Main.NodeElevation_Res = Arrays.copyOf(res_elev,res_elev.length);
	for(int i=0; i < ID_com.size();i++){
		for(int j=0; j < ID_com.get(i).split(" ").length;j++)
			if(!ID_com.get(i).split(" ")[j].equals(" "))
				com_ID[i] = ID_com.get(i).split(" ")[j];
				
		com_pop[i] = pop_com.get(i);
		com_elev[i] =  elev_com.get(i);
	}
	Main.nodeID_Com = Arrays.copyOf(com_ID,com_ID.length);
	Main.Population_Com = Arrays.copyOf(com_pop,com_pop.length);
	Main.NodeElevation_Com = Arrays.copyOf(com_elev,com_elev.length);
	
	for(int i=0; i < ID_ind.size();i++){
		for(int j=0; j < ID_ind.get(i).split(" ").length;j++)
			if(!ID_ind.get(i).split(" ")[j].equals(" "))
				ind_ID[i] = ID_ind.get(i).split(" ")[j];
				
		ind_pop[i] = pop_ind.get(i);
		ind_elev[i] =  elev_ind.get(i);
	}
	Main.nodeID_Ind = Arrays.copyOf(ind_ID,ind_ID.length);
	Main.Population_Ind = Arrays.copyOf(ind_pop,ind_pop.length);
	Main.NodeElevation_Ind = Arrays.copyOf(ind_elev,ind_elev.length);
	
	for(int i=0; i < ID_navy.size();++i){
		for(int j=0; j < ID_navy.get(i).split(" ").length;j++)
			if(!ID_navy.get(i).split(" ")[j].equals(" "))
				navy_ID[i] = ID_navy.get(i).split(" ")[j];
				
		navy_pop[i] = pop_navy.get(i);
		navy_elev[i] =  elev_navy.get(i);
	}
	Main.nodeID_NavyAir = Arrays.copyOf(navy_ID,navy_ID.length);
	Main.Population_NavyAir = Arrays.copyOf(navy_pop,navy_pop.length);
	Main.NodeElevation_NavyAir = Arrays.copyOf(navy_elev,navy_elev.length);
}

{
	int count = 0;
	SchoolIndexInCom = new int[SchoolIDs.length];
	for(int i=0; i < SchoolIDs.length; ++i){
		for(int j=0; j< nodeID_Com.length;++j){
			if(SchoolIDs[i].equals(nodeID_Com[j])){	
				SchoolIndexInCom[count] = j;
				++count;
			}
		}
	}

}

{
	ArrayList<String> ID = new ArrayList<String>();
	ArrayList<Double> X1 = new ArrayList<Double>();
	ArrayList<Double> Y1 = new ArrayList<Double>();
	//ResultSet b = AllNodesCoordinates.getTableResultSet("AllNodesCoordinates",null,null,null);
	allNodesCoordianates.readLine();
	while(allNodesCoordianates.canReadMore()){
		String s = allNodesCoordianates.readLine();
		ID.add(s.split("\t")[0]);
		X1.add(Double.parseDouble(s.split("\t")[1]));
		Y1.add(Double.parseDouble(s.split("\t")[2]));
	}
	String[] id = new String[ID.size()];
	double[] x = new double[ID.size()];
	double[] y = new double[ID.size()];
	for(int i = 0; i < ID.size(); i++){
		for(int j=0; j < ID.get(i).split(" ").length;j++)
			if(!ID.get(i).split(" ")[j].equals(" "))
				id[i] = ID.get(i).split(" ")[j];
		x[i] = X1.get(i);
		y[i] = Y1.get(i); 
	}	
	Main.X = Arrays.copyOf(x,x.length);
	Main.Y = Arrays.copyOf(y,y.length);
	Main.nodeID = Arrays.copyOf(id,id.length); 
	
	
}

//DEFINE THE NUMBER OF POPULATION IN CITY 
	for(int i =0; i< Main.Population_Res.length;++i)
		Main.totalPopulation +=  Main.Population_Res[i];
		
	for(int i =0; i< Main.Population_Ind.length;++i)
		Main.totalPopulation +=  Main.Population_Ind[i];
		
	Main.numOfNodeInitializer = Main.nodeID_Res.length + 
								Main.nodeID_Ind.length +
								Main.nodeID_Com.length +
								Main.nodeID_NavyAir.length;	
	for(int i=0; i < HouseHolds.length;++i)
		totalHouseholds += HouseHolds[i];
	int diff = totalPopulation - totalHouseholds *4;
	int dificitHouseholds = diff /4 -1;
	int counter = 0;
	while(counter <= dificitHouseholds ){
		for(int i=0; i < HouseHolds.length;++i,++counter){
			if(!(counter <= dificitHouseholds))
				break;
			++HouseHolds[i] ;
		}	
	}
	totalHouseholds = 0;
	for(int i=0; i < HouseHolds.length;++i)
		totalHouseholds += HouseHolds[i];

		
//INITIALIZED POPULATION NUMBERS
	for(int i=0; i < nodeID_Res.length ; ++i)
		ResidentialPopulation += Population_Res[i];
		
	for(int i=0; i < nodeID_Com.length ; ++i)
		CommercialPopulation += Population_Com[i];
		
	for(int i=0; i < nodeID_Ind.length ; ++i)
		IndusterialPopulation += Population_Ind[i];
		
	for(int i=0; i < nodeID_NavyAir.length ; ++i){
		if(nodeID_NavyAir[i].
				equals(UniversityEpanetID.toString()))
			UniversityPopulation = Population_NavyAir[i];
		if(nodeID_NavyAir[i].equals(AirportEpanetID.toString()))
			AirportPopulation = Population_NavyAir[i];
		if(nodeID_NavyAir[i].equals(AirportEpanetID) ^ nodeID_NavyAir.equals(UniversityEpanetID))	
			NavyPopulation += Population_NavyAir[i];
		}
		
	//LINE ALL THE TERMINAL NODES ID IN AN ARRAY UP		
	TerminalNodeID =  new String[nodeID_Res.length
				 					+nodeID_NavyAir.length
									+nodeID_Ind.length 
									+ nodeID_Com.length];
	PopJustforInitialization = new int[TerminalNodeID.length];
									
	for(int i=0; i < TerminalNodeID.length ; ){
		for(int j=0; j < nodeID_Res.length ; ++j,++i){
			PopJustforInitialization[i] = Population_Res[j];
			TerminalNodeID[i] = nodeID_Res[j];
		}
		
		for(int j=0; j < nodeID_Com.length ; ++j,++i){
			PopJustforInitialization[i] = 0;
			TerminalNodeID[i] = nodeID_Com[j];
		}
		
		for(int j=0; j < nodeID_Ind.length ; ++j,++i){
			PopJustforInitialization[i] = Population_Ind[j];
			TerminalNodeID[i] = nodeID_Ind[j];
		}
		
		for(int j=0; j < nodeID_NavyAir.length ; ++j,++i){
			TerminalNodeID[i] = nodeID_NavyAir[j];
			PopJustforInitialization[i] = 0;
		}
			
	}
//DEFINE THE NUMBER OF 
//INITIALIZE THE INDEX OF NODES

					

	int[] nodeIndexTemp = new int[Main.nodeID.length];
	EPANET input =  new EPANET();
	
	input.call_ENopen(epanetFile,reportEpanetFile," ");
	
	for(int i=0; i < nodeIndexTemp.length;i++)
		nodeIndexTemp[i] = input.call_ENgetnodeindex(Main.nodeID[i]);
		
	Main.nodeEpanetIndex = Arrays.copyOf(nodeIndexTemp,nodeIndexTemp.length);
			// TERMINAL NODES INDEXES ASSIGNMENT	
				int[] nodeIndexTerminalTemp = new int[Main.nodeID.length];
				for(int i=0; i < TerminalNodeID.length ; ++i)
					nodeIndexTerminalTemp[i] = input.call_ENgetnodeindex(Main.TerminalNodeID[i]);
		
				Main.terminalNodesIndexes = Arrays.copyOf(nodeIndexTerminalTemp, nodeIndexTerminalTemp.length);
			//END		
	
	input.call_ENclose();

	terminalNodes = new boolean[nodeID.length];
	for(int i=0; i < nodeID.length ; ++i){
		char[] temp = new char[1];
		nodeID[i].getChars(0,1,temp,0);
		
		if(temp[0] == 'T'){
			terminalNodes[i] = true;
		}else{
			if(temp[0] == 'I'){
			terminalNodes[i] = false;
			}else{
			terminalNodes[i] = false;
			}
		}
	}
	//traceln("EPANET2 "+epanetFile);
	if(Main_Optimization.counter == 0 || Main_Optimization.counter == 29 )
		new ProblemSettings().getProblemSetting();
}

/*
	for(int i=0; i<TerminalNodeID.length;++i){
		if(TerminalNodeID[i].equals("TN0347"))
			traceln(i);
	}*/
	
pattern.close();
schoolID.close();
sensorID.close();
allNodesCoordianates.close();
NodesInfo.close();
popRatio.close();
//NodeElevPop.destroy();
//Pattern.destroy();
//SchoolID.destroy();
//SensorID.destroy();
//AllNodesCoordinates.destroy();
//Pattern.destroy();
//PopRatio.destroy();
System.gc();
	



]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1287693778936</Id>
					<Name><![CDATA[pleaseCallMeAtSecond]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>-650</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[PublicHealthAgent publicHealthAgent = add_publicHealthAgent();
UtilityOfficers utilityOfficers = add_utilityOfficers();
Media media = add_media();
FireDepartment fire = add_fireDepartment();

if(SensorNetwrok.noOfSensors != 0){
	SensorNetwrok sensorNetwrok = add_sensorNetwrok();	

String[] a = 	{"IN0150","IN0459","IN0855"};
sensorNetwrok.sensorID = a ;
//SENSOR ID SECTION
{
/*
    String[] s = new String[sensorNetwrok.noOfSensors];

	ResultSet woop =  SensorID.getTableResultSet("Sensors",null,null,null);

	switch(sensorNetwrok.noOfSensors){
		case(0):
			s  = null;
			break;
		case(3):
			for(int i=0; i<sensorNetwrok.noOfSensors;++i){
				woop.next();
				s[i] = woop.getString("3");
			}
			break;
		case(5):
			for(int i=0; i<sensorNetwrok.noOfSensors;++i){
				woop.next();
				s[i] = woop.getString("5");
			}
			break;
		case(7):
			for(int i=0; i<sensorNetwrok.noOfSensors;++i){
				woop.next();
				s[i] = woop.getString("7");
			}
			break;
		case(10):
			for(int i=0; i<sensorNetwrok.noOfSensors;++i){
				woop.next();
				s[i] = woop.getString("10");
			}
			break;
	}
	for(int i=0; i<sensorNetwrok.noOfSensors;++i)
		traceln(s[i]);
	sensorNetwrok.sensorID = s;  */
	}
}

//END]]></Body>
				</Function>
			</Functions>
			<Connectivity>
				<TextFile>
					<Id>1296176814873</Id>
					<Name><![CDATA[probelmSettings]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>430</X><Y>-470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<FileName><![CDATA[ProblemSettings.txt]]></FileName>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators></Separators>
				</TextFile>
				<TextFile>
					<Id>1373937193588</Id>
					<Name><![CDATA[NodesInfo]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>541</X><Y>-538</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<FileName><![CDATA[nodes.txt]]></FileName>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators> </Separators>
				</TextFile>
				<TextFile>
					<Id>1373937193590</Id>
					<Name><![CDATA[pattern]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>291</X><Y>-538</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<FileName><![CDATA[pattern.txt]]></FileName>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators> </Separators>
				</TextFile>
				<TextFile>
					<Id>1373937193592</Id>
					<Name><![CDATA[allNodesCoordianates]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>411</X><Y>-508</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<FileName><![CDATA[AllnodeCoordinate.txt]]></FileName>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators> </Separators>
				</TextFile>
				<TextFile>
					<Id>1373937193594</Id>
					<Name><![CDATA[schoolID]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>361</X><Y>-538</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<FileName><![CDATA[SchoolID.txt]]></FileName>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators> </Separators>
				</TextFile>
				<TextFile>
					<Id>1373937193596</Id>
					<Name><![CDATA[sensorID]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>441</X><Y>-538</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<FileName><![CDATA[SensorID.txt]]></FileName>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators> </Separators>
				</TextFile>
				<TextFile>
					<Id>1373937193598</Id>
					<Name><![CDATA[popRatio]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>854</X><Y>-425</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<FileName><![CDATA[PopPercentage.txt]]></FileName>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators> </Separators>
				</TextFile>
			</Connectivity>
			<EmbeddedObjects>
				<EmbeddedObject>
					<Id>1248120274130</Id>
					<Name><![CDATA[wDS]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-20</X><Y>-260</Y>
					<Label><X>30</X><Y>-20</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[WDS]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[wantsMakeScenario]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[indexForGDA]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[recievedDemand]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[demandReduction]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[connectivityMap]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[reportEpanetFile]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[equilibruimConditionTime]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[reductionflag]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[ContaminationEpanetPattern]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[isCheckedArrayBuilt]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[checkedArray]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[temp]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[parameter]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1248120315724</Id>
					<Name><![CDATA[groupConsumerAtHome]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>120</X><Y>-440</Y>
					<Label><X>-30</X><Y>-20</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[GroupConsumer]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[qualityProfileOfNodes]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[numOfConsumerAtNodes]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[threshold]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[wDSMessage]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[totalPopulation]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[maleWeight]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[femaleWeight]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[maleDrinkingVolume]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[reportFileForAgents]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[VorM]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[cityTravelCoefficent]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[consumerReverseHashMap]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[hashMapBasedOnClusterNo]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[user_NeedCWS]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[consumerRatio_TypeC]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[consumerRatio_TypeD]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[user_needWOM]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[consumerRatio_TypeB]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[noChangeAtTimesteps]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[change]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[stopDrinkingRecord]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[timeStartToCheck]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[stopCriteriaFlag]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[availableConsumers]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[noOfHouseHolds]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[populationAtWorkandHome]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[femaleDrinkingVolume]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[consumerRatio_TypeA]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[isWarningPlaced]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[isImmidiateFamily]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[isWaterUtilityOrPublicHealthPersonnel]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[isMedia]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[isEllectedOfficial]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[timeOfWarningbyMedia]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1285208449687</Id>
					<Name><![CDATA[sensorNetwrok]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-20</X><Y>-380</Y>
					<Label><X>8</X><Y>-18</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[SensorNetwrok]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[detectionLimit]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[isDetect]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[timeLag]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[getDetectedTime]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[Tpoll]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[needSpecificResponseTime]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<Replication><![CDATA[0]]></Replication>	
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1285812034171</Id>
					<Name><![CDATA[publicHealthAgent]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-160</X><Y>-530</Y>
					<Label><X>-54</X><Y>-21</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[PublicHealthAgent]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[totalPeople]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[sickPerson]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[firstPatientsTime]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[probabilityWaterContaminationDiscovery]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[probabilityOfDiscoveringBasedOnNoOfSickenedCosnumer]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[timeOfFirstSign]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[totalProbability]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[randomProbability]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[one]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[ratio]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[eventDetectionTime]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<Replication><![CDATA[0]]></Replication>	
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1285812050750</Id>
					<Name><![CDATA[media]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-100</X><Y>-590</Y>
					<Label><X>-19</X><Y>-21</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[Media]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[recievedMessage]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[time]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<Replication><![CDATA[0]]></Replication>	
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1285812068203</Id>
					<Name><![CDATA[utilityOfficers]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-10</X><Y>-540</Y>
					<Label><X>-10</X><Y>-20</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[UtilityOfficers]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[isWarningInPlace]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[prob]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[randomNumber]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[timeOfGotMessage]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[isWorking]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[one]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[wantProbabilityGettingInvolved]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[timeToDelay]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[responseTime]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[needSpecificResponseTime]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[eventDetectionTime]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[checker]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<Replication><![CDATA[0]]></Replication>	
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1298333094422</Id>
					<Name><![CDATA[fireDepartment]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-140</X><Y>-230</Y>
					<Label><X>-30</X><Y>-40</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[FireDepartment]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[Vehicle]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[visible]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[noOfNodes]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[scallingParameter]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[graph]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[recievedMessage]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[mapping]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[timeIn]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[participation]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[participationInEffect]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[data]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[noOfRoutes]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<Replication><![CDATA[0]]></Replication>	
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
			</EmbeddedObjects>

			<Shapes>
				<Rectangle>
					<Id>1268676703405</Id>
					<Name><![CDATA[PopulationProperies]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>680</X><Y>-640</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>270</Width>
					<Height>120</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-4144960</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1268676735312</Id>
					<Name><![CDATA[EpanetNodeData]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>250</X><Y>-550</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>410</Width>
					<Height>430</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-8355840</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1268676759453</Id>
					<Name><![CDATA[EpanetNodeProcessors]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>450</X><Y>-630</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>220</Width>
					<Height>70</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-256</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1268690746061</Id>
					<Name><![CDATA[PopProperties]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>850</X><Y>-430</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>150</Width>
					<Height>260</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-8355712</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
			</Shapes>
		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1248120236708</Id>
			<Name><![CDATA[WDS]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<AdditionalClassCode><![CDATA[
	


/**
----------------------------------------------------------------------
	This class returns the element of an Array in Integer format
----------------------------------------------------------------------
		**/
public class MakeInteger{
	int[] demand;
/**
constructor
**/
	public MakeInteger(int[] d){
		this.demand = d;
	}
	int getSize(){
		int a = this.demand.length;
		return a;
	}
	int getArrayElement(int i){
	int b = this.demand[i];
	return b;
	}
}
/**
-------------------------------------------------------------------
		this class retrun the number of nodes with base demand
-------------------------------------------------------------------
		**/



//int[] nameOfNode = { 1000, 1500, 2000, 3000, 500 , 500, 500 , 500};
//int[] nameOfNode = { 5, 5, 5, 5, 5 , 5, 5 , 5};

//int[] nameOfNode= { 100, 150, 200, 300, 50 , 50, 50 , 50};
//int[] nameOfNode = { 50, 50 ,50,50,100,150,200,300};
//int[] nameOfNode = { 50, 50 ,50,50,50, 50 ,50,50};
//int[] nameOfNode = { 1, 1, 1,1, 1 , 1 , 1 , 1};
//int[] nameOfNode = { 0, 0, 0, 0, 0 , 0 , 0 , 0};
]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Import><![CDATA[import java.util.ArrayList;
import java.util.StringTokenizer;
import java.io.*;
import java.lang.*;
import javax.swing.JOptionPane;]]></Import>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>false</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="PlainVariable">
					<Id>1276445992413</Id>
					<Name><![CDATA[atmostPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1276448702773</Id>
					<Name><![CDATA[currentPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277737912552</Id>
					<Name><![CDATA[duration]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[6]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277737931444</Id>
					<Name><![CDATA[WDS_Multiplier]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>820</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double]]></Type>        
						<InitialValue><![CDATA[0.6]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277737957276</Id>
					<Name><![CDATA[injectionTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[0]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277737994780</Id>
					<Name><![CDATA[injectedConcentration]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double]]></Type>        
						<InitialValue><![CDATA[300000000]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277738028738</Id>
					<Name><![CDATA[contaminatedNode]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String]]></Type>        
						<InitialValue><![CDATA["wtpw-in"]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1287688609883</Id>
					<Name><![CDATA[qualityAtSensors]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>10</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1252363261599</Id>
					<Name><![CDATA[wantsMakeScenario]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1252363261597</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1252448162488</Id>
					<Name><![CDATA[indexForGDA]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1252448162486</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1255552806005</Id>
					<Name><![CDATA[recievedDemand]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1255552806003</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1259857975827</Id>
					<Name><![CDATA[demandReduction]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[0.4172]]></DefaultValue>
						<ParameterEditor>
							<Id>1259857975825</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1270677451044</Id>
					<Name><![CDATA[connectivityMap]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>350</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1270677451042</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1275955265822</Id>
					<Name><![CDATA[reportEpanetFile]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>320</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[String]]></Type>        
						<DefaultValue><![CDATA[System.getProperty("user.dir").concat("/M3.rpt")]]></DefaultValue>
						<ParameterEditor>
							<Id>1275955265820</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1276017563320</Id>
					<Name><![CDATA[equilibruimConditionTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[48]]></DefaultValue>
						<ParameterEditor>
							<Id>1276017563318</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1276453727274</Id>
					<Name><![CDATA[reductionflag]]></Name>
					<Description><![CDATA[WHEN IT IS FALSE IT MEANS THE REDUCTION FACTOR FOR ALL CONSUMERS ARE 0.4 CONSISTENTLY, OTHERWISE IT IS DETERMINED 
BASED ON THE CHARACTRISTICS OF THE CONSUMERS]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[true]]></DefaultValue>
						<ParameterEditor>
							<Id>1276453727272</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1276522943134</Id>
					<Name><![CDATA[ContaminationEpanetPattern]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[String]]></Type>        
						<DefaultValue><![CDATA["con"]]></DefaultValue>
						<ParameterEditor>
							<Id>1276522943132</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1289523818099</Id>
					<Name><![CDATA[isCheckedArrayBuilt]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1289523818097</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1289523833313</Id>
					<Name><![CDATA[checkedArray]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1289523833311</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1305592103506</Id>
					<Name><![CDATA[temp]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>300</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[StringBuffer]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1305592103504</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1317686737634</Id>
					<Name><![CDATA[parameter]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>250</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1317686737632</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1252442845550</Id>
					<Name><![CDATA[demandQueue]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>350</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[MakeInteger]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1257886349245</Id>
					<Name><![CDATA[nodeQualityQueue]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>350</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[double[]]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1276450787789</Id>
					<Name><![CDATA[ReductionFactor]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[double[]]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1276553030569</Id>
					<Name><![CDATA[currentPopulationQueue]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[int[]]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1390314792192</Id>
					<Name><![CDATA[pipeQuality]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>480</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[String[]]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Ports>
				<Port>
					<Id>1248120243585</Id>
					<Name><![CDATA[toGroupConsumer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>90</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[Object]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[Object]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
					<OnReceiveAction><![CDATA[
if (msg instanceof WaterDemandMessage){
	recievedDemand =((WaterDemandMessage)msg).numOfConsumer ;
	//SORT THE DEMAND ARRAY FOR EPANET BY USING CONNCECTIVITYMAP
	int[] b = Arrays.copyOf(recievedDemand,recievedDemand.length);
	for(int j = 0;j < recievedDemand.length;++j){
		for(int i=0; i<connectivityMap.length;++i)
			if(connectivityMap[i] == j){
				recievedDemand[i] = b[j]; 
				break;
			}
	}
	
	int[] a = new int[get_Main().numOfNodeInitializer];
	System.arraycopy(recievedDemand,0,a,0,recievedDemand.length);

	demandQueue.add(new MakeInteger(a));
	//System.out.println("WDS" );
	qualityMaker.start();
}
]]></OnReceiveAction>
				</Port>
				<Port>
					<Id>1298333928125</Id>
					<Name><![CDATA[hydraulicResponse]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>220</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[PublicMessage]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[Object]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
				</Port>
			</Ports>
			<StatechartElements>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1248121155946</Id>
					<Name><![CDATA[SetupWDS]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>110</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="120" Height="40">
						<EntryAction><![CDATA[
 if(Main.timeStep == 1){
 	get_Main().pleaseCallMeAtSecond();
 	
 	if(SensorNetwrok.noOfSensors != 0)
 		qualityAtSensors = new double[SensorNetwrok.sensorID.length];
 }
if (Main.timeStep == 0 ){
temp = new StringBuffer();
	traceln("TIME "+GeneratingResultOfPaper.now());
 	get_Main().pleaseCallMeBeforeEverythingElse();


/*	 	
 	for(int i=0; i< get_Main().nodeEpanetIndex.length;i++)
 		traceln("== "+ get_Main().nodeEpanetIndex[i]);
*/ 	
	
 		wdsStartup();
 		atmostPopulation = SortingPopForDemand();
 	
 }else{
 	currentPopulation = SortingPopForDemand();
 	currentPopulationQueue.add(Arrays.copyOf(currentPopulation,currentPopulation.length));
 }
]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1258133262486</Id>
					<Name><![CDATA[waterDistDriver]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>280</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="120" Height="30">
						<EntryAction><![CDATA[if(get_Main().timeStep != 0){
if(Main.timeStep ==1)
	get_Main().pleaseCallMeBeforeEverythingElse();
//System.out.println("in waterDist");
wdsDriver();
}]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1258133352409</Id>
					<Name><![CDATA[scenarioCoordinator]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>120</X><Y>190</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="140" Height="30">
						<EntryAction><![CDATA[scenarioGenarator()]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="EntryPoint" ParentState="ROOT_NODE">
					<Id>1248121152337</Id>
					<Name><![CDATA[qualityMaker]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>80</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>40</Y></Point>
					</Points>
					<Properties Target="1248121155946">
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1258133257095</Id>
					<Name><![CDATA[transition]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>80</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>130</Y></Point>
					</Points>
					<Properties Source="1248121155946" Target="1258133262486" Trigger="condition">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[!(wantsMakeScenario) ]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1258133340282</Id>
					<Name><![CDATA[transition2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>140</X><Y>120</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>60</X><Y>0</Y></Point>
						<Point><X>60</X><Y>70</Y></Point>
					</Points>
					<Properties Source="1248121155946" Target="1258133352409" Trigger="condition">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[(wantsMakeScenario)]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>false</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1258135686360</Id>
					<Name><![CDATA[transition3]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>200</X><Y>220</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>80</Y></Point>
						<Point><X>-60</X><Y>80</Y></Point>
					</Points>
					<Properties Source="1258133352409" Target="1258133262486" Trigger="timeout">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[(wantsMakeScenario && get_Main().timeStep == injectiontime)]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>false</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
			</StatechartElements>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1252363049831</Id>
					<Name><![CDATA[scenarioGenarator]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if( get_Main().timeStep == injectionTime){
	
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1258132902031</Id>
					<Name><![CDATA[wdsStartup]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
	//get_Main().SetPopulationAtEachTimeStep();
	int[] nameOfNode = Arrays.copyOf(Main.PopJustforInitialization,Main.PopJustforInitialization.length);
	int[] firstdemand = new int[Main.numOfNodeInitializer];
	for( int i=0; i < Main.numOfNodeInitializer; ++i){
		firstdemand[i] = nameOfNode[i];
	}

	demandQueue.add(new MakeInteger(firstdemand));
	
	double[] demandratio = new double[firstdemand.length];
	for(int k= 0; k < firstdemand.length;++k){
		if(nameOfNode[k] != 0 )
			demandratio[k]= firstdemand[k]/nameOfNode[k];
		else
			demandratio[k]= 1;
		}
	int[] nodeUsageIdentifierArray = new int[get_Main().numOfNodeInitializer];
	//ETypeOfNodes input2 = new ETypeOfNodes();
	
	//for (int i = 1 ; i <= Main.numOfNodeInitializer ; ++i) {
	  // nodeUsageIdentifierArray[i-1] = input2.call_nodeusage(i);
	//}
	double[] nodeQuality = new double[get_Main().numOfNodeInitializer];
	nodeQuality = EPANET(demandratio,get_Main().numOfNodeInitializer);
	get_Main().CurrentNodePopQueue.add(Arrays.copyOf(nameOfNode,
									nameOfNode.length));
	/*
	for(int k= 0; k < get_Main().numOfNodeInitializer;++k)
		traceln("quality "+k+" "+nodeQuality[k]);
	*/
	ReductionFactor.add(new double[Main.nodeID_Res.length + Main.nodeID_Com.length+
					Main.nodeID_Ind.length + Main.nodeID_NavyAir.length]);
	
	QualityMessage msgQuality = new QualityMessage(get_Main().numOfNodeInitializer,nodeQuality);
	toGroupConsumer.send(msgQuality);
	

	
	]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1258133023078</Id>
					<Name><![CDATA[wdsDriver]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
int[] generalDemandArray = new int[((Main.timeStep+1) *get_Main().numOfNodeInitializer)];
	indexForGDA = 0;
	
int[] generalDemandReduction = new int[((Main.timeStep+1) *get_Main().numOfNodeInitializer)];	
	
	for(int i=0; i < demandQueue.size(); ++i)
	{
		MakeInteger a = demandQueue.get(i);
		
		int sizeOfArray = a.getSize();
	 	
		for(int j = 0; j < sizeOfArray; ++j, ++indexForGDA){
			generalDemandArray[indexForGDA] = a.getArrayElement(j);
			
		}
	}

	
 	double[] nodeQuality = new double[get_Main().numOfNodeInitializer];

 	double[] demandratio = new double[generalDemandArray.length];
 	get_Main().CurrentNodePopQueue.add(Arrays.copyOf(currentPopulation,
									currentPopulation.length));	
 	//get_Main().CurrentNodePopQueue.add(Arrays.copyOf(get_Main().CurrentNodePopulation,
		//							Main.CurrentNodePopulation.length));	
	for(int h = 0; h <= get_Main().timeStep;++h){
		for(int k= 0; k < recievedDemand.length;++k){
           
			if((double)get_Main().CurrentNodePopQueue.get(h)[k] != 0){
				if(h != 0){
					if(reductionflag)
						demandratio[(h*get_Main().numOfNodeInitializer+k)]= ((double)currentPopulationQueue.get(h-1)[k]
															-(double)generalDemandArray[(h*get_Main().numOfNodeInitializer+k)]*
																		demandReduction)/(double)currentPopulationQueue.get(h-1)[k];
					else
						demandratio[(h*get_Main().numOfNodeInitializer+k)]= ((double)currentPopulationQueue.get(h-1)[k]
															-(double)ReductionFactor.get(h)[k])/(double)currentPopulationQueue.get(h-1)[k];
					/*if(reductionflag)
						demandratio[(h*get_Main().numOfNodeInitializer+k)]= ((double)atmostPopulation[k]
															-(double)generalDemandArray[(h*get_Main().numOfNodeInitializer+k)]*
							demandReduction)/(double)atmostPopulation[k];
					else
						demandratio[(h*get_Main().numOfNodeInitializer+k)]= ((double)atmostPopulation[k]
															-(double)ReductionFactor.get(h)[k])/(double)atmostPopulation[k];
					
				/*if(h != 0){
					if(reductionflag)
						demandratio[(h*get_Main().numOfNodeInitializer+k)]= ((double)get_Main().CurrentNodePopQueue.get(h)[k]
															-(double)generalDemandArray[(h*get_Main().numOfNodeInitializer+k)]*
							demandReduction)/(double)atmostPopulation[k];
					else
						demandratio[(h*get_Main().numOfNodeInitializer+k)]= ((double)get_Main().CurrentNodePopQueue.get(h)[k]
															-(double)ReductionFactor.get(h)[k])/(double)atmostPopulation[k];*/
					
					if(atmostPopulation[k] > generalDemandArray[(h*get_Main().numOfNodeInitializer+k)])
							new Throwable("exceeds the allowable range at".concat(Integer.toString(k)));
				/*	demandratio[(h*get_Main().numOfNodeInitializer+k)]= ((double)get_Main().CurrentNodePopQueue.get(h)[k]
														-(double)generalDemandArray[(h*get_Main().numOfNodeInitializer+k)]*
					demandReduction)/(double)get_Main().CurrentNodePopQueue.get(h)[k];*/
				}else
					demandratio[(h*get_Main().numOfNodeInitializer+k)] = 1;
			}else{ 
				demandratio[(h*get_Main().numOfNodeInitializer+k)] = 1;
			}

		}
	}


	nodeQuality = EPANET(demandratio,get_Main().numOfNodeInitializer);

	//End 
	QualityMessage msgQuality = new QualityMessage(get_Main().numOfNodeInitializer,nodeQuality);
	
	toGroupConsumer.send(msgQuality);
	
	]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[double[]]]></ReturnType>
					<Id>1275954720098</Id>
					<Name><![CDATA[EPANET]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>320</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[demandratio]]></Name>
						<Type><![CDATA[double[]]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[numOfNodes]]></Name>
						<Type><![CDATA[int]]></Type>
					</Parameter>
					<Body><![CDATA[
int sizeOfDemand = demandratio.length;
int noOfNodes = 0;

double[] nodeQuality = new double[numOfNodes];
double outDemand;
int index ,nodeCounter ;
double[] justForReport =   new double[demandratio.length];
double[] justForReport_diff =   new double[demandratio.length];
int time = Main.timeStep;
int currentTime = time;
int timeday = time/24;
if(time >= (timeday*24) ){
	time = time - timeday*24;
	}
double Demand = 0;
EPANET input3 = new EPANET();
	
	if( numOfNodes*(currentTime+1) == sizeOfDemand){
		
		input3.call_ENopen(get_Main().epanetFile,reportEpanetFile," ");
		//SET PARAMETERES
		input3.call_ENsettimeparam(0,(long)((currentTime + 1 + equilibruimConditionTime)*3600));
		//traceln("set time "+input3.call_ENgettimeparam(0));
		input3.call_ENsetoption(4,(float)WDS_Multiplier);
		long t , tstep =0;
		int timeDriver = 0;
		
		noOfNodes = input3.call_ENgetcount(0) + input3.call_ENgetcount(1);
		//HYDRAULIC CHARACTRISTIC CHANGE
		Demand = 0;
		for(int j=1+equilibruimConditionTime; j <= Main.timeStep+equilibruimConditionTime; ++j){
			nodeCounter = 0;
			for(int i=1; i <= noOfNodes; ++i){
				outDemand = input3.call_ENgetnodevalue(i,1);
				if(outDemand != 0){
					++nodeCounter;
					int indexPattern = (int)input3.call_ENgetnodevalue(i,2);
					double patternValue = input3.call_ENgetpatternvalue(indexPattern,j);
					//EHSAN, IF YOU LOOKING FORWARD TO THE WHERE THE REDUCTION FACTORS IS BEING TAKEN CARE 
					//IT IS IN WATERDRIVERS FUNCTION
					
					if(!Main_Optimization.needNoHydChange){
						patternValue = patternValue * demandratio[((j-equilibruimConditionTime-1)*numOfNodes+nodeCounter)];
						input3.call_ENsetpatternvalue(indexPattern,j,(float)patternValue);
					}
					//if(j == Main.timeStep+equilibruimConditionTime){
					//	Demand += outDemand * patternValue;
					//}
				}
			
			}
		}
		//traceln("Demand "+Main.timeStep+": "+Demand);
		//CONTAMINATION
		int indexContaminatedPattern = input3.call_ENgetpatternindex(ContaminationEpanetPattern);
		
		int indexContaminatedNode =  input3.call_ENgetnodeindex(contaminatedNode);
		
		input3.call_ENsetnodevalue(indexContaminatedNode,6,indexContaminatedPattern);
		for(int j=1+equilibruimConditionTime; j <= Main.timeStep+equilibruimConditionTime; ++j){
			if(j >= (injectionTime+equilibruimConditionTime) && j < (injectionTime+duration+equilibruimConditionTime)){
				//traceln("Duration "+duration+" injected "+injectedConcentration+" Time "+Main.timeStep);
				input3.call_ENsetpatternvalue(indexContaminatedPattern,j,1);
				float value = (float)(injectedConcentration / (60*duration));
				//traceln("Duration "+duration+" injected "+injectedConcentration+" Time "+Main.timeStep+" value "+value);
				input3.call_ENsetnodevalue(indexContaminatedNode,5,value);
				input3.call_ENsetnodevalue(indexContaminatedNode,7,1);
			}		
		}
		//HYDRAULIC RUN 
		input3.call_ENsolveH();
	/*	input3.call_ENopenH();
		input3.call_ENinitH(1);
		do{ 
			index =1;
			nodeCounter =0;			
			t= input3.call_ENrunH();
		    if(t >= (injectionTime * 3600) && t <= (injectionTime+duration)*3600){
				//traceln("here "+injectedConcentration / duration);
				int indexContaminatedNode =  input3.call_ENgetnodeindex(contaminatedNode);
				input3.call_ENsetnodevalue(indexContaminatedNode,5,(float)(injectedConcentration / duration));
				input3.call_ENsetnodevalue(indexContaminatedNode,6,1);
				input3.call_ENsetnodevalue(indexContaminatedNode,7,1);
			}
		    for(int y=0; y<noOfNodes; ++y,++index){
		    	outDemand = input3.call_ENgetnodevalue(index,1);
				if(outDemand !=0){
	//traceln("time "+Main.timeStep+" is "+timeDriver*numOfNodes+"  " +nodeCounter+" t "+t+" tstep "+tstep);
					double newDemand = outDemand * demandratio[(timeDriver*numOfNodes+nodeCounter)];
					if(timeDriver == currentTime-1)
						Demand += newDemand;
					input3.call_ENsetnodevalue(index,1,(float)newDemand);	
					++nodeCounter;
				}	
			}
			if(timeDriver * numOfNodes == t)
				traceln("here To Check" + t);
			tstep = input3.call_ENnextH();
			++timeDriver;
		}while (tstep > 0);
		traceln("Demand is "+Demand+" at "+Main.timeStep);
		input3.call_ENcloseH();*/

		// QUALITY
	
		input3.call_ENopenQ();
		input3.call_ENinitQ(0);
		
		do{ 
		t = input3.call_ENrunQ();    
		tstep = input3.call_ENnextQ();
		
		}  while (tstep > 0);
		input3.call_ENcloseQ();
		//GET QUALITY OF WATER
		
		index =1;
		SensorNetwrok sensorNetwrok = null;
		nodeCounter = 0;
		
		for(int y=0; y<noOfNodes; ++y,++index){
				outDemand = input3.call_ENgetnodevalue(index,1);
				
				//UPDATE THE QUALITY OF THE WATER AT NETWORK'S SENSORS
		if(SensorNetwrok.noOfSensors != 0)	
			if(Main.timeStep >= 2)
				if(SensorNetwrok.sensorID.length != 0){
					for(int tt = 0; tt < qualityAtSensors.length;++tt){
						if((index == input3.call_ENgetnodeindex(sensorNetwrok.sensorID[tt]) && get_Main().timeStep != 0))
							qualityAtSensors[tt] = input3.call_ENgetnodevalue(index,12);
					}
				}
				//END SENSOR QUALITY UPDATE 
				if(input3.call_ENgetnodevalue(index,12) > 0.015 ){
					//String s = "Time "+Main.timeStep+" Index "+ index+" q "+input3.call_ENgetnodevalue(index,12)+"\n";
						
						temp.append("Time ").
						append(Integer.toString(Main.timeStep))
						.append(" Index ").
						append(Integer.toString(index))
						.append(" q ").append(Double.toString(input3.call_ENgetnodevalue(index,12)))
						.append("\n");
						
				}
				if(Main.timeStep == getEngine().getStopTime()){
				try {
					FileWriter file= new FileWriter(System.getProperty("user.dir").concat("/quality.qul"));
					BufferedWriter writer = new BufferedWriter(file);
					writer.write(temp.toString());
					writer.close();
					}
					catch(Exception e){
					
					}
				}
				if(outDemand !=0 ){
					//temp
					
					 nodeQuality[nodeCounter]= input3.call_ENgetnodevalue(index,12);
					//traceln("node Quality "+nodeQuality[nodeCounter]);
					++nodeCounter;
				}
		}  
		

		
	
			
		index =1;
		nodeCounter = 0;
		//CONNECTIVITY ARRAY
		if(Main.timeStep == 0){
			int[] nodeIndices =  new int[Main.TerminalNodeID.length];
		
			for(int y=0; y<noOfNodes; ++y){
			//while(input3.call_ENgetnodevalue(index,1) == 0){
				outDemand = input3.call_ENgetnodevalue(index,1);
			
				if(outDemand !=0){
		//			traceln("index " + index);
					nodeQuality[nodeCounter] = input3.call_ENgetnodevalue(index,12);
					nodeIndices[nodeCounter] = index;
					

					++nodeCounter;
				}
				++index;
			}
			connectivityMap = new int[nodeQuality.length];
			//for(int i=0 ; i < nodeQuality.length;++i)
				
				
			//CREATE CONNECTIVITY ARRAY
			for(int i=0 ; i < nodeIndices.length;++i){
				for(int j=0; j < Main.terminalNodesIndexes.length;++j){
					if(nodeIndices[i] == Main.terminalNodesIndexes[j]){
						connectivityMap[i] = j;
						break;
					}
				}
			}
		//TEST CONNECTIVITY MAP
	/*	for(int i=0 ; i < connectivityMap.length;++i){
			traceln("Connect " +connectivityMap[i]);
		}*/
		
		}else{
		//END
		/***
			for(int y=0; y<noOfNodes; ++y){
			//while(input3.call_ENgetnodevalue(index,1) == 0){
				outDemand = input3.call_ENgetnodevalue(index,1);
				//if(index ==123)
						//System.out.println( "quality "+input3.call_ENgetnodevalue_QUALITY(index));
				if(outDemand !=0 ){

					 nodeQuality[nodeCounter]= input3.call_ENgetnodevalue(index,12);
					traceln("node Quality "+nodeQuality[nodeCounter]);

					++nodeCounter;
				}
				++index;
			}*/
		}	
			input3.call_ENclose();
		double[] tempForSorting = new double[nodeQuality.length];

		for(int i=0 ; i < nodeQuality.length;++i){
			tempForSorting[connectivityMap[i]] = nodeQuality[i];
		}
		nodeQuality = Arrays.copyOf(tempForSorting,tempForSorting.length);
		nodeQualityQueue.add(nodeQuality);
		//if(currentTime == getEngine().getStopTime())
				//writeQualityFile();
	

			
	}else{
		JOptionPane.showMessageDialog(null,"Error in initialization, check the Epanet Function");
		for(int j =0; j < nodeQuality.length;++j){
		nodeQuality[j] = 0.2;
		
		}
	}
	//if((Main.Sick+Main.Media+Main.WOM) > 130000)
	//	getEngine().setStopTime(Main.timeStep+1);
	//traceln("Quality before "+nodeQuality[277]);

	
	return nodeQuality;
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[int[]]]></ReturnType>
					<Id>1276445916507</Id>
					<Name><![CDATA[SortingPopForDemand]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[int[] a = new int[Main.nodeID_Res.length + Main.nodeID_Com.length+
					Main.nodeID_Ind.length + Main.nodeID_NavyAir.length];
switch(Main.timeStep){
	case(0):
		{
		int generalCounter_temp = 0;
		for(int i=0;i < a.length;++i,++generalCounter_temp){
			//RESIDENTIAL
			if(generalCounter_temp < Main.Population_Res.length)
				a[generalCounter_temp] = Main.Population_Res[i];
			//COMMERCIAL	
			if(generalCounter_temp >= Main.Population_Res.length && 
					generalCounter_temp < (Main.Population_Res.length+
												Main.Population_Com.length) )
				a[generalCounter_temp] = Main.Population_Com[i-Main.Population_Res.length];
			//INDUSTRIAL	
			if(generalCounter_temp >= (Main.Population_Res.length+Main.Population_Com.length) && 
					generalCounter_temp < (Main.Population_Res.length+
												Main.Population_Com.length +Main.Population_Ind.length))
				a[generalCounter_temp] = Main.Population_Ind[i-(Main.Population_Res.length+Main.Population_Com.length)];
			//NAVY
			if(generalCounter_temp >= (Main.Population_Res.length+
												Main.Population_Com.length +Main.Population_Ind.length) && 
					generalCounter_temp < a.length)
				a[generalCounter_temp] = Main.Population_NavyAir[i-(Main.Population_Res.length+
												Main.Population_Com.length +Main.Population_Ind.length)];	
	
		}

	
		//SORTING AND ORGANIZING OF THE DEMAND POPULATION
		int[] b = Arrays.copyOf(a,a.length);
		for(int j = 0;j < b.length;++j){
			for(int i=0; i<connectivityMap.length;++i)
				if(connectivityMap[i] == j){
					a[i] = b[j]; 
					break;
				}
		}
		return a;
		}
	default:
		//test
		if(ConsumerAtHome.numOfConsumerAtTimeInNodes.length != a.length)
			new Throwable("WOOPS, THAT IS NOT GOOD, CHECK");
		double[] t = new double[ConsumerAtHome.numOfConsumerAtTimeInNodes.length];
		int counter = 0;
		for(int i=0;i < ConsumerAtHome.numOfConsumerAtTimeInNodes.length;++i){
			int generalcounter = ConsumerAtHome.numOfConsumerAtTimeInNodes[i];
			double h = 0;
			for(int j=0; j<generalcounter;++j,++counter){
				h += GroupConsumer.reductionFactor[counter] * 0.01;
			}
			t[i] = h;
			//traceln("value of h "+h);	
		}
		ReductionFactor.add(t);
		//SORTING THE REDUCTION FACTOR
		double[] q = Arrays.copyOf(t,t.length);
		for(int j = 0;j < t.length;++j){
			for(int i=0; i<connectivityMap.length;++i)
				if(connectivityMap[i] == j){
					t[i] = q[j];
					break;
				}
		}
		//SORTING POPULATION
		int[] b = Arrays.copyOf(ConsumerAtHome.numOfConsumerAtTimeInNodes,ConsumerAtHome.numOfConsumerAtTimeInNodes.length);
		for(int j = 0;j < b.length;++j){
			for(int i=0; i<connectivityMap.length;++i)
				if(connectivityMap[i] == j){
					a[i] = b[j]; 
					break;
				}
		}
		return a;
	
}
	]]></Body>
				</Function>
			</Functions>

			<Shapes>
				<Rectangle>
					<Id>1275953667232</Id>
					<Name><![CDATA[Scenario]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>730</X><Y>40</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>190</Width>
					<Height>170</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-256</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1285209869688</Id>
					<Name><![CDATA[rectangle]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>0</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>130</Width>
					<Height>20</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-16711936</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
			</Shapes>
		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1248119203433</Id>
			<Name><![CDATA[GroupConsumer]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<AdditionalClassCode><![CDATA[/**
 	This class are carrying the volume and weight of each consumer, it can be  used for both
of them 
**/
class TwoInteger{
private int order;
private int nodeNameOrder;
public TwoInteger(int order, int nodeNameorder){
	order = order;
	nodeNameorder = nodeNameorder;
}
public int getOrder(){
	return order;
	}
public int getNodeNameOrder(){
	return nodeNameOrder;
	}
}
public class WeightAndVolume{
	double[] group1,group2,group3,group4,group5,group6,group7,group8,group9,group10,group11;
	
	//******construction******/
	public WeightAndVolume(double[] g1,double[] g2,double[] g3,double[] g4,double[] g5,double[] g6,double[] g7,double[] g8,double[] g9,double[] g10,double[] g11){
		this.group1 = g1;
		this.group2 = g2;
		this.group3 = g3;
		this.group4 = g4;
		this.group5 = g5;
		this.group6 = g6;
		this.group7 = g7;
		this.group8 = g8;
		this.group9 = g9;
		this.group10 = g10;
		this.group11 = g11;
	}
	public double[] getWeightArray(int groupindex){
	// the following array is just for returning at least sth if switch case does not work
	double[] a = {1,2};
		switch(groupindex){
			
			case(0):return this.group1;
					
			case(1):return this.group2;
											
			case(2):return this.group3;
					
			case(3):return this.group4;
					
			case(4):return this.group5;
					
			case(5):return this.group6;
					
			case(6):return this.group7;
					
			case(7):return this.group8;
					
			case(8):return this.group9;
					
			case(9):return this.group10;
					
			case(10):return this.group11;
			
			default: System.out.println("Error in weight function of Weight class");
			return a;
					
		}
	}
				
}
/**
	New class for organizing the population of the model
**/
public class GenderPopulation{
	int[] female;
	int[] male;
	String[] groupDefinition;
	
	//******construction******/
	 public GenderPopulation(int[]female, int[] male, String[] ageGroup){
		this.female = female;
		this.male = male;
		this.groupDefinition = ageGroup;
	}
	
	public int[] getGenderNoArray( String femaleOrmale){
		if(femaleOrmale == "female"){
			return this.female;
		}else{

			return this.male;
			
		}
	}
	public String[] getGenderAgeBound(){
	return this.groupDefinition;
	}
}
]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Import><![CDATA[import java.io.*;
import java.lang.*;]]></Import>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>false</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="PlainVariable">
					<Id>1248194719144</Id>
					<Name><![CDATA[numOfNode]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-940</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1248912228785</Id>
					<Name><![CDATA[nodeCounter]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-940</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[0]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1249084212499</Id>
					<Name><![CDATA[demandMessage]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-940</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1276442552835</Id>
					<Name><![CDATA[reductionFactor]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-830</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1276817892293</Id>
					<Name><![CDATA[consumerHashMap]]></Name>
					<Description><![CDATA[FROM (KEY) CLUSTER TO WATER_QUEUE (VALUE)]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1140</X><Y>-80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[HashMap]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1279314138916</Id>
					<Name><![CDATA[population]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-950</X><Y>-20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1284216891532</Id>
					<Name><![CDATA[consumerAtNodes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1284223192485</Id>
					<Name><![CDATA[consumerGhostIndex]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524479453</Id>
					<Name><![CDATA[bottled]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-270</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524493139</Id>
					<Name><![CDATA[boiling]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-270</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524506997</Id>
					<Name><![CDATA[chlorine]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-270</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524520214</Id>
					<Name><![CDATA[filter]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-270</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524530497</Id>
					<Name><![CDATA[heater]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-270</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524562581</Id>
					<Name><![CDATA[bottled1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-190</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524562583</Id>
					<Name><![CDATA[boiling1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-190</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524562585</Id>
					<Name><![CDATA[chlorine1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-190</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524562587</Id>
					<Name><![CDATA[filter1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-190</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1289524562589</Id>
					<Name><![CDATA[heater1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-190</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1373982809273</Id>
					<Name><![CDATA[broadcastTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1250</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[1000]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1374340521894</Id>
					<Name><![CDATA[needBostonData]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1260</X><Y>-20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue><![CDATA[true]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1374340563174</Id>
					<Name><![CDATA[isCollegeCity]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1260</X><Y>10</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue><![CDATA[false]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1248119551673</Id>
					<Name><![CDATA[qualityProfileOfNodes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-470</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1248119551671</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1248119553688</Id>
					<Name><![CDATA[numOfConsumerAtNodes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-470</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1248119553686</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1248120041419</Id>
					<Name><![CDATA[threshold]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-470</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[0.0]]></DefaultValue>
						<ParameterEditor>
							<Id>1248120041417</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1249255619046</Id>
					<Name><![CDATA[wDSMessage]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-470</X><Y>-20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[String]]></Type>        
						<DefaultValue><![CDATA["The Message does not receive from WDS"]]></DefaultValue>
						<ParameterEditor>
							<Id>1249255619030</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1257267060440</Id>
					<Name><![CDATA[totalPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-470</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1257267060424</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1257295712989</Id>
					<Name><![CDATA[maleWeight]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-270</X><Y>-90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[WeightAndVolume]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1257295712987</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1257295749537</Id>
					<Name><![CDATA[femaleWeight]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-270</X><Y>-70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[WeightAndVolume]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1257295749535</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1257627601885</Id>
					<Name><![CDATA[maleDrinkingVolume]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-270</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[WeightAndVolume]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1257627601883</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1257627635980</Id>
					<Name><![CDATA[femaleDrinkingVolume]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-270</X><Y>-30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[WeightAndVolume]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1257627635978</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1258381589157</Id>
					<Name><![CDATA[reportFileForAgents]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-860</X><Y>-20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[String]]></Type>        
						<DefaultValue><![CDATA[System.getProperty("user.dir").concat("/report")]]></DefaultValue>
						<ParameterEditor>
							<Id>1258381589155</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1260306566522</Id>
					<Name><![CDATA[VorM]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-470</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[char]]></Type>        
						<DefaultValue><![CDATA['M']]></DefaultValue>
						<ParameterEditor>
							<Id>1260306566520</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1269467297194</Id>
					<Name><![CDATA[cityTravelCoefficent]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-470</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[0.00002]]></DefaultValue>
						<ParameterEditor>
							<Id>1269467297192</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1276611248761</Id>
					<Name><![CDATA[availableConsumers]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-470</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1276611248759</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1276820414451</Id>
					<Name><![CDATA[consumerReverseHashMap]]></Name>
					<Description><![CDATA[FROM WATER_QUEUE (KEY) TO CLUSTER (VALUE)]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1140</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[HashMap]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1276820414449</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277133074632</Id>
					<Name><![CDATA[hashMapBasedOnClusterNo]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1140</X><Y>-120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[HashMap]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277133074630</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277319872103</Id>
					<Name><![CDATA[user_NeedCWS]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-970</X><Y>-120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[true]]></DefaultValue>
						<ParameterEditor>
							<Id>1277319872087</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277475460387</Id>
					<Name><![CDATA[consumerRatio_TypeA]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-510</X><Y>-240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[0.05]]></DefaultValue>
						<ParameterEditor>
							<Id>1277475460370</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277475485529</Id>
					<Name><![CDATA[consumerRatio_TypeB]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-510</X><Y>-220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[0.15]]></DefaultValue>
						<ParameterEditor>
							<Id>1277475485527</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277475501076</Id>
					<Name><![CDATA[consumerRatio_TypeC]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-510</X><Y>-200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[0.25]]></DefaultValue>
						<ParameterEditor>
							<Id>1277475501074</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277475519013</Id>
					<Name><![CDATA[consumerRatio_TypeD]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-510</X><Y>-180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[0.55]]></DefaultValue>
						<ParameterEditor>
							<Id>1277475519011</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277475647421</Id>
					<Name><![CDATA[user_needWOM]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-970</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[true]]></DefaultValue>
						<ParameterEditor>
							<Id>1277475647419</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277476014787</Id>
					<Name><![CDATA[noChangeAtTimesteps]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-300</X><Y>10</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[5]]></DefaultValue>
						<ParameterEditor>
							<Id>1277476014785</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277476014790</Id>
					<Name><![CDATA[change]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-300</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[1]]></DefaultValue>
						<ParameterEditor>
							<Id>1277476014788</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277476014793</Id>
					<Name><![CDATA[stopDrinkingRecord]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-220</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277476014791</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277476014796</Id>
					<Name><![CDATA[timeStartToCheck]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-300</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[1000]]></DefaultValue>
						<ParameterEditor>
							<Id>1277476014794</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277476014799</Id>
					<Name><![CDATA[stopCriteriaFlag]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-180</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1277476014797</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284157157736</Id>
					<Name><![CDATA[noOfHouseHolds]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284157157734</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284215211829</Id>
					<Name><![CDATA[populationAtWorkandHome]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284215211812</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1288133312402</Id>
					<Name><![CDATA[isWarningPlaced]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1260</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1288133312400</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1290370284548</Id>
					<Name><![CDATA[isWaterUtilityOrPublicHealthPersonnel]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1260</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1290370284546</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1290370323581</Id>
					<Name><![CDATA[isMedia]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1260</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1290370323577</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1290370392899</Id>
					<Name><![CDATA[isEllectedOfficial]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1260</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1290370392897</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1290372028009</Id>
					<Name><![CDATA[isImmidiateFamily]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1260</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1290372028007</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1305559798482</Id>
					<Name><![CDATA[timeOfWarningbyMedia]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-990</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1305559798480</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1256076049736</Id>
					<Name><![CDATA[waterRequest_queue]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-690</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Consumer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1277134453272</Id>
					<Name><![CDATA[clusters]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-970</X><Y>-80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Cluster]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1277138082009</Id>
					<Name><![CDATA[candidateForWOM]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1140</X><Y>-60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Consumer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1284156480938</Id>
					<Name><![CDATA[consumerQueue]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Consumer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1285032593266</Id>
					<Name><![CDATA[ChangedConsumer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-690</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Consumer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1350056834324</Id>
					<Name><![CDATA[clusterCollector]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1100</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Ports>
				<Port>
					<Id>1248119863486</Id>
					<Name><![CDATA[toWDS]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-920</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
					<OnReceiveAction><![CDATA[//traceln("here at GC");

user_needWOM = Main_Optimization.needWOM;
if(msg instanceof QualityMessage){

 	qualityProfileOfNodes =((QualityMessage)msg).quality ;
 	 //numOfConsumerAtNodes =((QualityMessage)msg).numberOfConsumerAtEachNodes ;	//temp19
	 numOfNode =((QualityMessage)msg).numOfNode ;	 
	 
}

//END
consumerAtHome.nodesQuality = qualityProfileOfNodes;

//traceln("Quality at Conumser "+consumerAtHome.nodesQuality[24]);
if(Main.timeStep == 0)
	numOfConsumerAtNodes = Arrays.copyOf(Main.PopJustforInitialization,Main.PopJustforInitialization.length);
	


	


//System.out.println(" before");
setInitialization();
consumerAtHome.numOfConsumerAtTimeInNodes = Arrays.copyOf(numOfConsumerAtNodes,numOfConsumerAtNodes.length);	
Main.CurrentNodePopulation =  Arrays.copyOf(numOfConsumerAtNodes,numOfConsumerAtNodes.length);	
	//WordOfMouth.wordOfMouthControler = true;
	create_Qevent(1,consumerAtHome);
	//WordOfMouth.wordOfMouthControler = false;

]]></OnReceiveAction>
				</Port>
				<Port>
					<Id>1286138109344</Id>
					<Name><![CDATA[fromMedia]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-990</X><Y>80</Y>
					<Label><X>-20</X><Y>20</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[MediaMessage]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[Object]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
					<OnReceiveAction><![CDATA[if(msg instanceof MediaMessage){
	
	isWarningPlaced = ((MediaMessage)msg).warning;
	
	timeOfWarningbyMedia = ((MediaMessage)msg).effectiveTimes[0];
	
	//traceln("INSIIIIIIIIIIIIIIIIIIIIIIDEEEEEEEEEEEEEEEEEEEEEEEEEEEE "+isWarningPlaced+" Time "+Main.timeStep);
	if(isWarningPlaced){
		isMedia = true;
		isWaterUtilityOrPublicHealthPersonnel = true;
	}else{
		isMedia = false;
		isWaterUtilityOrPublicHealthPersonnel = false;
	}
}
]]></OnReceiveAction>
				</Port>
			</Ports>
			<DynamicEvents>
				<DynamicEventClass>
					<Id>1254840214695</Id>
					<Name><![CDATA[Qevent]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-790</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[consumer]]></Name>
						<Type><![CDATA[ConsumerAtHome]]></Type>
					</Parameter>
					<Action><![CDATA[//System.out.println(" b one step");
//AT THIS STAGE, THE WORD OF MOUTH AGENT IS BUILT IF A CONSUMER OF ANY CLUSTER GETS SICK

wOMCreator();
//END
updateRunner();
//consumerAtHome.numOfConsumerAtTimeInNodes = Arrays.copyOf(populationAtWorkandHome,populationAtWorkandHome.length);
consumerAtHome.ingestion.start();

if((Main.timeStep+1) ==  getEngine().getStopTime())
	call_reporting();
 


//END	
//SEND THE DEMAND TO WDS
WaterDemandMessage dm = new WaterDemandMessage(demandMessage);

++Main.timeStep;

toWDS.send(dm);]]></Action>
				</DynamicEventClass>
			</DynamicEvents>
			<Functions>
				<Function AccessType="private" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1256076312818</Id>
					<Name><![CDATA[consumerGenaration]]></Name>
					<Description><![CDATA[*** this function should be modified whenever the moblity added to the simulation ***]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[consumerNoAtNodes]]></Name>
						<Type><![CDATA[int[]]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[nodeName]]></Name>
						<Type><![CDATA[String[]]]></Type>
					</Parameter>
					<Body><![CDATA[	GenderPopulation genderPopulation  = calculateTotalPopulation(numOfConsumerAtNodes);
	int[] female = genderPopulation.getGenderNoArray("female");
	int[] male = genderPopulation.getGenderNoArray("male");
	String[] age = genderPopulation.getGenderAgeBound();
	int genderGroupSize = male.length;
	int[] femaleCounter = new int[genderGroupSize];
	int[] maleCounter   = new int[genderGroupSize];
	int counter = 0;

	consumerWieght(female,male);
	drinkingVolume(female,male);
		
	int seed = 0, counters = 0;
	
	double weight = 0,volume  = 0;
	VorM = Main_Optimization.VorM;
	
	ArrayList<Double[]> dL = new ArrayList<Double[]>();
	for(int i=0;i < totalPopulation;++i){
		Double[] a = new Double[6];
		if(!Main_Optimization.needDeterministicTimes){
		double[] drinkingWater = Main.calculateMealArray();
		
		a[0] = drinkingWater[0];
		a[1] = drinkingWater[1];
		a[2] = drinkingWater[2];
		a[3] = drinkingWater[3];
		a[4] = drinkingWater[4];
		a[5] = drinkingWater[5];
		}else{
		a[0] = 0.5;
		a[1] = Main_Optimization.Times[0];
		a[2] = Main_Optimization.Times[1];
		a[3] = Main_Optimization.Times[2];
		a[4] = Main_Optimization.Times[3];
		a[5] = Main_Optimization.Times[4];
		}
		dL.add(a);
	}
	/**
		INITIALIZE THE POP. OF Ind NODES JUST WITH CONSUMERS AT AGE RANGE OF 25-65
	**/
	/*for(int i = 0; i <consumerNoAtNodes.length  ;++i){
		traceln(" consumer "+ consumerNoAtNodes[i] +" "+nodeName[i]);
		}*/
	int navySize = Main.nodeID_NavyAir.length;
	int indSize = Main.nodeID_Ind.length;
	
	int counterDamnit = nodeName.length;
	
	for(int i = 0; i < (Main.nodeID_Ind.length+Main.nodeID_NavyAir.length) ;++i, --counterDamnit){
		
		if(i >= Main.nodeID_NavyAir.length){
			
			int owner = consumerNoAtNodes[counterDamnit-1];
			
			for(int j=0; j < owner;++j){
			
				//	double[] drinkingWater = Main.calculateMealArray();	
				Double[] d = dL.get(counter); 
				++counter;
				double[] drinkingWater = new double[6];
				drinkingWater[0] = d[0];
				drinkingWater[1] = d[1];
				drinkingWater[2] = d[2];
				drinkingWater[3] = d[3];
				drinkingWater[4] = d[4];
				drinkingWater[5] = d[5];
		
				String gender =  "false";
				while(gender.equals("false")){
					Random random = new Random();
					int randomNo = random.nextInt(2) + 1;
					seed = randomNo + 7;
					//System.out.println("seed " +seed);
					Random random1 = new Random();
					int genderRandom;
					if( random1.nextInt(100) >= 50){
						genderRandom = 0;
					}else{
						genderRandom = 1;
					}
					
					if(genderRandom == 0){
				//System.out.println("female counter " + femaleCounter[randomNo]);
						if(femaleCounter[randomNo] < (female[randomNo])){
							gender = "Female";
							//System.out.println("ran " +randomNo);
							weight = femaleWeight.getWeightArray(randomNo)[femaleCounter[randomNo]];
							switch(VorM){
								case('V'):
									volume = femaleDrinkingVolume.getWeightArray(randomNo)[femaleCounter[randomNo]];
									break;
								case('M'):
									volume = Main_Optimization.ingestingVolume;
									break;
				  			}	
							++femaleCounter[randomNo];
					
						
						}
				}else{
				//System.out.println("male counter " + maleCounter[randomNo]);
					if(maleCounter[randomNo] < (male[randomNo])){
						gender = "Male";
					//	System.out.println("ran " +randomNo);
						weight = maleWeight.getWeightArray(randomNo)[maleCounter[randomNo]];
						switch(VorM){
							case('V'):
								 volume = maleDrinkingVolume.getWeightArray(randomNo)[maleCounter[randomNo]];
								break;
							case('M'):
								volume = Main_Optimization.ingestingVolume;
								break;
			  			}	

						++maleCounter[randomNo];
						}
				}
			
			}


			Consumer eachConsumerBuilder = new Consumer(drinkingWater, nodeName[counterDamnit-1],
			 j,gender,age[seed],weight,volume);
			 eachConsumerBuilder.setSecondPlace("joking");
			
			waterRequest_queue.add(eachConsumerBuilder);
			++counters;
			}
		}
	}
	
	//END OF INTIALIZATION OF Ind NODES
	
	//INITIALIZE THE CONSUMER AT RESIDENTIAL
	for(int i=0; i < nodeName.length-navySize-indSize; ++i){
			int owner = consumerNoAtNodes[i];
			
			for(int j=0; j < owner;++j){
			
				//	double[] drinkingWater = Main.calculateMealArray();	
				Double[] d = dL.get(counter); 
				++counter;
				double[] drinkingWater = new double[6];
				drinkingWater[0] = d[0];
				drinkingWater[1] = d[1];
				drinkingWater[2] = d[2];
				drinkingWater[3] = d[3];
				drinkingWater[4] = d[4];
				drinkingWater[5] = d[5];
		
				String gender =  "false";
				while(gender.equals("false")){
					Random random = new Random();
					int randomNo = random.nextInt(genderGroupSize);
					seed = randomNo;
					//System.out.println("seed " +seed);
					Random random1 = new Random();
					int genderRandom;
					if( random1.nextInt(100) >= 50){
						genderRandom = 0;
					}else{
						genderRandom = 1;
					}

					if(genderRandom == 0){
				//System.out.println("female counter " + femaleCounter[randomNo]);
						if(femaleCounter[randomNo] < (female[randomNo])){
							gender = "Female";
							//System.out.println("ran " +randomNo);
							weight = femaleWeight.getWeightArray(randomNo)[femaleCounter[randomNo]];
							switch(VorM){
								case('V'):
									volume = femaleDrinkingVolume.getWeightArray(randomNo)[femaleCounter[randomNo]];
									break;
								case('M'):
									volume = Main_Optimization.ingestingVolume;
									break;
				  			}	
							++femaleCounter[randomNo];
					
						
						}
				}else{
				//System.out.println("male counter " + maleCounter[randomNo]);
					if(maleCounter[randomNo] < (male[randomNo])){
						gender = "Male";
					//	System.out.println("ran " +randomNo);
						weight = maleWeight.getWeightArray(randomNo)[maleCounter[randomNo]];
						switch(VorM){
							case('V'):
								 volume = maleDrinkingVolume.getWeightArray(randomNo)[maleCounter[randomNo]];
								break;
							case('M'):
								volume = Main_Optimization.ingestingVolume;
								break;
			  			}	

						++maleCounter[randomNo];
						}
				}
			
			}


			Consumer eachConsumerBuilder = new Consumer(drinkingWater, nodeName[i],
			 j,gender,age[seed],weight,volume);
			 eachConsumerBuilder.setSecondPlace("joking");
			
			waterRequest_queue.add(eachConsumerBuilder);
			++counters;
			}
			
	
	}
	
	
	//REDUCTION FACTOR
	for(int i=0; i< waterRequest_queue.size();++i)
		waterRequest_queue.get(i).assignReduction();
	
	//END
	//System.out.println("generated consumer counter is " +counters+" "+waterRequest_queue.size() );
	//THIS PART JUST ADD UNCERTAINTY TO THE SIMULATION 
//	WoMInitialization();
	{	
	ArrayList<Consumer> listOfConsumer = new ArrayList<Consumer>();
	for (int i = 0; i < Main.TerminalNodeID.length; i++) {
		for (int j = 0; j < waterRequest_queue.size(); j++) {
			if(Main.TerminalNodeID[i].equals(waterRequest_queue.get(j).getFirstPlace())){
				listOfConsumer.add(waterRequest_queue.get(j));
				waterRequest_queue.remove(j--);
				
			}
		}	
	}

	waterRequest_queue.addAll(listOfConsumer);
	}
	//MOBILITY SETTING UP
	organizeConsumerMobility(female,male);
	if(!Main_Optimization.needMobility){
		for(int i=0; i< waterRequest_queue.size();++i){
			waterRequest_queue.get(i).setSecondPlace("Home");
			waterRequest_queue.get(i).setWorkingNodeType("RES");
			waterRequest_queue.get(i).setworkingHour(0);
			waterRequest_queue.get(i).setStartToWork(0);			
		}
	}
	//END
	//GIVING CONSUMER CONSECUTIVE NUMBER 
	{
	ArrayList<Consumer> listOfConsumer = new ArrayList<Consumer>();
	
	int[] population = new int[Main.TerminalNodeID.length];
	for (int i = 0; i < Main.TerminalNodeID.length; i++) {
		for (int j = 0; j < waterRequest_queue.size(); j++) {
			if(Main.TerminalNodeID[i].equals(waterRequest_queue.get(j).getFirstPlace())){
				listOfConsumer.add(waterRequest_queue.get(j));
				waterRequest_queue.remove(j--);
				++population[i];
			}
		}	
	}
	this.population = Arrays.copyOf(population,population.length);	
	waterRequest_queue.addAll(listOfConsumer);
	
	
	if(Main.timeStep ==0)
		for(int i=0; i< waterRequest_queue.size();++i){
			waterRequest_queue.get(i).setOwnerNumber(i);
			waterRequest_queue.get(i).setTimeOfWatchingTVandLiesteningRadio(isCollegeCity);
			if(needBostonData)	
				waterRequest_queue.get(i).setTimeOfWatchingTVandLiesteningRadio_Boston();
		}
	{//NEW MOBILITY SETTING

	ArrayList<Consumer> a = new ArrayList<Consumer>();
	ArrayList<Consumer> b = new ArrayList<Consumer>();
	
	for(int i=0; i<waterRequest_queue.size();++i){
		waterRequest_queue.get(i).setOwnerNumber(i);
		waterRequest_queue.get(i).setGhostIndex(i,0);
		waterRequest_queue.get(i).setGhostIndex(-1,1);
		if(waterRequest_queue.get(i).getSecondPlace().equals("Home") || 
		waterRequest_queue.get(i).getSecondPlace().equals(waterRequest_queue.get(i).getFirstPlace()))
			waterRequest_queue.get(i).setGhostIndex(i/*20000000*/,1);
		waterRequest_queue.get(i).setTimeOfDrinking();
	}
	b.addAll(waterRequest_queue);

	a.addAll(waterRequest_queue);
		
	if(b.size() != 0)
		new Throwable("SIZE NOT SATISFIED ERROR");
	b.addAll(a);
	for(int i= Main.nodeID_Res.length; i< Main.TerminalNodeID.length;++i){
		for(int j=0; j <b.size();++j){
			if(b.get(j).getSecondPlace().equals(Main.TerminalNodeID[i])){
				if(b.get(j).getGhostIndex(1) == -1){
					b.get(j).setGhostIndex(a.size(),1);
					waterRequest_queue.get(b.get(j).getOwnerNumber()).setGhostIndex(a.size(),1);
					a.add(b.get(j));
				}
			}
		}	
	}

	consumerQueue.addAll(a);
	consumerGhostIndex = new int[consumerQueue.size()];
	for(int i=0; i<consumerQueue.size();++i){
		Consumer aa = consumerQueue.get(i);
		if(aa.getGhostIndex(0) != -1 && aa.getGhostIndex(1) != -1){
			consumerGhostIndex[aa.getGhostIndex(0)] = aa.getGhostIndex(1);
			consumerGhostIndex[aa.getGhostIndex(1)] = aa.getGhostIndex(0);
		}
	}

	
	}
	
	//CLUSTERING
	
	if(Main.timeStep == 0){
		availableConsumers = new int[(int)getEngine().getStopTime()];
	//WORD_OF_MOUTH 
		ClusterBuilder a = new ClusterBuilder();
		clusters = a.clustering(population);
		consumerHashMap = a.getHashMap();
		consumerReverseHashMap = a.getReverseHashMap();
		hashMapBasedOnClusterNo = a.getHashMapbasedOnClusterNo();
	}
		//NEW VERY IMPORTANT CODE
	{
	ArrayList<Consumer> a = new ArrayList<Consumer>();
	
	for(int i=0;i< consumerQueue.size();++i){
	
		a.add(consumerQueue.get(i).copy());
		consumerQueue.remove(i--);
	}
	consumerQueue.addAll(a);
	}
	//END
	
}

	

	

]]></Body>
				</Function>
				<Function AccessType="private" StaticFunction="false">
					<ReturnType><![CDATA[GenderPopulation]]></ReturnType>
					<Id>1257197133518</Id>
					<Name><![CDATA[calculateTotalPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-580</X><Y>-140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[a]]></Name>
						<Type><![CDATA[int[]]]></Type>
					</Parameter>
					<Body><![CDATA[ 	int total = 0, totalfemale=0, totalmen=0;
	int[] females = {969255,951020,5950922,6190139,7360077,7842774,8653223,9493971,56955268,11601536,17961424};
	int[] males = {988135,913951,6416296,6149430,8042450,7722366,9335573,9229169,56499994,9588910,13081353};
	String[] ageRanges ={"<0.5","0.5-0.9","1-3","4-6","7-10","11-14","15-19","20-24","25-54","55-64",">65"};
	
	for(int i=0; i< a.length; ++i){
		total = a[i]+total;
	}
	totalPopulation = total;
	for(int i=0; i< females.length; ++i){
		totalmen = males[i]+totalmen;
		totalfemale = females[i]+totalfemale;
	}
	
	int[] femaleDistrbutedPopulation = new int[females.length];
	int[] maleDistrbutedPopulation = new int[males.length];
	
	for(int i=0; i< females.length; ++i){
		maleDistrbutedPopulation[i] = (int)(((double)males[i]/(double)(totalmen+totalfemale))*totalPopulation);
	//	System.out.println("male " +maleDistrbutedPopulation[i]);
		femaleDistrbutedPopulation[i] =(int)(((double)females[i]/(double)(totalmen+totalfemale))*totalPopulation);
	//	System.out.println("female " +femaleDistrbutedPopulation[i]);
	}
	Random random1 = new Random();
	int totalTest ;
	do{ totalTest = 0;
		for(int i=0; i < maleDistrbutedPopulation.length;++i){
			totalTest = maleDistrbutedPopulation[i]+totalTest;
			totalTest = femaleDistrbutedPopulation[i]+totalTest;
		}

				
		
		if(totalTest != totalPopulation){
		
			if(totalTest < totalPopulation){
				if( random1.nextInt(100) >= 50){
				 	++maleDistrbutedPopulation[8];
				 }else{
					++femaleDistrbutedPopulation[8];
				}
			}else{
				if( random1.nextInt(100) >= 50){
				 	--maleDistrbutedPopulation[8];
				 }else{
					--femaleDistrbutedPopulation[8];
				}
			}
		}
		
	}while(totalTest != totalPopulation);
	//it returns an array of int which the first half is women population and the rest is men
	
	GenderPopulation ad  = new GenderPopulation(femaleDistrbutedPopulation,maleDistrbutedPopulation,ageRanges);
	/*for(int i=0;i<femaleDistrbutedPopulation.length;++i){
		System.out.println("size of fe pop at i "+i+" is "+femaleDistrbutedPopulation[i]);
	}
	for(int i=0;i<maleDistrbutedPopulation.length;++i){
		System.out.println("size of ma pop at i "+i+" is "+maleDistrbutedPopulation[i]);
	}*/

	return ad;]]></Body>
				</Function>
				<Function AccessType="private" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1257290084092</Id>
					<Name><![CDATA[consumerWieght]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-580</X><Y>-120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[female]]></Name>
						<Type><![CDATA[int[]]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[male]]></Name>
						<Type><![CDATA[int[]]]></Type>
					</Parameter>
					<Body><![CDATA[/** This function generates the weight for each consumer in the order that output 
will satisfy the charactristics of chapter 7 of EPA survey. The data for mean and 
other charactristics are given from the mentioned chapter.It is assumed the PDF is
exponential. It could be uniform**/
	double[] meanFemale= {6,9,14,20,31,50,61,64,69,71,67};
	double[] meanMale  = {6,9,14,21,32,52,73,80,85,84,80};
	/** these arrays can be used for uniform distribution
	double[] lowerBoundFemale = {4,6,9,12,20,30,40,40,42,45,42};
	double[] upperBoundFemale = {9,12,19,32,54,77,86,101,103,104,91};
	double[] lowerBoundmale = {4,6,9,12,20,31,43,45,45,50,47};
	double[] upperBoundmale = {10,12,20,29,52,84,113,120,114,109,107};
	**/
//	GenderPopulation genderPopulation  = calculateTotalPopulation(numOfConsumerAtNodes);
//	int[] female = genderPopulation.getGenderNoArray("female");
//	int[] male = genderPopulation.getGenderNoArray("male");
	
	
	Random random = new Random();
	
	double[] g1Female = new double[female[0]];
	double[] g2Female = new double[female[1]];
	double[] g3Female = new double[female[2]];
	double[] g4Female = new double[female[3]];
	double[] g5Female = new double[female[4]];
	double[] g6Female = new double[female[5]];
	double[] g7Female = new double[female[6]];
	double[] g8Female = new double[female[7]];
	double[] g9Female = new double[female[8]];
	double[] g10Female = new double[female[9]];
	double[] g11Female = new double[female[10]];
	
	double[] g1male = new double[male[0]];
	double[] g2male = new double[male[1]];
	double[] g3male = new double[male[2]];
	double[] g4male = new double[male[3]];
	double[] g5male = new double[male[4]];
	double[] g6male = new double[male[5]];
	double[] g7male = new double[male[6]];
	double[] g8male = new double[male[7]];
	double[] g9male = new double[male[8]];
	double[] g10male = new double[male[9]];
	double[] g11male = new double[male[10]];
	
	for(int i=0; i < female.length; ++i){
		for(int j=0; j < female[i]; ++j){
			double r = random.nextDouble();
			while(r<0.4 || r > 0.95){
					r = random.nextDouble();
			}
			double a = -1*Math.log(1-r)*meanFemale[i];
			/** Must activate whenever the generation will be done by unifrom dist.
			double a = r*(upperBoundFemale[i]-lowerBoundFemale[i])+lowerBoundFemale[i];
			**/
			switch(i){
				case(0):g1Female[j] = a;
						break;
				case(1):g2Female[j] = a;
						break;
				case(2):g3Female[j] = a;
						break;
				case(3):g4Female[j] = a;
						break;
				case(4):g5Female[j] = a;
						break;
				case(5):g6Female[j] = a;
						break;
				case(6):g7Female[j] = a;
						break;
				case(7):g8Female[j] = a;
						break;
				case(8):g9Female[j] = a;
						break;
				case(9):g10Female[j] = a;
						break;
				case(10):g11Female[j] = a;
						break;
				}
			}	
		for(int j=0; j < male[i]; ++j){
			double r = random.nextDouble();
			while(r<0.4 || r > .7){
					r = random.nextDouble();
			}
			double a = -1*Math.log(1-r)*meanMale[i];
			/**
			double a = r*(upperBoundmale[i]-lowerBoundmale[i])+lowerBoundmale[i];
			**/
			switch(i){
				case(0):g1male[j] = a;
						break;
				case(1):g2male[j] = a;
						break;
				case(2):g3male[j] = a;
						break;
				case(3):g4male[j] = a;
						break;
				case(4):g5male[j] = a;
						break;
				case(5):g6male[j] = a;
						break;
				case(6):g7male[j] = a;
						break;
				case(7):g8male[j] = a;
						break;
				case(8):g9male[j] = a;
						break;
				case(9):g10male[j] = a;
						break;
				case(10):g11male[j] = a;
						break;
				}
			}	
	}
				
	WeightAndVolume fe = new WeightAndVolume(g1Female,g2Female,g3Female,g4Female,g5Female,g6Female,
	g7Female,g8Female,g9Female,g10Female,g11Female);
	
	WeightAndVolume ma = new WeightAndVolume(g1male,g2male,g3male,g4male,g5male,g6male,
	g7male,g8male,g9male,g10male,g11male);
	
	femaleWeight = fe;
	
	maleWeight = ma;
	/*
	System.out.println("g1 fe in we " +g1Female.length);
	System.out.println("g2 fe in we " +g2Female.length);
	System.out.println("g3 fe in we " +g3Female.length);
	System.out.println("g4 fe in we " +g4Female.length);
	System.out.println("g5 fe in we " +g5Female.length);
	System.out.println("g6 fe in we " +g6Female.length);
	System.out.println("g7 fe in we " +g7Female.length);
	System.out.println("g8 fe in we " +g8Female.length);
	System.out.println("g9 fe in we " +g9Female.length);
	System.out.println("g10 fe in we " +g10Female.length);
	System.out.println("g11 fe in we " +g11Female.length);
	
	System.out.println("g1 m in we " +g1male.length);
	System.out.println("g2 m in we " +g2male.length);
	System.out.println("g3 m in we " +g3male.length);
	System.out.println("g4 m in we " +g4male.length);
	System.out.println("g5 m in we " +g5male.length);
	System.out.println("g6 m in we " +g6male.length);
	System.out.println("g7 m in we " +g7male.length);
	System.out.println("g8 m in we " +g8male.length);
	System.out.println("g9 m in we " +g9male.length);
	System.out.println("g10 m in we " +g10male.length);
	System.out.println("g11 m in we " +g11male.length);
	*/			
				
				
				
				
				
				
				
				
				
				
				
			
	]]></Body>
				</Function>
				<Function AccessType="private" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1257623920440</Id>
					<Name><![CDATA[drinkingVolume]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-580</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[female]]></Name>
						<Type><![CDATA[int[]]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[male]]></Name>
						<Type><![CDATA[int[]]]></Type>
					</Parameter>
					<Body><![CDATA[/** This function generates the drinking volume of water for each consumer in the order that output 
will satisfy the charactristics of chapter 7 of EPA survey. The data for mean and 
other charactristics are given from the mentioned chapter.It is assumed the PDF is
exponential. It could be uniform**/
	double[] femaleVolume = {0.301,0.394,.316,.394,.430,.525,.653,.911,1.023,1.117,1.108};
	double[] maleVolume = {.291,.325,.306,.419,.474,.665,.861,1.039,1.182,1.172,1.153};

	
	//GenderPopulation genderPopulation  = calculateTotalPopulation(numOfConsumerAtNodes);
	//int[] female = genderPopulation.getGenderNoArray("female");
	//int[] male = genderPopulation.getGenderNoArray("male");
	
	Random random = new Random();
	
	double[] g1Female = new double[female[0]];
	double[] g2Female = new double[female[1]];
	double[] g3Female = new double[female[2]];
	double[] g4Female = new double[female[3]];
	double[] g5Female = new double[female[4]];
	double[] g6Female = new double[female[5]];
	double[] g7Female = new double[female[6]];
	double[] g8Female = new double[female[7]];
	double[] g9Female = new double[female[8]];
	double[] g10Female = new double[female[9]];
	double[] g11Female = new double[female[10]];
	
	double[] g1male = new double[male[0]];
	double[] g2male = new double[male[1]];
	double[] g3male = new double[male[2]];
	double[] g4male = new double[male[3]];
	double[] g5male = new double[male[4]];
	double[] g6male = new double[male[5]];
	double[] g7male = new double[male[6]];
	double[] g8male = new double[male[7]];
	double[] g9male = new double[male[8]];
	double[] g10male = new double[male[9]];
	double[] g11male = new double[male[10]];
	
	for(int i=0; i < female.length; ++i){
		for(int j=0; j < female[i]; ++j){
			double a = -1*Math.log(1-random.nextDouble())*femaleVolume[i];
			switch(i){
				case(0):g1Female[j] = a;
						break;
				case(1):g2Female[j] = a;
						break;
				case(2):g3Female[j] = a;
						break;
				case(3):g4Female[j] = a;
						break;
				case(4):g5Female[j] = a;
						break;
				case(5):g6Female[j] = a;
						break;
				case(6):g7Female[j] = a;
						break;
				case(7):g8Female[j] = a;
						break;
				case(8):g9Female[j] = a;
						break;
				case(9):g10Female[j] = a;
						break;
				case(10):g11Female[j] = a;
						break;
				}
			}	
		for(int j=0; j < male[i]; ++j){
			double a = -1*Math.log(1-random.nextDouble())*maleVolume[i];
			switch(i){
				case(0):g1male[j] = a;
						break;
				case(1):g2male[j] = a;
						break;
				case(2):g3male[j] = a;
						break;
				case(3):g4male[j] = a;
						break;
				case(4):g5male[j] = a;
						break;
				case(5):g6male[j] = a;
						break;
				case(6):g7male[j] = a;
						break;
				case(7):g8male[j] = a;
						break;
				case(8):g9male[j] = a;
						break;
				case(9):g10male[j] = a;
						break;
				case(10):g11male[j] = a;
						break;
				}
			}	
	}
	WeightAndVolume fe = new WeightAndVolume(g1Female,g2Female,g3Female,g4Female,g5Female,g6Female,
	g7Female,g8Female,g9Female,g10Female,g11Female);
	
	WeightAndVolume ma = new WeightAndVolume(g1male,g2male,g3male,g4male,g5male,g6male,
	g7male,g8male,g9male,g10male,g11male);
	
	femaleDrinkingVolume = fe;
	
	maleDrinkingVolume = ma;
	/*
	System.out.println("g1 fe in dr " +g1Female.length);
	System.out.println("g2 fe in dr " +g2Female.length);
	System.out.println("g3 fe in dr " +g3Female.length);
	System.out.println("g4 fe in dr " +g4Female.length);
	System.out.println("g5 fe in dr " +g5Female.length);
	System.out.println("g6 fe in dr " +g6Female.length);
	System.out.println("g7 fe in dr " +g7Female.length);
	System.out.println("g8 fe in dr " +g8Female.length);
	System.out.println("g9 fe in dr " +g9Female.length);
	System.out.println("g10 fe in dr " +g10Female.length);
	System.out.println("g11 fe in dr " +g11Female.length);
	
	System.out.println("g1 m in dr " +g1male.length);
	System.out.println("g2 m in dr " +g2male.length);
	System.out.println("g3 m in dr " +g3male.length);
	System.out.println("g4 m in dr " +g4male.length);
	System.out.println("g5 m in dr " +g5male.length);
	System.out.println("g6 m in dr " +g6male.length);
	System.out.println("g7 m in dr " +g7male.length);
	System.out.println("g8 m in dr " +g8male.length);
	System.out.println("g9 m in dr " +g9male.length);
	System.out.println("g10 m in dr " +g10male.length);
	System.out.println("g11 m in dr " +g11male.length);
	*/]]></Body>
				</Function>
				<Function AccessType="private" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1257877967069</Id>
					<Name><![CDATA[setInitialization]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-690</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[/**This Function just needs to be called at the beginnig of the simulation and by 
itself, it will run the necassary functions to initialize the simulation. It inializes 
the agents part of the model.
**/
	if(Main.timeStep == 0 ){
		//ADDED FOR GA, IT SHOULD BE DELETED WHEN THE SIMULATION RUN DIRECTLY
		
		stopDrinkingRecord = new int[(int)getEngine().getStopTime()];
		
		//Main.SetPopulationAtEachTimeStep();
		consumerGenaration(numOfConsumerAtNodes, Main.TerminalNodeID);
		//1-wordOfMouth.totalAgentNo = totalPopulation;
		int[] f = new int[Main.numOfNodeInitializer];
		for(int i = 0 ; i < f.length;++i)
									f[i] = 0;
		//2-wordOfMouth.timeControlerForBoasterFunction = f;
		//consumerAtHome.ExposedConsumers =f;
		//consumerAtHome.StopDrinkingExposedConsumers=f;
		
		
	//***could be temp System.arraycopy(f,0,consumerAtHome.ExposedConsumers,0,f.length);
	//***could be temp	System.arraycopy(f,0,consumerAtHome.StopDrinkingExposedConsumers,0,f.length);
		
		/*int[] t = new int[Main.numOfNodeInitializer];
		for(int i = 0 ; i < t.length;++i)
									t[i] = 0;
		consumerAtHome.ExposedConsumers = t;
		
		int[] y = new int[Main.numOfNodeInitializer];
		for(int i = 0 ; i < y.length;++i)
									y[i] = 0;
		consumerAtHome.StopDrinkingExposedConsumers = y;*/

		
	}else{
		if( Main.timeStep ==0){
			stopDrinkingRecord = new int[(int)getEngine().getStopTime()];
				int[] f = new int[Main.numOfNodeInitializer];
				for(int i = 0 ; i < f.length;++i)
										f[i] = 0;
				for(int i=0; i< Main_Optimization.GeneralConsumer.size();++i){
					waterRequest_queue.add(Main_Optimization.GeneralConsumer.get(i).copy());
				}
				availableConsumers = new int[(int)getEngine().getStopTime()];
				/*for(int i=0; i< Main_Optimization.candidateForWOMGeneral.size();++i){
					candidateForWOM.add(Main_Optimization.candidateForWOMGeneral.get(i).copy());
				}
				
				for(int i=0; i< Main_Optimization.clustersGeneral.size();++i){
					clusters.add(Main_Optimization.clustersGeneral.get(i).copy());
				}*/
					ClusterBuilder a = new ClusterBuilder();
					clusters = a.clustering(population);
					consumerHashMap = a.getHashMap();
					consumerReverseHashMap = a.getReverseHashMap();
					hashMapBasedOnClusterNo = a.getHashMapbasedOnClusterNo();
		}
	}
	if(Main.timeStep ==0){
		boolean t = false;
		for(int i=0; i< waterRequest_queue.size();++i){
			if(waterRequest_queue.get(i).getStopDrinking() || waterRequest_queue.get(i).getIsSick())
				t = true;
		}
		if(t)
			 new Throwable("NOT INITIALIZED WELL");
	}
	//if(Main_Optimization.needMobility)		
		setPoepleAtNodeForMobility();
		
	int[] a = new int[Main.numOfNodeInitializer];
	for(int i = 0 ; i < a.length;++i)
								a[i] = 0;
	/********temp*****/
	//consumerAtHome.stopDrinking = a;
	//consumerAtHome.demandProfileAtNode =a;
	//System.arraycopy(a,0,consumerAtHome.demandProfileAtNode,0,a.length);
	
	/*int[] b = new int[Main.numOfNodeInitializer];
	for(int i = 0 ; i < a.length;++i)
									b[i] = 0;
	
	consumerAtHome.demandProfileAtNode = b;*/
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1258381589140</Id>
					<Name><![CDATA[agentReport]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-860</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[    /**
	THIS FUNCTION WRITES THE CHARACTRISTICS OF AGENTS AT EACH TIME STEP
    **/
	FileOutputStream fos; 
    DataOutputStream dos;

    try {
    Integer t = Main.timeStep;
	String s = reportFileForAgents.toString().concat(t.toString()).concat(".txt");
      FileWriter file= new FileWriter(s);
      BufferedWriter writer = new BufferedWriter(file);
      writer.write("Time "+Main.timeStep);
	  writer.newLine();
      for(int i = 0; i < waterRequest_queue.size();++i){
	  			writer.write((i+1)+"\tAgent "+waterRequest_queue.get(i).getOwnerNumber()+"\tSec\t"+waterRequest_queue.get(i).getSecondPlace()+
	  			"\tnode\t"+waterRequest_queue.get(i).getFirstPlace()+"\tsick\t"+waterRequest_queue.get(i).getIsSick()+"\tdose\t"+
	  			waterRequest_queue.get(i).getDose()+"\twarn\t"+waterRequest_queue.get(i).getStopDrinking());//+
	  			/*" 1 "+waterRequest_queue.get(i).getGhostIndex(0)+" 2 "
	  			+waterRequest_queue.get(i).getGhostIndex(1)+"\tWorking Hour\t"+waterRequest_queue
	  			.get(i).getworkingHour()+"\tStart\t"+waterRequest_queue.get(i).getStartToWork()+"\tGhost 1\t"+
	  			waterRequest_queue.get(i).getGhostIndex(0)+"\tGh 2\t"+waterRequest_queue.get(i).getGhostIndex(1));*/
	  			writer.newLine();		
	  }
	  writer.close();
    } catch (IOException e) {
      e.printStackTrace();
    }
 /*      try {
    Integer t = Main.timeStep;
	String s = reportFileForAgents.toString().concat(t.toString()).concat("_second.txt");
      FileWriter file= new FileWriter(s);
      BufferedWriter writer = new BufferedWriter(file);
      writer.write("Time "+Main.timeStep);
	  writer.newLine();
	  traceln("SIZE "+consumerQueue.size());
      for(int i = 0; i < consumerQueue.size();++i){
  			writer.write((i+1)+"\tAgent "+consumerQueue.get(i).getOwnerNumber()+"\tSec\t"+consumerQueue.get(i).getSecondPlace()+
	  			"\tnode\t"+consumerQueue.get(i).getFirstPlace());
	  			//+"\tGhost 1\t"+
	  			//consumerQueue.get(i).getGhostIndex(0)+"/tGh 2\t"+consumerQueue.get(i).getGhostIndex(1));
	  			writer.newLine();		
	  }
	  writer.close();
    } catch (IOException e) {
      e.printStackTrace();
    }*/]]></Body>
				</Function>
				<Function AccessType="private" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1268848697296</Id>
					<Name><![CDATA[WoMInitialization]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//traceln("Part 0 WOM");	
	int groupA = (int)(consumerRatio_TypeA * totalPopulation);
	int groupB = (int)(consumerRatio_TypeB * totalPopulation);
	int groupC = (int)(consumerRatio_TypeC * totalPopulation);
	int groupD = (int)(consumerRatio_TypeD * totalPopulation);	
	int counter_GroupA = 0 ; 
	int counter_GroupB = 0 ; 
	int counter_GroupC = 0 ; 
	int counter_GroupD = 0 ; 	
	int seed ;
	ArrayList<Consumer> temp =  new ArrayList<Consumer>();
	
while(waterRequest_queue.size() != 0){
	int PickyNumber =  new Random().nextInt(waterRequest_queue.size());
	Consumer meYOHOO = waterRequest_queue.get(PickyNumber);
	
	if(meYOHOO.getAge().equals("20-24") ||
	   meYOHOO.getAge().equals("25-54") ||
	   meYOHOO.getAge().equals("55-64") ||
	   meYOHOO.getAge().equals(">65") )
	   		seed = 1;
	 else 
	 		seed = 0;

	
	int  w= 0 ;
	meYOHOO.setConsumerType('D');
	if(seed < 0.5){
		++counter_GroupD;
	}else{
		
		do{	
			  	    
			Random randomSeed = new Random();
			int r = randomSeed.nextInt(4);
			switch(r){
				case(0):
						if(counter_GroupA <= groupA){
							++counter_GroupA;
							meYOHOO.setConsumerType('A');
							++w;
						}
						break;
				case(1):
						if(counter_GroupB <= groupB){
							++counter_GroupB;
							meYOHOO.setConsumerType('B');
							++w;
						}
						break;
				case(2):
						if(counter_GroupC <= groupC){
							++counter_GroupC;
							meYOHOO.setConsumerType('C');
							++w;
							}
						break;
				case(3):
						if(counter_GroupD <= groupD){
							++counter_GroupD;
							meYOHOO.setConsumerType('D');
							++w;
							}
						break;
			 	}

			}while(w == 0);
			
		}
		temp.add(meYOHOO);
		waterRequest_queue.remove(PickyNumber);
		
}

	try{
		
		waterRequest_queue.addAll(temp);
		
	}
	catch(NullPointerException e){
	
		traceln("Error in assignment");
		}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1269461928834</Id>
					<Name><![CDATA[organizeConsumerMobility]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[Female]]></Name>
						<Type><![CDATA[int[]]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[Male]]></Name>
						<Type><![CDATA[int[]]]></Type>
					</Parameter>
					<Body><![CDATA[
//Number of consumers at each nodes
int[] ultimatePop = new int[Main.Population_Res.length+Main.Population_Com.length+Main.Population_Ind.length+Main.Population_NavyAir.length];
for(int i=0;i<ultimatePop.length;++i){
	if(i<Main.Population_Res.length)
		ultimatePop[i] = Main.Population_Res[i];	
	if(i>=Main.Population_Res.length && i<(Main.Population_Com.length+Main.Population_Res.length))
		ultimatePop[i] = Main.Population_Com[i-Main.Population_Res.length];
	if(i>=(Main.Population_Com.length+Main.Population_Res.length) && i< (Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length))
		ultimatePop[i] = Main.Population_Ind[i-(Main.Population_Com.length+Main.Population_Res.length)];
	if(i>=(Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length) && i<(Main.Population_NavyAir.length+Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length))
		ultimatePop[i] = Main.Population_NavyAir[i-(Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length)];
}
populationAtWorkandHome = Arrays.copyOf(ultimatePop,ultimatePop.length);

int[] counter = new int[ultimatePop.length];
int residentLimit = Main.Population_Res.length;
int resNo =0;
int ind = 0;
int workNo = 0;
ArrayList<Consumer> a = new ArrayList<Consumer>();
int studentCounter = 0;
//FOR IND
for(int i=(Main.Population_Com.length+Main.Population_Res.length);
			i<(Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length);++i)
			ultimatePop[i] = ultimatePop[i] * 3;
//RESIDENT NO
for(int i=0;i<residentLimit;++i){
	resNo += ultimatePop[i];
	counter[i] = ultimatePop[i];
}
//WROKER NO
for(int i=residentLimit;i<(ultimatePop.length);++i){
	workNo += ultimatePop[i];
}
//IND NUMBER
for(int i=0;i<Main.Population_Ind.length;++i){
	ind += Main.Population_Ind[i];
}
//SET ALL TO NULL
for(int i=0; i< waterRequest_queue.size();++i){
	waterRequest_queue.get(i).setSecondPlace("NULL");
}
//{"<0.5","0.5-0.9","1-3","4-6","7-10","11-14","15-19","20-24","25-54","55-64",">65"}
//SET INDUSTRIAL CONSUMERS

if(Main_Optimization.needMobility){
for(int i= 0;i<ind;i++){
	Consumer woop = waterRequest_queue.get(waterRequest_queue.size()-1);
	woop.setSecondPlace(woop.getFirstPlace());
	woop.setworkingHour(8);
	woop.setStartToWork(22);

	int r = new Random().nextInt((Main.Population_Res.length));

	woop.setFirstPlace(Main.TerminalNodeID[r]);
	//++counter[r];
	woop.setWorkingNodeType("IND");
	woop.setTravelDelayTime(travelTime(woop));
	a.add(waterRequest_queue.get(waterRequest_queue.size()-1));
	waterRequest_queue.remove(waterRequest_queue.size()-1);
}

for(int j=0;j<2;++j)
	for(int i=0;i<ind;++i){
		int y =0;
		boolean assigned = false;
		
		do{
		 y = new Random().nextInt(waterRequest_queue.size());
		
		Consumer woop = waterRequest_queue.get(y);
		
			if((woop.getAge().equals("25-54")||
						woop.getAge().equals("55-64")) && woop.getSecondPlace().equals("NULL")){

				int r = new Random().nextInt((Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length)-(Main.Population_Com.length+Main.Population_Res.length))
							+Main.Population_Com.length+Main.Population_Res.length;
				
				while(counter[r] >= ultimatePop[r])
					r = new Random().nextInt((Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length)-(Main.Population_Com.length+Main.Population_Res.length))
							+Main.Population_Com.length+Main.Population_Res.length;
					
				
				woop.setSecondPlace(Main.TerminalNodeID[r]);
				++counter[r];
				switch(j){
					case(0):
						woop.setStartToWork(6);
						woop.setworkingHour(8);
						break;
					case(1):
						woop.setStartToWork(14);
						woop.setworkingHour(8);
						break;									
				}
				woop.setWorkingNodeType("IND");
				woop.setTravelDelayTime(travelTime(woop));
				assigned = true;
			}
		}while(!assigned);
		a.add(waterRequest_queue.get(y));
		waterRequest_queue.remove(y);
	}

//SET OTHER CONSUMERS
for(int i=0; i< waterRequest_queue.size();++i){
	int y = new Random().nextInt(waterRequest_queue.size());
	Consumer woop = waterRequest_queue.get(y);
	boolean assigned = false;
  if(workNo >= a.size()){
	if((woop.getAge().equals("25-54")||
					woop.getAge().equals("55-64")||
					woop.getAge().equals("15-19")||
					woop.getAge().equals("20-24")) && woop.getSecondPlace().equals("NULL")){

			int r = new Random().nextInt(ultimatePop.length-residentLimit)+residentLimit;
			
			while(counter[r] >= ultimatePop[r])
				r = new Random().nextInt(ultimatePop.length-residentLimit)+residentLimit;
				
			woop.setSecondPlace(Main.TerminalNodeID[r]);
			++counter[r];
			woop.setStartToWork(0);
			woop.setworkingHour(24);
			
			if(r>=Main.Population_Res.length && r<(Main.Population_Com.length+Main.Population_Res.length))
				woop.setWorkingNodeType("COM");
			if(r>=(Main.Population_Com.length+Main.Population_Res.length) && r< (Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length))
				woop.setWorkingNodeType("IND");
			if(r>=(Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length) && r<(Main.Population_NavyAir.length+Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length))
				woop.setWorkingNodeType("NAV");
			assigned = true;
			woop.setTravelDelayTime(travelTime(woop));
			
	}
	if(assigned){
		a.add(woop);
		waterRequest_queue.remove(y);
	}
  }
}

//Second wave of assignment
for(int i=0; i< waterRequest_queue.size();++i){
	int y = new Random().nextInt(waterRequest_queue.size());
	Consumer woop = waterRequest_queue.get(y);
	boolean assigned = false;
  if(workNo >= a.size()){
	if((woop.getAge().equals("25-54")||
					woop.getAge().equals("55-64")||
					woop.getAge().equals("15-19")||
					woop.getAge().equals("20-24")||
					woop.getAge().equals("11-14")||
					woop.getAge().equals(">65")) && woop.getSecondPlace().equals("NULL")){

			int r = new Random().nextInt(ultimatePop.length-residentLimit)+residentLimit;
			
			while(counter[r] >= ultimatePop[r])
				r = new Random().nextInt(ultimatePop.length-residentLimit)+residentLimit;
				
			woop.setSecondPlace(Main.TerminalNodeID[r]);
			++counter[r];
			woop.setStartToWork(0);
			woop.setworkingHour(24);
			if(r>=Main.Population_Res.length && r<(Main.Population_Com.length+Main.Population_Res.length))
				woop.setWorkingNodeType("COM");
			if(r>=(Main.Population_Com.length+Main.Population_Res.length) && r< (Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length))
				woop.setWorkingNodeType("IND");
			if(r>=(Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length) && r<(Main.Population_NavyAir.length+Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length))
				woop.setWorkingNodeType("NAV");
			woop.setTravelDelayTime(travelTime(woop));
			assigned = true;
			
	}
	if(assigned){
		a.add(woop);
		waterRequest_queue.remove(y);
	}
  }
}

//Third Wave
while(workNo > a.size()){
	int y = new Random().nextInt(waterRequest_queue.size());
	Consumer woop = waterRequest_queue.get(y);
	if(woop.getSecondPlace().equals("NULL")){

			int r = new Random().nextInt(ultimatePop.length-residentLimit)+residentLimit;
			
			while(counter[r] >= ultimatePop[r])
				r = new Random().nextInt(ultimatePop.length-residentLimit)+residentLimit;
				
			woop.setSecondPlace(Main.TerminalNodeID[r]);
			++counter[r];
			woop.setStartToWork(0);
			woop.setworkingHour(24);
			
			if(r>=Main.Population_Res.length && r<(Main.Population_Com.length+Main.Population_Res.length))
				woop.setWorkingNodeType("COM");
			if(r>=(Main.Population_Com.length+Main.Population_Res.length) && r< (Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length))
				woop.setWorkingNodeType("IND");
			if(r>=(Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length) && r<(Main.Population_NavyAir.length+Main.Population_Ind.length+Main.Population_Com.length+Main.Population_Res.length))
				woop.setWorkingNodeType("NAV");
			
			woop.setTravelDelayTime(travelTime(woop));
	}
	
	a.add(woop);
	waterRequest_queue.remove(y);
	
 }	

int testCounter= 0;
for(int i = 0; i < waterRequest_queue.size(); ++i){
	Consumer yoohoo = waterRequest_queue.get(i);
	if(yoohoo.getSecondPlace().equals("NULL")){
		++testCounter;
		yoohoo.setworkingHour(0);
		yoohoo.setSecondPlace("Home");
		yoohoo.setTravelDelayTime(0);
		yoohoo.setStartToWork(0);
		yoohoo.setWorkingNodeType("RES");
		}
}
noOfHouseHolds = testCounter;
for(int i = 0; i < waterRequest_queue.size(); ++i){
	a.add(waterRequest_queue.get(i));
	waterRequest_queue.remove(i--);	
}
if(waterRequest_queue.size() != 0)
	traceln("ERROR\t"+1/0);
waterRequest_queue.addAll(a);
//traceln(" houseH&W "+testCounter);
//SET THE STARTING TIME
	setTime();
	
//END OF MOOBILITY SETTING
}else{
	//IN CASE WE DONT NEED MOBILITY
	for(int i= 0;i<ind;i++){
	Consumer woop = waterRequest_queue.get(waterRequest_queue.size()-1-i);
	woop.setSecondPlace(woop.getFirstPlace());
	woop.setworkingHour(0);
	woop.setStartToWork(0);

	//++counter[r];
	woop.setWorkingNodeType("IND");
	woop.setTravelDelayTime(0);
}

}


]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1269649411183</Id>
					<Name><![CDATA[setPoepleAtNodeForMobility]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-560</X><Y>-70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
//Number of consumers at each nodes
int[] number =new int[Main.Population_Res.length+Main.Population_Com.length+Main.Population_Ind.length+Main.Population_NavyAir.length];
if(Main.timeStep == 0){
	
	
	int[] pop = new int[Main.TerminalNodeID.length];
	for(int j=0; j< Main.TerminalNodeID.length;++j){
		for(int i=0; i< waterRequest_queue.size();++i){
			if(waterRequest_queue.get(i).getFirstPlace().equals(Main.TerminalNodeID[j]) ||
					waterRequest_queue.get(i).getSecondPlace().equals(Main.TerminalNodeID[j])){
				++pop[j];
			}
		}	
	}
	populationAtWorkandHome = pop;
	/****TEST 
	int[] ultimatePop = Arrays.copyOf(populationAtWorkandHome,populationAtWorkandHome.length); 

	for(int i=0;i<populationAtWorkandHome.length;++i){
		int c = 0;
		for(int j=0;j<waterRequest_queue.size();++j){
			Consumer a = waterRequest_queue.get(j);
			if(a.getFirstPlace().equals(Main.TerminalNodeID[i]) || a.getSecondPlace().equals(Main.TerminalNodeID[i]))
				++c;
		}
		traceln(Main.TerminalNodeID[i]+" "+c);
	}**/
}

int counter =0;
/*for(int i=0;i<waterRequest_queue.size();++i){
	waterRequest_queue.get(i).setCurrentNode(Main.timeStep);
	//traceln(i+"\t"+consumerQueue.get(i).getGhostIndex()[0]+"\t"+consumerQueue.get(i).getGhostIndex()[1]);
	if(waterRequest_queue.get(i).getFirstPlace().equals(waterRequest_queue.get(i).getCurrentNode())){	
		consumerQueue.get(consumerQueue.get(i).getGhostIndex(0)).setIsHere(true,Main.timeStep);
		consumerQueue.get(consumerQueue.get(i).getGhostIndex(1)).setIsHere(false,Main.timeStep);
	}
	
	if(waterRequest_queue.get(i).getSecondPlace().equals(waterRequest_queue.get(i).getCurrentNode())){
		consumerQueue.get(consumerQueue.get(i).getGhostIndex(1)).setIsHere(true,Main.timeStep);
		consumerQueue.get(consumerQueue.get(i).getGhostIndex(0)).setIsHere(false,Main.timeStep);
	}
	
	if(waterRequest_queue.get(i).getCurrentNode().equals("TBD")){
		consumerQueue.get(consumerQueue.get(i).getGhostIndex(1)).setIsHere(false,Main.timeStep);
		consumerQueue.get(consumerQueue.get(i).getGhostIndex(0)).setIsHere(false,Main.timeStep);
	}

}*/
int index = 0;
int a = populationAtWorkandHome[index];

for(int i=0; i< consumerQueue.size();++i){

	consumerQueue.get(i).setCurrentNode(Main.timeStep);
	//SET THE POSITION OF THE CONSUMER
	if(i<waterRequest_queue.size())
		if(consumerQueue.get(i).getCurrentNode().equals(consumerQueue.get(i).getFirstPlace())){
			consumerQueue.get(i).setIsHere(true);
		}else{
			consumerQueue.get(i).setIsHere(false);
		}
	else
		if(consumerQueue.get(i).getCurrentNode().equals(consumerQueue.get(i).getSecondPlace())){
			consumerQueue.get(i).setIsHere(true);
		}else{
			consumerQueue.get(i).setIsHere(false);
		}
	//DETERMINE THE NUMBER OF CONSUMER AT EACH NODES	
	
	if(i< a){
		if(consumerQueue.get(i).getIsHere())
			++counter;
	}else{	
		number[index]  = counter;
		if((index+1) < populationAtWorkandHome.length)
			a +=populationAtWorkandHome[++index];
		counter =0;
		if(consumerQueue.get(i).getIsHere())
			++counter;
	}
	
}	
	
consumerAtNodes = number;

]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1275844045491</Id>
					<Name><![CDATA[setTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[int tempCounter_Com = 0;
		int tempCounter_Nav = 0;
		for (int i = 0; i < waterRequest_queue.size(); ++i) {
			if (waterRequest_queue.get(i).getWorkingNodeType().equals("COM"))
				++tempCounter_Com;
			if (waterRequest_queue.get(i).getWorkingNodeType().equals("NAV")
					|| waterRequest_queue.get(i).getWorkingNodeType()
							.equals("AIR"))
				++tempCounter_Nav;
		}
		// COMMERCIAL
		{
			int[] placeInQueue = new int[tempCounter_Com];
			ArrayList<boolean[]> a = new ArrayList<boolean[]>();

			int counter = 0;
			for (int i = 0; i < waterRequest_queue.size(); ++i) {
				if (waterRequest_queue.get(i).getWorkingNodeType()
						.equals("COM")) {
					placeInQueue[counter] = i;
					a.add(workingBooleanDiagram(waterRequest_queue.get(i)
							.getworkingHour(), waterRequest_queue.get(i)
							.getStartToWork()));
					++counter;
				}
			}
			int[] numberAtTime = new int[24];
			for (int i = 0; i < 24; ++i)
				numberAtTime[i] = (int) (Main.PercentOfCommercialWorker[i] * tempCounter_Com);

			for (int i = 0; i < 24; ++i) {
				int t = 0;
				for (int j = 0; j < a.size(); ++j) {
					if (a.get(j)[i])
						++t;
					if (numberAtTime[i] < t && a.get(j)[i]) {
						a.get(j)[i] = false;
					}
				}
				if (t < numberAtTime[i])
					for (int j = 0; j < a.size(); ++j) {
						if (t < numberAtTime[i] && i != 0) {
							if (!a.get(j)[i] && a.get(j)[i - 1]) {
								a.get(j)[i] = true;
								++t;
							}
						}
					}

			}

			for (int j = 0; j < a.size(); ++j)
				a.get(j)[0] = a.get(j)[23];

			// PRINT TEST
			/*
			 * for(int i=0;i<24;++i){ int t = 0; for(int j=0; j< a.size();++j)
			 * if(a.get(j)[i]) ++t; traceln("i is " +
			 * i+" wanted "+numberAtTime[i]+" is "+t); }
			 */

			for (int i = 0; i < placeInQueue.length; ++i) {
				int random = new Random().nextInt(a.size());
				int[] times = findTimes(a.get(random));
				if (times[0] < 12)
					waterRequest_queue.get(placeInQueue[i]).setStartToWork(
							times[0] - 1);
				else
					waterRequest_queue.get(placeInQueue[i]).setStartToWork(
							times[0]);

				if (times[0] < 12)
					waterRequest_queue.get(placeInQueue[i]).setworkingHour(
							times[1] + 1);
				else
					waterRequest_queue.get(placeInQueue[i]).setworkingHour(
							times[1]);
				a.remove(random);
			}
			if (a.size() != 0)
				new Throwable(
						"Not Working Well in SetTime Function Commercial Portion");
		}
		// END
		// NAVY AND AIRPORT
		{
			// traceln("NAVY");
			int[] placeInQueue = new int[tempCounter_Nav];
			ArrayList<boolean[]> a = new ArrayList<boolean[]>();

			int counter = 0;
			for (int i = 0; i < waterRequest_queue.size(); ++i) {
				if (waterRequest_queue.get(i).getWorkingNodeType()
						.equals("NAV")) {
					placeInQueue[counter] = i;
					a.add(workingBooleanDiagram(waterRequest_queue.get(i)
							.getworkingHour(), waterRequest_queue.get(i)
							.getStartToWork()));
					++counter;
				}
			}
			int[] numberAtTime = new int[24];
			for (int i = 0; i < 24; ++i)
				numberAtTime[i] = (int) (Main.PercentOfAirportandNavy[i] * tempCounter_Nav);

			for (int i = 0; i < 24; ++i) {
				int t = 0;
				for (int j = 0; j < a.size(); ++j) {
					if (a.get(j)[i])
						++t;
					if (numberAtTime[i] < t && a.get(j)[i]) {
						a.get(j)[i] = false;
					}
				}
				if (t < numberAtTime[i])
					for (int j = 0; j < a.size(); ++j) {
						if (t < numberAtTime[i] && i != 0) {
							if (!a.get(j)[i] && a.get(j)[i - 1]) {
								a.get(j)[i] = true;
								++t;
							}
						}
					}

			}

			for (int j = 0; j < a.size(); ++j)
				a.get(j)[0] = a.get(j)[23];

			// PRINT TEST
			/*
			 * for(int i=0;i<24;++i){ int t = 0; for(int j=0; j< a.size();++j)
			 * if(a.get(j)[i]) ++t; traceln("i is " +
			 * i+" wanted "+numberAtTime[i]+" is "+t); }
			 */

			for (int i = 0; i < placeInQueue.length; ++i) {
				int random = new Random().nextInt(a.size());
				int[] times = findTimes(a.get(random));
				if (times[0] < 12)
					waterRequest_queue.get(placeInQueue[i]).setStartToWork(
							times[0] - 1);
				else
					waterRequest_queue.get(placeInQueue[i]).setStartToWork(
							times[0]);
				if (times[0] < 12)
					waterRequest_queue.get(placeInQueue[i]).setworkingHour(
							times[1] + 1);
				else
					waterRequest_queue.get(placeInQueue[i]).setworkingHour(
							times[1]);
				a.remove(random);
			}
			if (a.size() != 0)
				new Throwable(
						"Not Working Well in SetTime Function Navy Portion");
		}
		// END]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[boolean[]]]></ReturnType>
					<Id>1275844420256</Id>
					<Name><![CDATA[workingBooleanDiagram]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-680</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[workingHour]]></Name>
						<Type><![CDATA[int]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[StartTime]]></Name>
						<Type><![CDATA[int]]></Type>
					</Parameter>
					<Body><![CDATA[boolean[] a = new boolean[24];
int counter = 0;

	if((workingHour+StartTime) >= 24){
		int redundant = workingHour+StartTime - 24;
		for(int i=0; i<= redundant; ++i){
			a[counter] = true;
			++counter;
		}
		for(; counter < 24;++counter){
			if(counter < StartTime)
				a[counter]= false;
			
			if( counter >= StartTime)
				a[counter] = true;
		}
	}else{
		for(; counter < 24;++counter){
			if(counter < StartTime)
				a[counter] = false;
		
		
			if(counter < (StartTime+workingHour) && counter >= StartTime)
				a[counter] = true;
					
		
			if(counter < 24 && counter >=(StartTime+workingHour))
				a[counter] = false;
			
		}
	}
//FUNCTION TEST
//	traceln("workin " +workingHour+" start Time "+StartTime);
//	for(int i =0;i <a.length;++i)
//		traceln(a[i]);
//TEST END
return a;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[int[]]]></ReturnType>
					<Id>1275922168576</Id>
					<Name><![CDATA[findTimes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-530</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[diagram]]></Name>
						<Type><![CDATA[boolean[]]]></Type>
					</Parameter>
					<Body><![CDATA[int[] a = new int[2];

if(diagram[0]){
	int c = 0;
	for(int i=1; i<diagram.length; ++i){
		if(!diagram[i])
			++c;
		if(diagram[i] && !diagram[i-1])
			a[0] = i;
	}
	a[1] = diagram.length - c;
}else{
	int c = 0;
	for(int i=1; i<diagram.length; ++i){
		if(diagram[i])
			++c;
		if(diagram[i] && !diagram[i-1])
			a[0] = i;
	}
	a[1] = c;
}

return a;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1277136788773</Id>
					<Name><![CDATA[wOMCreator]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-970</X><Y>-60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if(user_needWOM){	
ArrayList<Consumer> aa = new ArrayList<Consumer>();
for(int i=0; i< candidateForWOM.size();++i){
	aa.add(waterRequest_queue.get(candidateForWOM.get(i).getOwnerNumber()));
}
for(int i=0; i< candidateForWOM.size();++i)
	candidateForWOM.remove(i--);
candidateForWOM.addAll(aa);
for(int i=0; i< candidateForWOM.size();++i){
	if(candidateForWOM.get(i).getStopDrinking() && !candidateForWOM.get(i).getGetClustered()){
		if(!user_NeedCWS){	
			WordOfMouth_Cluster cluster =  add_wordOfMouth_Cluster();
		
			Consumer[] a = clusters.get(candidateForWOM.get(i).getClusterNo()).getmember();
			clusters.get(candidateForWOM.get(i).getClusterNo()).setRank(candidateForWOM.get(i));
			for(int j=0; j < a.length;++j){
				((Consumer)consumerHashMap.get(a[j])).setGetClustered();
			}
			cluster.set_member(a);
			cluster.set_clusterNo(candidateForWOM.get(i).getClusterNo());	
			cluster.set_rank(clusters.get(candidateForWOM.get(i).getClusterNo()).getRank());
		}else{
			//traceln("Time "+Main.timeStep);
			WordOfMouth_CWS cws = add_wordOfMouth_CWS();
			Consumer[] a = clusters.get(candidateForWOM.get(i).getClusterNo()).getmember();
			cws.set_clusterNo(candidateForWOM.get(i).getClusterNo());
			// Temporary code
			boolean ch = false;
			for(int i1=0;i1 < clusterCollector.size(); ++i1){
				if(clusterCollector.get(i1) == candidateForWOM.get(i).getClusterNo()){
					ch = true;
					break;
				}
			}
			if(!ch){
				clusterCollector.add(candidateForWOM.get(i).getClusterNo());
			}
			
			// end of temp code
			cws.set_member(a);
			for(int j=0; j < a.length;++j){
				((Consumer)consumerHashMap.get(a[j])).setGetClustered();
			}
			
			cws.set_connectionMap(clusters.get(candidateForWOM.get(i).getClusterNo())
												.getWattaStrogatzClusterConnection());
			
		}
	}
}

for(int i=0; i< candidateForWOM.size();++i)
	candidateForWOM.remove(i--);

if(candidateForWOM.size() != 0)
	new Throwable(" WAS NOT SET TO ZERO");
	
}
//traceln("Reporting; Sick is:"+Main.Sick+", clusters" +clusterCollector.size()+" time "+Main.timeStep);]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1284319464407</Id>
					<Name><![CDATA[updateRunner]]></Name>
					<Description><![CDATA[THIS FUNCTION IS PRODUCING THE DEMAND FOR THE WATER DISTRIBUTION SYSTEM. ALSO DETERMINE HOW MANY GET SICK OR STOP DRINKING TAP WATER CAUSE OF WOM]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-790</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[int r=0;

// reset the broadcast based on the boradcast time
if((Main.timeStep - timeOfWarningbyMedia) >= broadcastTime ){
	isWarningPlaced = false;
}
//traceln("HERE to check what is the condition of: "+isWarningPlaced+" time Step "+Main.timeStep+" time "+timeOfWarningbyMedia);
//UPDATE NUMBER OF CONSUMERS AT NODES
consumerAtHome.numOfConsumerAtTimeInNodes = consumerAtNodes;
//traceln("is warning happened "+isWarningPlaced);
//UPDATE THE INFORMATION AT WATER_QUEUE && CONSUMER QUEUE
for(int i=0; i<ChangedConsumer.size();++i){
	int owner = ChangedConsumer.get(i).getOwnerNumber();
	if(ChangedConsumer.get(i).getIsSick()){
		waterRequest_queue.get(owner).setIsSick();
		consumerQueue.get(owner).setIsSick();
		consumerQueue.get(consumerQueue.get(owner).getGhostIndex(1)).setIsSick();
	}else{
		if(ChangedConsumer.get(i).isReceivedMediaMessage() && isWarningPlaced){
			waterRequest_queue.get(owner).placeMediaMessage();
			consumerQueue.get(owner).placeMediaMessage();
			consumerQueue.get(consumerQueue.get(owner).getGhostIndex(1)).placeMediaMessage();
		}else{
			waterRequest_queue.get(owner).setStopDrinking();
			consumerQueue.get(owner).setStopDrinking();
			consumerQueue.get(consumerQueue.get(owner).getGhostIndex(1)).setStopDrinking();
		}
		if(ChangedConsumer.get(i).isWarnedByRouting()){
			waterRequest_queue.get(owner).setWarnedByRoutingToTrue();
			consumerQueue.get(owner).setWarnedByRoutingToTrue();
			consumerQueue.get(consumerQueue.get(owner).getGhostIndex(1)).setWarnedByRoutingToTrue();
		}
	}
}
while(!ChangedConsumer.isEmpty())
	ChangedConsumer.remove(ChangedConsumer.size()-1);
//RESULT PRODUCER
int wom = 0;
int sick = 0;
int media = 0;
int routing = 0;

for(int i=0; i<waterRequest_queue.size();++i){	
	if(waterRequest_queue.get(i).getStopDrinking()){
		if(waterRequest_queue.get(i).getIsSick()){
			++sick;
		}else
			if(waterRequest_queue.get(i).isReceivedMediaMessage()){
				++media;
			}else{
				if(waterRequest_queue.get(i).isWarnedByRouting())
					++routing;
				else
					++wom;
			}
	}
	
	
	//UPDATE THE CONSUMERS BASED ON THE MEDIA
	if(isWarningPlaced && timeOfWarningbyMedia <= Main.timeStep){
		if(!waterRequest_queue.get(i).getStopDrinking()){
			if(Main_Optimization.wantWatchingTV){
				if(waterRequest_queue.get(i).isWatchingTVorListeningToRadio(Main.timeStep)){
					//THE COMPLIANCE OF CONSUMER TO MESSAGE
					if(Main_Optimization.wantComplianceModel){
						if(isWaterUtilityOrPublicHealthPersonnel && ComplianceAttributesProbabilities.getCompliance("WATER")
						&& !waterRequest_queue.get(i).dontComply){ 
							
							waterRequest_queue.get(i).placeMediaMessage();
							ChangedConsumer.add(waterRequest_queue.get(i));
							candidateForWOM.add(waterRequest_queue.get(i));
						}else{
							waterRequest_queue.get(i).dontComply = true;
						}
					}else{
						
						waterRequest_queue.get(i).placeMediaMessage();
						ChangedConsumer.add(waterRequest_queue.get(i));
						candidateForWOM.add(waterRequest_queue.get(i));
					}
				}
			}else{
				if(Main_Optimization.wantComplianceModel){
					if(isWaterUtilityOrPublicHealthPersonnel && ComplianceAttributesProbabilities.getCompliance("WATER")
						&& !waterRequest_queue.get(i).dontComply){ 
					
					
						waterRequest_queue.get(i).placeMediaMessage();
						ChangedConsumer.add(waterRequest_queue.get(i));
						candidateForWOM.add(waterRequest_queue.get(i));
					}
					else{
							waterRequest_queue.get(i).dontComply = true;
						}
				}else{
					
						waterRequest_queue.get(i).placeMediaMessage();
						ChangedConsumer.add(waterRequest_queue.get(i));
						candidateForWOM.add(waterRequest_queue.get(i));
				}
			
			}
		}
	}
	
}

Main.Sick = sick;
Main.WOM = wom;
Main.Media = media;
Main.Routing = routing;
Main.resultCollectorWOM.add(wom);
Main.resultCollectorSick.add(sick);
Main.resultCollectorMedia.add(media);
Main.resultCollectorRouting.add(routing);
/**
//UPDATE THE INFORMATION AT WATER_QUEUE
for(int i=0; i< consumerQueue.size();++i){
	Consumer a = consumerQueue.get(i);
	Consumer b = waterRequest_queue.get(a.getOwnerNumber());
	if(a.getOwnerNumber() != b.getOwnerNumber())
		new Throwable("INCONSISTENCY");
	if(a.getStopDrinking() && a.getIsSick() && (!b.getStopDrinking() && !b.getIsSick()))
		waterRequest_queue.get(a.getOwnerNumber()).setIsSick();
}
//UPDATE THE INFORMATION AT CONSUMER_QUEUE
for(int i=0;i<waterRequest_queue.size();++i){
	Consumer a = waterRequest_queue.get(i);
	Consumer b = consumerQueue.get(a.getOwnerNumber());
	if(a.getOwnerNumber() != b.getOwnerNumber())
		new Throwable("INCONSISTENCY");
	if(a.getStopDrinking() && !b.getStopDrinking()){
		consumerQueue.get(a.getOwnerNumber()).setStopDrinking();
		consumerQueue.get(consumerGhostIndex[a.getOwnerNumber()]).setStopDrinking();
	}	
	if(waterRequest_queue.get(i).getStopDrinking())
		++r;
}
*/
//STOPPING CRITERIA
stopDrinkingRecord[Main.timeStep] = r;

if(stopCriteriaFlag){
	if(Main.timeStep > timeStartToCheck ){
		if(((stopDrinkingRecord[Main.timeStep] 
				- stopDrinkingRecord[Main.timeStep-noChangeAtTimesteps]) < change) ||
				(r > 0.90*(waterRequest_queue.size()))){
		getEngine().setStopTime(Main.timeStep+2);
		stopCriteriaFlag = false;
		}
	}else{
		if(Main.Sick + Main.WOM + Main.Media + Main.Routing > 130000){
			getEngine().setStopTime(Main.timeStep+1);
	    	stopCriteriaFlag = false;
		}
	}	
}
//UPDATING THE REDUCTION FACTOR
double[] uu = new double[waterRequest_queue.size()];
for(int i=0; i< waterRequest_queue.size();++i){
	if(waterRequest_queue.get(i).getStopDrinking())
		uu[i] = waterRequest_queue.get(i).getReductionFactor();
}
reductionFactor = uu;
agentReport();

//END]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[int]]></ReturnType>
					<Id>1284512609294</Id>
					<Name><![CDATA[travelTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-750</X><Y>-130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[c]]></Name>
						<Type><![CDATA[Consumer]]></Type>
					</Parameter>
					<Body><![CDATA[double x1,x2,y1,y2,z1,z2;
x1=x2=y1=y2=z1=z2=0;
for(int i=0;i<Main.nodeID.length;++i){
	if(c.getFirstPlace().equals(Main.nodeID[i])){
		x1 = Main.X[i];
		y1 = Main.Y[i];
	}
	if(c.getSecondPlace().equals(Main.nodeID[i])){
		x2 = Main.X[i];
		y2 = Main.Y[i];
	}
}
if(c.getWorkingNodeType().equals("COM")){
	for(int i=0; i<Main.NodeElevation_Com.length;++i){
		if(c.getSecondPlace().equals(Main.nodeID_Com[i])){
			z2 = Main.NodeElevation_Com[i];
			break;
		}
	}
}
if(c.getWorkingNodeType().equals("IND")){
	for(int i=0; i<Main.NodeElevation_Ind.length;++i){
		if(c.getSecondPlace().equals(Main.nodeID_Ind[i])){
			z2 = Main.NodeElevation_Ind[i];
			break;
		}
	}
}
if(c.getWorkingNodeType().equals("NAV")){
	for(int i=0; i<Main.NodeElevation_NavyAir.length;++i){
		if(c.getSecondPlace().equals(Main.nodeID_NavyAir[i])){
			z2 = Main.NodeElevation_NavyAir[i];
			break;
		}
	}
}
for(int i=0; i<Main.NodeElevation_Res.length;++i){
	if(c.getSecondPlace().equals(Main.nodeID_Res[i])){
		z1 = Main.NodeElevation_Res[i];
		break;
	}
}
double d = Math.sqrt(Math.pow(z1-z2,2)+Math.pow(y1-y2,2)+Math.pow(x1-x2,2))*cityTravelCoefficent;

int	f = Math.round((float)d);
	
return f;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1302719576339</Id>
					<Name><![CDATA[call_reporting]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-790</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
 
try {
		FileWriter file= new FileWriter(reportFileForAgents.concat(Integer.toString(Main_Optimization.counter)).concat(".SPH"));
		++Main_Optimization.counter;
		BufferedWriter writer = new BufferedWriter(file);
		writer.write("SUMMARY "+Main_Optimization.genNumber);
		writer.newLine();

		writer.newLine();

		writer.write(Main_Optimization.inputToString+"\n");
				
		writer.newLine();
		writer.write("Total Sickened Person "+Main.Sick+"\tWOM\t"+Main.WOM+"\tMedia\t"+Main.Media+"\tAlerting Time\t"+Main.alertingTime+"\tAlerting of  PHU\t"+Main.alertingTime2+"\tRoutng\t"+Main.Routing+"\tClusters\t"+clusterCollector.size());
		writer.newLine();
		writer.write("------------------------------------------------------------------------------------------");
		writer.newLine();
		writer.write("Sickened Consumer Time Series");
		writer.newLine();
		writer.write("CPP "+consumerAtHome.CPP+" AFFECTED NODES "+0);
		writer.newLine();
		writer.write("------------------------------------------------------------------------------------------");
		writer.newLine();
		for(int k1=0;k1<Main.resultCollectorSick.size();++k1){
			writer.write("\t"+Main.resultCollectorSick.get(k1));
			writer.newLine();
		}
		writer.write("------------------------------------------------------------------------------------------");
		writer.newLine();
		writer.write("Contact By WOM, Time Series");
		writer.newLine();
		for(int k1=0; k1 < Main.resultCollectorWOM.size();++k1){
			writer.write("\t"+Main.resultCollectorWOM.get(k1));
			writer.newLine();
		}	
		writer.write("------------------------------------------------------------------------------------------");
		//writer.newLine();
		//writer.write("Contact By Routing, Time Series");
		//writer.newLine();
		//for(int k1=0;k1<Main.resultCollectorRouting.size();++k1){
		//	writer.write("\t"+Main.resultCollectorRouting.get(k1));
		//	writer.newLine();
		//}	
	//	writer.write("------------------------------------------------------------------------------------------");
		writer.newLine();
		writer.write("Contact By media, Time Series");
		writer.newLine();
		for(int k1=0;k1<Main.resultCollectorMedia.size();++k1){
			writer.write("\t"+Main.resultCollectorMedia.get(k1));
			writer.newLine();
		}	
	   	writer.write("************************************");
	  	writer.newLine();
	  	for(int g=0;g<consumerAtHome.qPeople.size();++g){
	  		writer.write("Time:\t"+g+"\tPeople\t"+consumerAtHome.qPeople.get(g));
	 		writer.newLine();
	 	}
	    writer.write("************************************");
	 	writer.newLine();
			   	/*	  writer.write("Bottled\t"+GroupConsumer.bottled+"\tBoiled\t"+GroupConsumer.boiled
	 	  				  +"\tChlorined\t"+GroupConsumer.chlorined+"\tHeatered\t"+GroupConsumer.heatered
			   				  +"\tFiltered\t"+GroupConsumer.filtered);
	 		  		  writer.newLine();
	 		  		  writer.write("ALL STOP DRINKING CONSUMERS");
	 		  		  writer.newLine();
	 		  		  writer.write("Bottled\t"+GroupConsumer.bottled1+"\tBoiled\t"+GroupConsumer.boiled1
	 		 				  +"\tChlorined\t"+GroupConsumer.chlorined1+"\tHeatered\t"+GroupConsumer.heatered1
	 		  				  +"\tFiltered\t"+GroupConsumer.filtered1);*/
	 	 
	 	 writer.write("*********ROUTING: REPORTING SELECTED NODES***************************");
	 if(FireDepartment.selectedNodes != null)
	 	 for(int i=0;i < FireDepartment.selectedNodes.length;++i){
	 	 	writer.write("CAR #: "+i);
	 	 	writer.newLine();
	 	 	for(int j=0; j< FireDepartment.selectedNodes[i].length;++j){
	 	 		writer.write(FireDepartment.selectedNodes[i][j]+"\t");
	 	 	}
	 	 	writer.newLine(); 	 	
	 	 }
	 	  writer.close();
} catch (IOException e) {
		e.printStackTrace();
}
			
			

				]]></Body>
				</Function>
			</Functions>
			<EmbeddedObjects>
				<EmbeddedObject>
					<Id>1254840477054</Id>
					<Name><![CDATA[consumerAtHome]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>170</X><Y>320</Y>
					<Label><X>-40</X><Y>-20</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[ConsumerAtHome]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[isSick]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[weight]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[stopFlag]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[isHere]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[node]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[cumNo]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[currentNode]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[meal1]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[meal2]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[meal3]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[meal4]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[meal5]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[dose]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[volume]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[counter]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[nodeKeeper]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[nodeHolder]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[stopDrinkingWater]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[cluster]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[warnedByRouting]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[timeHere]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[consumer]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[com]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[air]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[ind]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[checkMobility]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[res]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1276803525926</Id>
					<Name><![CDATA[wordOfMouth_Cluster]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>100</X><Y>280</Y>
					<Label><X>-65</X><Y>-21</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[WordOfMouth_Cluster]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[member]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[clusterNo]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[rank]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[receivedMessage]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<Replication><![CDATA[0]]></Replication>	
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1277320113464</Id>
					<Name><![CDATA[wordOfMouth_CWS]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>240</X><Y>280</Y>
					<Label><X>-57</X><Y>-21</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[epanet]]></PackageName>
						<ClassName><![CDATA[WordOfMouth_CWS]]></ClassName>
					</ActiveObjectClass>
					<GenericParametersSubstitute><![CDATA[]]></GenericParametersSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[member]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[clusterNo]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[connectionMap]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[drinkingWater]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[destroyFlag]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[receivedMessage]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
						<Parameter>
							<Name><![CDATA[dontComply]]></Name>
							<Value><![CDATA[]]></Value>	
						</Parameter>
					</Parameters>
					<Replication><![CDATA[0]]></Replication>	
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
				</EmbeddedObject>
			</EmbeddedObjects>

			<Shapes>
				<Rectangle>
					<Id>1268848785343</Id>
					<Name><![CDATA[InitializationBox]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-770</X><Y>-260</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>390</Width>
					<Height>230</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-8355840</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1268850590671</Id>
					<Name><![CDATA[DrinkingandWeightForAllConsumers]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-290</X><Y>-110</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>150</Width>
					<Height>100</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-4684277</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1269460596771</Id>
					<Name><![CDATA[rectangle]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-590</X><Y>-160</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>210</Width>
					<Height>70</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-256</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1271447869632</Id>
					<Name><![CDATA[ParameterToCharacterizeConsumers]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-530</X><Y>-260</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>150</Width>
					<Height>100</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1086308288</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1277133180053</Id>
					<Name><![CDATA[newWOM]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1150</X><Y>-130</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>380</Width>
					<Height>80</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-4144960</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1277476014784</Id>
					<Name><![CDATA[stoppingCriteria]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-310</X><Y>0</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>230</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-65536</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1286166716282</Id>
					<Name><![CDATA[decisionMakers]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>-1270</X><Y>-10</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>230</Width>
					<Height>140</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-9404272</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
			</Shapes>
		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1246373510507</Id>
			<Name><![CDATA[ConsumerAtHome]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<AdditionalClassCode><![CDATA[
]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>false</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="PlainVariable">
					<Id>1270179815676</Id>
					<Name><![CDATA[threshold]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double]]></Type>        
						<InitialValue><![CDATA[3.5]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1270181323087</Id>
					<Name><![CDATA[nodesQuality]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1270182763290</Id>
					<Name><![CDATA[numOfConsumerAtTimeInNodes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1270182981324</Id>
					<Name><![CDATA[StopForPassing]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1285170051829</Id>
					<Name><![CDATA[dynamicThreshold]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue><![CDATA[false]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1285171114797</Id>
					<Name><![CDATA[protectiveLevel]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>730</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[0]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1298404409148</Id>
					<Name><![CDATA[nodeContributionInRouting]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>50</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[][]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1298405377188</Id>
					<Name><![CDATA[controlVariable]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>50</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1298926130660</Id>
					<Name><![CDATA[plainVar]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>50</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1298926233656</Id>
					<Name><![CDATA[routingMaxTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>180</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1301149685879</Id>
					<Name><![CDATA[timeWarning]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1353348131652</Id>
					<Name><![CDATA[CPP]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>720</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1270178962040</Id>
					<Name><![CDATA[isSick]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>80</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1270178962025</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1270179009121</Id>
					<Name><![CDATA[weight]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>80</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1270179009119</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277138554604</Id>
					<Name><![CDATA[stopFlag]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>80</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277138554602</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284222087719</Id>
					<Name><![CDATA[isHere]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>80</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284222087703</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284480803431</Id>
					<Name><![CDATA[node]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>350</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284480803429</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284480812009</Id>
					<Name><![CDATA[cumNo]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>420</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284480812007</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414395</Id>
					<Name><![CDATA[currentNode]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>842</X><Y>192</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[String]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414393</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414411</Id>
					<Name><![CDATA[meal1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>842</X><Y>212</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414409</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414414</Id>
					<Name><![CDATA[meal2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>842</X><Y>232</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414412</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414417</Id>
					<Name><![CDATA[meal3]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>842</X><Y>252</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414415</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414420</Id>
					<Name><![CDATA[meal4]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>842</X><Y>272</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414418</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414427</Id>
					<Name><![CDATA[meal5]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>842</X><Y>292</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414425</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414430</Id>
					<Name><![CDATA[dose]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>842</X><Y>312</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414428</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414433</Id>
					<Name><![CDATA[volume]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>722</X><Y>232</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414431</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414439</Id>
					<Name><![CDATA[counter]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>720</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414437</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414442</Id>
					<Name><![CDATA[nodeKeeper]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>720</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414440</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414445</Id>
					<Name><![CDATA[nodeHolder]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>720</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414443</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414448</Id>
					<Name><![CDATA[stopDrinkingWater]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>722</X><Y>192</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414446</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1284568414451</Id>
					<Name><![CDATA[cluster]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>722</X><Y>212</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1284568414449</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298406549999</Id>
					<Name><![CDATA[warnedByRouting]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>80</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1298406549997</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298926038959</Id>
					<Name><![CDATA[timeHere]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>170</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1298926038957</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1303752643945</Id>
					<Name><![CDATA[consumer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>80</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[Consumer]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1303752643943</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1309100904785</Id>
					<Name><![CDATA[res]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>400</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1309100904783</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1309100911212</Id>
					<Name><![CDATA[com]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>400</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1309100911210</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1309100926585</Id>
					<Name><![CDATA[air]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>400</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1309100926583</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1309100927867</Id>
					<Name><![CDATA[ind]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>400</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1309100927865</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1309102735283</Id>
					<Name><![CDATA[checkMobility]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>400</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1309102735281</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1353348232660</Id>
					<Name><![CDATA[qPeople]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>890</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Double]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<StatechartElements>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1270180352856</Id>
					<Name><![CDATA[start]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>160</X><Y>130</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="100" Height="30">
						<EntryAction><![CDATA[res = 0;
com = 0;
ind = 0;
air = 0;
CPP = 0;
if(Main.timeStep == 0){
	StopForPassing = new int[get_GroupConsumer().populationAtWorkandHome.length];
}
//traceln("SIZE "+numOfConsumerAtTimeInNodes.length);
for(int i=0; i< StopForPassing.length;++i){
	StopForPassing[i] = 0 ;	
}

cumNo = get_GroupConsumer().populationAtWorkandHome[node];]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1270180375778</Id>
					<Name><![CDATA[state1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>290</X><Y>80</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="240" Height="200">
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="state1" ParentStateId="1270180375778">
					<Id>1270178487082</Id>
					<Name><![CDATA[checkConsumerCondition]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>340</X><Y>220</Y>
					<Label><X>0</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="150" Height="30">
						<EntryAction><![CDATA[
if(isHere){	
	cppIndexCalculator();
	boolean tempWarnedByRouting = warnedByRouting;
	if(controlVariable)
		informedByRouting();
	
		
	boolean tempIsSick = isSick;
	if(!isSick && !stopDrinkingWater){
		stopCheck();
	}
	if(isSick || stopDrinkingWater){
		++StopForPassing[nodeKeeper];
	}
	if(tempIsSick != isSick && tempWarnedByRouting != warnedByRouting)
		GroupConsumer.ChangedConsumer.add(GroupConsumer.consumerQueue.get(counter));
	

	
	if(isSick && !stopFlag ){
		GroupConsumer.consumerQueue.get(counter).setIsSick();
		if(counter >= GroupConsumer.waterRequest_queue.size()){
		//	GroupConsumer.consumerQueue.get(GroupConsumer.consumerQueue.get(counter).getGhostIndex(0)).setGotDose(dose);
			GroupConsumer.waterRequest_queue.get(GroupConsumer.consumerQueue.get(counter).getGhostIndex(0)).setIsSick();
		}else{
			GroupConsumer.waterRequest_queue.get(counter).setIsSick();
		//	GroupConsumer.consumerQueue.get(counter).setGotDose(dose);
		}

	//GIVE CONSUMER CANDIDATE FOR DOING WOM
	
		if(!cluster)
			GroupConsumer.candidateForWOM.add(GroupConsumer.consumerQueue.get(counter));
	}	
/*if(isSick ){
	GroupConsumer.waterRequest_queue.get(counter).setStopDrinking();
	}*/

    if(isSick && !stopFlag)
    	GroupConsumer.consumerQueue.get(GroupConsumer.consumerGhostIndex[counter]).setIsSick();	
	
	GroupConsumer.consumerQueue.get(GroupConsumer.consumerGhostIndex[counter]).setGotDose(dose);
}
++counter;		]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="state1" ParentStateId="1270180375778">
					<Id>1270178431972</Id>
					<Name><![CDATA[initiateConsumer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>340</X><Y>120</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="150" Height="30">
						<EntryAction><![CDATA[//traceln("hello in CatHome2");
//traceln(" trace "+ nodeKeeper +"cooo "+counter);

do{
if(counter > cumNo && node <(get_GroupConsumer().populationAtWorkandHome.length - 1)){
	++node;
	cumNo += get_GroupConsumer().populationAtWorkandHome[node];
}
	if(counter <= GroupConsumer.consumerQueue.size())
		break;
}while(counter > cumNo);
nodeKeeper = node;

/*nodeKeeper +=nodeIncrementer;
nodeIncrementer = 0;
if( (counter -nodeHolder) > get_GroupConsumer().populationAtWorkandHome[nodeKeeper] ){
	nodeHolder += get_GroupConsumer().populationAtWorkandHome[nodeKeeper];
	++nodeKeeper;
	if(get_GroupConsumer().populationAtWorkandHome.length-1 != nodeKeeper)
		while(get_GroupConsumer().populationAtWorkandHome[nodeKeeper+nodeIncrementer] == 0){
			++nodeIncrementer;
			if((nodeKeeper+nodeIncrementer) == get_GroupConsumer().populationAtWorkandHome.length)
				break;
		}
}
*/

consumer = GroupConsumer.consumerQueue.get(counter);
currentNode = consumer.getCurrentNode();
dose = consumer.getDose();
meal1 = (int)Math.round(consumer.getWaterUseTime(1));
meal2 =	(int) Math.round(consumer.getWaterUseTime(2));
meal3 = (int)Math.round(consumer.getWaterUseTime(3));
meal4 = (int)Math.round(consumer.getWaterUseTime(4));
meal5 = (int)Math.round(consumer.getWaterUseTime(5));
isSick  = consumer.getIsSick();
warnedByRouting = consumer.isWarnedByRouting();
stopFlag = consumer.getStopFlag();
cluster = consumer.getGetClustered();
weight =consumer.getWeight();
volume = consumer.getDrinkingVolume();
stopDrinkingWater = consumer.getStopDrinking();
isHere = consumer.getIsHere();

if(isHere && checkMobility){
	for(int i=0;i<Main.nodeID_Res.length;++i)
		if(currentNode.equals(Main.nodeID_Res[i]))
			++res;
	for(int i=0;i<Main.nodeID_Com.length;++i)
		if(currentNode.equals(Main.nodeID_Com[i]))
			++com;
	for(int i=0;i<Main.nodeID_Ind.length;++i)
		if(currentNode.equals(Main.nodeID_Ind[i]))
			++ind;
	for(int i=0;i<Main.nodeID_NavyAir.length;++i)
		if(currentNode.equals(Main.nodeID_NavyAir[i]))
			++air;
}		]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1270180920160</Id>
					<Name><![CDATA[END]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>190</X><Y>290</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="110" Height="30">
						<EntryAction><![CDATA[	GroupConsumer.demandMessage = Arrays.copyOf(StopForPassing,StopForPassing.length);
	//UPDATE ALL VARIABLES FOR NEXT ITERATION
	node =0;
	counter =0;
	nodeKeeper = 0;
	nodeHolder = 0;
	if(controlVariable)
		++timeWarning;
	if((routingMaxTime + timeHere) <= Main.timeStep)
		controlVariable = false;
	//END
		
	CPP = CPP / (double) 146693;
	//traceln("CPP "+CPP);
	qPeople.add(CPP);
	
if(checkMobility)
	traceln("time "+ Main.timeStep+ " res "+res+" com "+com+" ind "+ind+" air "+air);
		
	//traceln("Sick "+Main.presentorCounter);]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="EntryPoint" ParentState="ROOT_NODE">
					<Id>1270178444174</Id>
					<Name><![CDATA[ingestion]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>200</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>40</Y></Point>
					</Points>
					<Properties Target="1270180352856">
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="state1" ParentStateId="1270180375778">
					<Id>1270178469379</Id>
					<Name><![CDATA[transition7]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>380</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>70</Y></Point>
					</Points>
					<Properties Source="1270178431972" Target="1270178487082" Trigger="timeout">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="state1" ParentStateId="1270180375778">
					<Id>1270178510926</Id>
					<Name><![CDATA[transition8]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>440</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>-70</Y></Point>
					</Points>
					<Properties Source="1270178487082" Target="1270178431972" Trigger="condition">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[counter < GroupConsumer.consumerQueue.size()]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1270180382356</Id>
					<Name><![CDATA[transition9]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>260</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>30</X><Y>0</Y></Point>
					</Points>
					<Properties Source="1270180352856" Target="1270180375778" Trigger="timeout">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1270180406496</Id>
					<Name><![CDATA[transition10]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>340</X><Y>230</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>-120</X><Y>0</Y></Point>
						<Point><X>-120</X><Y>60</Y></Point>
					</Points>
					<Properties Source="1270178487082" Target="1270180920160" Trigger="condition">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[counter >= GroupConsumer.consumerQueue.size()]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>false</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="InitialStatePointer" ParentState="state1" ParentStateId="1270180375778">
					<Id>1270180460201</Id>
					<Name><![CDATA[initialState1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>370</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>30</Y></Point>
					</Points>
					<Properties Target="1270178431972">
					</Properties>	
				</StatechartElement>
			</StatechartElements>
			<Functions>
				<Function AccessType="private" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1270179815638</Id>
					<Name><![CDATA[doseDeterminer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[time]]></Name>
						<Type><![CDATA[int]]></Type>
					</Parameter>
					<Body><![CDATA[/*	
	if((time == meal1 || time == meal2 ||
		time == meal3 || time == meal4 ||
		time == meal5) ){
						dose += volume	*	nodesQuality[nodeKeeper ]/5;
			if(!dynamicThreshold){
					if(dose >= threshold)
						isSick = true;
			}else{
				switch(protectiveLevel){
					case(0):
						threshold = 0.035 * weight;
						break;
					case(1):
						threshold = 0.050 * weight;
						break;
					case(2):
						threshold = 0.071 *weight;
						break;
				}
				if(dose >= threshold)
						isSick = true;
			}
				
		}
	*/	
if(time == meal1){

	dose += volume	*	nodesQuality[nodeKeeper ]/5;
	if(!dynamicThreshold){
		if(dose >= (((double)threshold * weight)/(double)70))
			isSick = true;
	}else{
		switch(protectiveLevel){
			case(0):
				threshold = 0.035 * weight;
				break;
			case(1):
				threshold = 0.050 * weight;
				break;
			case(2):
				threshold = 0.071 *weight;
				break;
		}
		if(dose >= threshold)
				isSick = true;
		}
}
if(time == meal2){

	dose += volume	*	nodesQuality[nodeKeeper ]/5;
	if(!dynamicThreshold){
		if(dose >= (((double)threshold * weight)/(double)70))
			isSick = true;
	}else{
		switch(protectiveLevel){
			case(0):
				threshold = 0.035 * weight;
				break;
			case(1):
				threshold = 0.050 * weight;
				break;
			case(2):
				threshold = 0.071 *weight;
				break;
		}
		if(dose >= threshold)
				isSick = true;
		}
}
if(time == meal3){

	dose += volume	*	nodesQuality[nodeKeeper ]/5;
	if(!dynamicThreshold){
		if(dose >= (((double)threshold * weight)/(double)70))
			isSick = true;
	}else{
		switch(protectiveLevel){
			case(0):
				threshold = 0.035 * weight;
				break;
			case(1):
				threshold = 0.050 * weight;
				break;
			case(2):
				threshold = 0.071 *weight;
				break;
		}
		if(dose >= threshold)
				isSick = true;
		}
}
if(time == meal4){

	dose += volume	*	nodesQuality[nodeKeeper ]/5;
	if(!dynamicThreshold){
		if(dose >= (((double)threshold * weight)/(double)70))
			isSick = true;
	}else{
		switch(protectiveLevel){
			case(0):
				threshold = 0.035 * weight;
				break;
			case(1):
				threshold = 0.050 * weight;
				break;
			case(2):
				threshold = 0.071 *weight;
				break;
		}
		if(dose >= threshold)
				isSick = true;
		}
}
if(time == meal5){

	dose += volume	*	nodesQuality[nodeKeeper ]/5;
	if(!dynamicThreshold){
		if(dose >= (((double)threshold * weight)/(double)70))
			isSick = true;
	}else{
		switch(protectiveLevel){
			case(0):
				threshold = 0.035 * weight;
				break;
			case(1):
				threshold = 0.050 * weight;
				break;
			case(2):
				threshold = 0.071 *weight;
				break;
		}
		if(dose >= threshold)
				isSick = true;
		}
}
	]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1270181128303</Id>
					<Name><![CDATA[stopCheck]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>600</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[int newSetTime = Main.convertTimetoDayScale(Main.timeStep);

double tempodose = dose;
doseDeterminer(newSetTime);

GroupConsumer.consumerQueue.get(counter).setGotDose(dose);

]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1298404450357</Id>
					<Name><![CDATA[informedByRouting]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>50</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double contribution = 0 ;
if(timeWarning < nodeContributionInRouting.length)
	contribution = nodeContributionInRouting[timeWarning][nodeKeeper];
/*if(timeWarning == 0)
	contribution = nodeContributionInRouting[0][nodeKeeper];
else
	if(timeWarning < 5)
		contribution  = nodeContributionInRouting[timeWarning][nodeKeeper] - 
							nodeContributionInRouting[timeWarning-1][nodeKeeper];*/

double random = new Random().nextDouble();
if(timeHere == 0)
	timeHere = Main.timeStep;
//CHECK COMPLIANCE
if(random < contribution &&  ComplianceAttributesProbabilities.getCompliance("WATER")){
	GroupConsumer.consumerQueue.get(counter).setWarnedByRoutingToTrue();
	GroupConsumer.consumerQueue.get(GroupConsumer.consumerGhostIndex[counter]).setWarnedByRoutingToTrue();
	
	if(counter >= GroupConsumer.waterRequest_queue.size()){
		GroupConsumer.waterRequest_queue.get(GroupConsumer.consumerQueue.get(counter).getGhostIndex(0)).setWarnedByRoutingToTrue();
	}else{
		GroupConsumer.waterRequest_queue.get(counter).setWarnedByRoutingToTrue();
	}
	warnedByRouting = true;
	if(!cluster)
		GroupConsumer.candidateForWOM.add(GroupConsumer.consumerQueue.get(counter));
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1353348148029</Id>
					<Name><![CDATA[cppIndexCalculator]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>790</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if(nodesQuality[nodeKeeper] > 0.001)
	++CPP;
	
]]></Body>
				</Function>
			</Functions>

			<Shapes>
				<Rectangle>
					<Id>1298404409146</Id>
					<Name><![CDATA[routing]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>30</X><Y>10</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>260</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-16711681</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1309102727655</Id>
					<Name><![CDATA[rectangle]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>380</X><Y>300</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>110</Width>
					<Height>110</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
			</Shapes>
		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1276801116530</Id>
			<Name><![CDATA[WordOfMouth_Cluster]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="PlainVariable">
					<Id>1276801323393</Id>
					<Name><![CDATA[clusterPopulation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>130</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[15]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1276819050388</Id>
					<Name><![CDATA[numberOfInformationIsolate]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[1]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1276819070950</Id>
					<Name><![CDATA[numberOfIntermediate]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[2]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277319094957</Id>
					<Name><![CDATA[wattaStrogatzProbability]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>180</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double]]></Type>        
						<InitialValue><![CDATA[0.5]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1277319134785</Id>
					<Name><![CDATA[wattaStrogatzConnectionNo]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>180</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[4]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1276801375645</Id>
					<Name><![CDATA[member]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[Consumer[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1276801375643</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1276803165349</Id>
					<Name><![CDATA[clusterNo]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1276803165347</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277167050675</Id>
					<Name><![CDATA[rank]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277167050673</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277391279926</Id>
					<Name><![CDATA[receivedMessage]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>110</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277391279924</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<StatechartElements>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1277170994709</Id>
					<Name><![CDATA[OriginalSource]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>430</X><Y>80</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="120" Height="30">
						<EntryAction><![CDATA[receivedMessage = new boolean[clusterPopulation];]]></EntryAction>
						<ExitAction><![CDATA[
for(int i=0; i < rank.length;i++ ){
	if(rank[i] == 1){
		if(Main_Optimization.complianceWOM ) {
			if(new ComplianceAttributesProbabilities().getCompliance("FAMILY"))
				receivedMessage[i] = true;
				member[i].setStopDrinking();
		}else{
			receivedMessage[i] = true;
		     member[i].setStopDrinking();
		}
	}	
}]]></ExitAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1277171068381</Id>
					<Name><![CDATA[Intermediate]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>430</X><Y>140</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="120" Height="30">
						<EntryAction><![CDATA[for(int i=0; i < rank.length;i++ ){
	if(rank[i] == 2){
		if(Main_Optimization.complianceWOM ) {
			if(new ComplianceAttributesProbabilities().getCompliance("FAMILY"))
				receivedMessage[i] = true;
		}else
			receivedMessage[i] = true;
	}	
}]]></EntryAction>
						<ExitAction><![CDATA[for(int i=0; i< receivedMessage.length;i++){
	if(receivedMessage[i] && !member[i].getStopDrinking()){
		// UPDATE THIS AGENT DRINKING STATUS
		member[i].setStopDrinking();
		//UPDATE THE CONSUMER AT WATER REQUEST QUEUE
		((Consumer)GroupConsumer.consumerHashMap.get(member[i])).setStopDrinking();
		//THROWS ERROR IF TWO CONSUMERS DO NOT MATCH
		if(((Consumer)GroupConsumer.consumerHashMap.get(member[i])).getOwnerNumber() ==
									member[i].getOwnerNumber())
				new Throwable("THE CONSUMERS ARE NOT CONSISTENT");
	}
}]]></ExitAction>
						<FillColor>-16711936</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1277391406333</Id>
					<Name><![CDATA[UltimateReciever]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>430</X><Y>220</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="120" Height="30">
						<EntryAction><![CDATA[for(int i=0; i < rank.length;i++ ){
	if(rank[i] == 3){
		if(Main_Optimization.complianceWOM ) {
			if(new ComplianceAttributesProbabilities().getCompliance("FAMILY"))
				receivedMessage[i] = true;
		}else
			receivedMessage[i] = true;
	}	
}]]></EntryAction>
						<ExitAction><![CDATA[for(int i=0; i< receivedMessage.length;i++){
	if(receivedMessage[i] && !member[i].getStopDrinking()){
		// UPDATE THIS AGENT DRINKING STATUS
		member[i].setStopDrinking();
		//UPDATE THE CONSUMER AT WATER REQUEST QUEUE
		GroupConsumer.ChangedConsumer.add(((Consumer)GroupConsumer.consumerHashMap.get(member[i])));
		//IF ABOVE CODE WORKS WE CAN DELETE THE BELOW CODE
		((Consumer)GroupConsumer.consumerHashMap.get(member[i])).setStopDrinking();
		//THROWS ERROR IF TWO CONSUMERS DO NOT MATCH
		if(((Consumer)GroupConsumer.consumerHashMap.get(member[i])).getOwnerNumber() ==
									member[i].getOwnerNumber())
				new Throwable("THE CONSUMERS ARE NOT CONSISTENT");
	}
}]]></ExitAction>
						<FillColor>-6632142</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1277391578075</Id>
					<Name><![CDATA[End_DestroyAgent]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>220</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="140" Height="30">
						<EntryAction><![CDATA[get_GroupConsumer().remove_wordOfMouth_Cluster(this);]]></EntryAction>
						<FillColor>-8097537</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="EntryPoint" ParentState="ROOT_NODE">
					<Id>1277170991489</Id>
					<Name><![CDATA[statechart]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>480</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>40</Y></Point>
					</Points>
					<Properties Target="1277170994709">
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1277171007709</Id>
					<Name><![CDATA[transition]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>480</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>30</Y></Point>
					</Points>
					<Properties Source="1277170994709" Target="1277171068381" Trigger="timeout">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1277391402973</Id>
					<Name><![CDATA[transition1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>480</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>50</Y></Point>
					</Points>
					<Properties Source="1277171068381" Target="1277391406333" Trigger="timeout">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1277391571075</Id>
					<Name><![CDATA[transition2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>550</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>40</X><Y>0</Y></Point>
					</Points>
					<Properties Source="1277391406333" Target="1277391578075" Trigger="timeout">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[destroyingFlag]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
			</StatechartElements>

			<Shapes>
				<Rectangle>
					<Id>1277391168019</Id>
					<Name><![CDATA[WordOfMouthParameter]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>10</X><Y>10</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>330</Width>
					<Height>70</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-10039894</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
			</Shapes>
		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1277319739289</Id>
			<Name><![CDATA[WordOfMouth_CWS]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="Parameter">
					<Id>1277319760518</Id>
					<Name><![CDATA[member]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[Consumer[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277319760516</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277319760524</Id>
					<Name><![CDATA[clusterNo]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277319760519</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277319760527</Id>
					<Name><![CDATA[connectionMap]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>20</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int[][]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277319760525</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277320747007</Id>
					<Name><![CDATA[drinkingWater]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>130</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277320747005</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277323822189</Id>
					<Name><![CDATA[destroyFlag]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>130</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1277323822187</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1277325386469</Id>
					<Name><![CDATA[receivedMessage]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>130</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1277325386467</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1374763919469</Id>
					<Name><![CDATA[dontComply]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>130</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1374763919467</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<StatechartElements>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1277320730225</Id>
					<Name><![CDATA[state]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>410</X><Y>0</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="160" Height="40">
						<ExitAction><![CDATA[drinkingWater = new boolean[member.length];
receivedMessage = new boolean[member.length];
dontComply = new boolean[member.length];]]></ExitAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1277323592422</Id>
					<Name><![CDATA[StartSending]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>410</X><Y>80</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="160" Height="40">
						<EntryAction><![CDATA[for(int i=0;i<member.length;i++){
	if(!member[i].getStopDrinking())//{
		/*if(doesComply){
			if(new Random().nextDouble() < member[i].getCompliance(2)){
				drinkingWater[i] = true;
			}
		}else{*/
			drinkingWater[i] = true;
		//}
	//}
}]]></EntryAction>
						<ExitAction><![CDATA[for(int i=0;i<member.length;i++){
	if(!drinkingWater[i]){
		for(int j=0; j < connectionMap[i].length;j++){
			if(Main_Optimization.complianceWOM){
				if(new ComplianceAttributesProbabilities().getCompliance("FAMILY") && !dontComply[connectionMap[i][j]]){
					receivedMessage[connectionMap[i][j]] = true;
				}else{
					receivedMessage[connectionMap[i][j]] = false;
					dontComply[connectionMap[i][j]] = true;
				}
				
			}else
				receivedMessage[connectionMap[i][j]] = true;
			
		}
	}
}]]></ExitAction>
						<FillColor>-16711936</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1277323617532</Id>
					<Name><![CDATA[ChangeConsumerStatus]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>410</X><Y>180</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="160" Height="40">
						<EntryAction><![CDATA[for(int i=0;i < receivedMessage.length;i++){
	if(receivedMessage[i] && !member[i].getStopFlag()){
		// UPDATE THIS AGENT DRINKING STATUS
		member[i].setStopDrinking();
		//UPDATE THE CONSUMER AT WATER REQUEST QUEUE
		GroupConsumer.ChangedConsumer.add(((Consumer)GroupConsumer.consumerHashMap.get(member[i])));
		((Consumer)GroupConsumer.consumerHashMap.get(member[i])).setStopDrinking();
		//THROWS ERROR IF TWO CONSUMERS DO NOT MATCH
		if(((Consumer)GroupConsumer.consumerHashMap.get(member[i])).getOwnerNumber() ==
			member[i].getOwnerNumber())
				new Throwable("THE CONSUMERS ARE NOT CONSISTENT");
	}
}
]]></EntryAction>
						<ExitAction><![CDATA[int k = 0;
for(int i=0;i < member.length;i++){
	if(member[i].getStopDrinking())
		++k;
}
if(k == member.length)
	destroyFlag = true;]]></ExitAction>
						<FillColor>-65536</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1277323709594</Id>
					<Name><![CDATA[DestroyAgent]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>140</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="140" Height="40">
						<EntryAction><![CDATA[get_GroupConsumer().remove_wordOfMouth_CWS(this);]]></EntryAction>
						<FillColor>-16711681</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="Branch" ParentState="ROOT_NODE">
					<Id>1277323767516</Id>
					<Name><![CDATA[branch]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>540</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Properties>	
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="EntryPoint" ParentState="ROOT_NODE">
					<Id>1277320716834</Id>
					<Name><![CDATA[WOM]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>380</X><Y>20</Y>
					<Label><X>-20</X><Y>20</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>30</X><Y>0</Y></Point>
					</Points>
					<Properties Target="1277320730225">
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1277323580610</Id>
					<Name><![CDATA[transition]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>40</Y></Point>
					</Points>
					<Properties Source="1277320730225" Target="1277323592422" Trigger="timeout">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1277323607235</Id>
					<Name><![CDATA[transition1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>430</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>60</Y></Point>
					</Points>
					<Properties Source="1277323592422" Target="1277323617532" Trigger="timeout">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1277323623547</Id>
					<Name><![CDATA[transition2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>540</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>-20</Y></Point>
					</Points>
					<Properties Source="1277323617532" Target="1277323767516" Trigger="timeout">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1277323703422</Id>
					<Name><![CDATA[transition3]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>552</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>38</X><Y>0</Y></Point>
					</Points>
					<Properties Source="1277323767516" Target="1277323709594" Trigger="condition">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1277323778282</Id>
					<Name><![CDATA[transition4]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>540</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>-20</Y></Point>
					</Points>
					<Properties Source="1277323767516" Target="1277323592422" Trigger="timeout">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[!destroyFlag]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>false</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
			</StatechartElements>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1277502149743</Id>
			<Name><![CDATA[Main_Optimization]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="PlainVariable">
					<Id>1279662610368</Id>
					<Name><![CDATA[needMobility]]></Name>
					<Description><![CDATA[TRUE = NEED MOBILITY
FALSE = DON'T NEED MOBILITY]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue><![CDATA[true]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1279662678400</Id>
					<Name><![CDATA[needWOM]]></Name>
					<Description><![CDATA[TRUE = NEED WOM
FALSE = DON'T NEED WOM]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue><![CDATA[true]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1279662728588</Id>
					<Name><![CDATA[ingestingVolume]]></Name>
					<Description><![CDATA[VOLUME OF WATER IS DINKING BY CONSUMERS PER DAY ]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double]]></Type>        
						<InitialValue><![CDATA[0.93]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1279662789182</Id>
					<Name><![CDATA[VorM]]></Name>
					<Description><![CDATA[V PROBABILISTIC
M DETERMINITIC 

REMIND THEY SHOULD BE WRITTEN IN A BIG LETTER ]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[char]]></Type>        
						<InitialValue><![CDATA['V']]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1279662892479</Id>
					<Name><![CDATA[needDeterministicTimes]]></Name>
					<Description><![CDATA[TRUE PROBABILISTIC
FALSE DETERMINISTIC]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue><![CDATA[false]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1279663024902</Id>
					<Name><![CDATA[Times]]></Name>
					<Description><![CDATA[JUST FIVE TIMES THEY SHOULD BE INTEGERS]]></Description> 
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double[]]]></Type>        
						<InitialValue><![CDATA[{6,9,11,14,17}]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1279669769450</Id>
					<Name><![CDATA[needNoHydChange]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue><![CDATA[false]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1283554877378</Id>
					<Name><![CDATA[add]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String]]></Type>        
						<InitialValue><![CDATA[currentDir.concat("Result 2/Res_")]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1296164607974</Id>
					<Name><![CDATA[currentDir]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String]]></Type>        
						<InitialValue><![CDATA[System.getProperty("user.dir")]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1296332799320</Id>
					<Name><![CDATA[needGame]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1296761786000</Id>
					<Name><![CDATA[needRouting]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1298330066551</Id>
					<Name><![CDATA[routingVisibility]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>10</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1298333344819</Id>
					<Name><![CDATA[media]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1298333688586</Id>
					<Name><![CDATA[openingHydrant]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1298665063014</Id>
					<Name><![CDATA[isOptimization]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1302720016830</Id>
					<Name><![CDATA[counter]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>670</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[0]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1305249992105</Id>
					<Name><![CDATA[wantWatchingTV]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>90</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1305250023308</Id>
					<Name><![CDATA[wantComplianceModel]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>90</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1305320070137</Id>
					<Name><![CDATA[inputToString]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>90</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1309451307689</Id>
					<Name><![CDATA[genNumber]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>670</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1317740835279</Id>
					<Name><![CDATA[complianceWOM]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>90</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1345476377554</Id>
					<Name><![CDATA[model]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[0]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1296164577277</Id>
					<Name><![CDATA[parameter]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1296164577275</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1279295068414</Id>
					<Name><![CDATA[GeneralConsumer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="true">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Consumer]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<StatechartElements>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1277503548809</Id>
					<Name><![CDATA[state]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>410</X><Y>110</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="100" Height="30">
						<EntryAction><![CDATA[String[] args = {"es","0"};
//GA.main(args);
new GeneratingResultOfPaper().main(null);]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="EntryPoint" ParentState="ROOT_NODE">
					<Id>1277503547606</Id>
					<Name><![CDATA[statechart]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>40</Y></Point>
					</Points>
					<Properties Target="1277503548809">
					</Properties>	
				</StatechartElement>
			</StatechartElements>

			<Shapes>
				<Rectangle>
					<Id>1279662585805</Id>
					<Name><![CDATA[rectangle]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>210</X><Y>-10</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>170</Width>
					<Height>320</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-7876885</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
			</Shapes>
		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1285201098781</Id>
			<Name><![CDATA[PublicHealthAgent]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Import><![CDATA[import java.io.*;
import java.lang.*;]]></Import>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="Parameter">
					<Id>1285808290064</Id>
					<Name><![CDATA[totalPeople]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1285808290062</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285811331361</Id>
					<Name><![CDATA[sickPerson]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1285811331359</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285811344595</Id>
					<Name><![CDATA[firstPatientsTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1285811344593</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285811604939</Id>
					<Name><![CDATA[probabilityWaterContaminationDiscovery]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1285811604937</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285811836173</Id>
					<Name><![CDATA[probabilityOfDiscoveringBasedOnNoOfSickenedCosnumer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1285811836171</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285816858611</Id>
					<Name><![CDATA[timeOfFirstSign]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1285816858609</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285817117470</Id>
					<Name><![CDATA[totalProbability]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1285817117468</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285817339673</Id>
					<Name><![CDATA[randomProbability]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1285817339671</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1288145687265</Id>
					<Name><![CDATA[one]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1288145687263</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1296081172993</Id>
					<Name><![CDATA[ratio]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>720</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1296081172991</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1317697388844</Id>
					<Name><![CDATA[eventDetectionTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1317697388842</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1377791044749</Id>
					<Name><![CDATA[collection]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[java.util.ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[double[]]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Ports>
				<Port>
					<Id>1285816950407</Id>
					<Name><![CDATA[toUtilityOfficers]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>230</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[Object]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[PublicMessage]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
				</Port>
			</Ports>
			<StatechartElements>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1285811312235</Id>
					<Name><![CDATA[warnUtilityOfficers]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>380</X><Y>270</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="160" Height="30">
						<EntryAction><![CDATA[
	PublicMessage publicMessage = new PublicMessage(true, (Main.timeStep+one));
	toUtilityOfficers.send(publicMessage);
	Main.alertingTime2 = Main.timeStep + one;
	traceln("here AT pUBLIC heALTH "+Main.timeStep);


]]></EntryAction>
						<FillColor>-65536</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1285808343501</Id>
					<Name><![CDATA[verification]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>380</X><Y>180</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="160" Height="30">
						<EntryAction><![CDATA[probabilityWaterContaminationDiscovery = probability1(Main.timeStep - timeOfFirstSign - one + 12);

probabilityOfDiscoveringBasedOnNoOfSickenedCosnumer = probability2((double)sickPerson / (double)Main.Sick);
//if(probabilityWaterContaminationDiscovery > probabilityOfDiscoveringBasedOnNoOfSickenedCosnumer )
	double[] rr = new double[4];
	rr[0] = (1 - Math.exp(-4.9 * ((double)sickPerson / (double)Main.Sick)) );
	rr[1]  = probabilityWaterContaminationDiscovery;
	totalProbability = rr[0]*rr[1];
	rr[2] = sickPerson;
	rr[3] = Main.Sick;
	collection.add(rr);
	if(Main.timeStep == getEngine().getStopTime())
		report();

//else
	///totalProbability = probabilityWaterContaminationDiscovery;

//traceln(sickPerson+" "+totalPeople+" "+totalProbability);
//TEMP 
//totalProbability = probabilityWaterContaminationDiscovery;
//totalProbability = probabilityWaterContaminationDiscovery*probabilityOfDiscoveringBasedOnNoOfSickenedCosnumer;

//traceln(Main.timeStep+" "+probabilityOfDiscoveringBasedOnNoOfSickenedCosnumer+ " PHO "+probabilityWaterContaminationDiscovery+" total "+totalProbability);]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1285808244938</Id>
					<Name><![CDATA[noSignOfDisease]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>380</X><Y>100</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="160" Height="30">
						<EntryAction><![CDATA[double a=0;
for(int i = 0;i < 10; ++i)
	a += new Random().nextDouble();
a = a /10;
totalPeople = Main.Sick;

sickPerson = floor(Main.Sick * Math.log(1-a)/(-0.049 * 100));
randomProbability  = new Random().nextDouble();//new Random().nextDouble();
traceln("RATIO "+randomProbability);]]></EntryAction>
						<FillColor>-16711936</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1287857716531</Id>
					<Name><![CDATA[state]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>465</X><Y>240</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Properties Width="20" Height="20">
						<FillColor>-1</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="EntryPoint" ParentState="ROOT_NODE">
					<Id>1285808264969</Id>
					<Name><![CDATA[statechart]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>480</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>30</Y></Point>
					</Points>
					<Properties Target="1285808244938">
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1285808313704</Id>
					<Name><![CDATA[transition]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>430</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>50</Y></Point>
					</Points>
					<Properties Source="1285808244938" Target="1285808343501" Trigger="condition">
						<Action><![CDATA[timeOfFirstSign = Main.timeStep;]]></Action>
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[ Main.Sick > 0]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1285811309454</Id>
					<Name><![CDATA[transition1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>465</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>-35</X><Y>0</Y></Point>
						<Point><X>-35</X><Y>20</Y></Point>
					</Points>
					<Properties Source="1287857716531" Target="1285811312235" Trigger="condition">
						<Timeout><![CDATA[totalProbability > randomProbability]]></Timeout>
						<Condition><![CDATA[totalProbability > randomProbability]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="noSignOfDisease" ParentStateId="1285808244938">
					<Id>1285818288219</Id>
					<Name><![CDATA[transition2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>510</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>-10</Y></Point>
						<Point><X>7</X><Y>-10</Y></Point>
						<Point><X>15</X><Y>-10</Y></Point>
						<Point><X>30</X><Y>-10</Y></Point>
					</Points>
					<Properties Source="1285808244938" Target="1285808244938" Trigger="timeout">
						<Action><![CDATA[double a=0;
for(int i = 0;i < 10; ++i)
	a += new Random().nextDouble();
a = a /10;
totalPeople = Main.Sick;

sickPerson = floor(Main.Sick * Math.log(1-a)/(-0.126 * 100));]]></Action>
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1287857750055</Id>
					<Name><![CDATA[transition3]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>470</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>20</Y></Point>
						<Point><X>5</X><Y>30</Y></Point>
					</Points>
					<Properties Source="1285808343501" Target="1287857716531" Trigger="timeout">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1287857813849</Id>
					<Name><![CDATA[transition4]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>485</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>25</X><Y>0</Y></Point>
						<Point><X>25</X><Y>-16</Y></Point>
						<Point><X>25</X><Y>-26</Y></Point>
						<Point><X>25</X><Y>-40</Y></Point>
					</Points>
					<Properties Source="1287857716531" Target="1285808343501" Trigger="timeout">
						<Action><![CDATA[double a = 0;
for(int i = 0;i < 10; ++i)
	a += new Random().nextDouble();
a = a /10;

totalPeople = Main.Sick;
if(one == 1)
	sickPerson += floor(Main.Sick * Math.log(1-a)/(-0.126 * 100));
if(sickPerson > Main.Sick)
	sickPerson = Main.Sick;
//traceln("SICK "+sickPerson+" random probability "+a);
if(one == 1 )
	one = 0;
else
	one = 1;]]></Action>
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
			</StatechartElements>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1285817144376</Id>
					<Name><![CDATA[probability2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ratio]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[//traceln(ratio+" Sick "+sickPerson+" total "+totalPeople);
double[] x={0	,
0.1	,
0.2	,
0.3	,
0.4	,
0.5	,
0.6	,
0.7	,
0.8	,
0.9	,
1	};
double[] prob={0	,
0.389713744	,
0.627550686	,
0.772699303	,
0.861281509	,
0.915342011	,
0.948334393	,
0.96846919	,
0.98075718	,
0.988256372	,
0.992833025	};
double a = -1;

if(ratio < 0.1){
	a = ((ratio - x[0])*(prob[1] - prob[0])) / 0.1 + prob[0];
	return a;
}
if(ratio >= 0.1 && ratio <0.2){
	a = ((ratio - x[1])*(prob[2] - prob[1])) / 0.1 + prob[1];
	return a;
}
if(ratio >= 0.2 && ratio <0.3){
	a = ((ratio - x[2])*(prob[3] - prob[2])) / 0.1 + prob[2];
	return a;
}
if(ratio >= 0.3 && ratio <0.4){
	a = ((ratio - x[3])*(prob[4] - prob[3])) / 0.1 + prob[3];
	return a;
}
if(ratio >= 0.4 && ratio <0.5){
	a = ((ratio - x[4])*(prob[5] - prob[1])) / 0.1 + prob[4];
	return a;
}
if(ratio >= 0.5 && ratio <0.6){
	a = ((ratio - x[5])*(prob[6] - prob[5])) / 0.1 + prob[5];
	return a;
}
if(ratio >= 0.6 && ratio <0.7){
	a = ((ratio - x[6])*(prob[7] - prob[6])) / 0.1 + prob[6];
	return a;
}
if(ratio >= 0.7 && ratio <0.8){
	a = ((ratio - x[7])*(prob[8] - prob[7])) / 0.1 + prob[7];
	return a;
}
if(ratio >= 0.8 && ratio <0.9){
	a = ((ratio - x[8])*(prob[9] - prob[8])) / 0.1 + prob[8];
	return a;
}
if(ratio >= 0.9 && ratio <1){
	a = ((ratio - x[9])*(prob[10] - prob[9]))/ 0.1 + prob[9];
	return a;
}
if(true)
	new Throwable("Ratio exceeds 1.0");
return a;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1285817148016</Id>
					<Name><![CDATA[probability1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>620</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[time]]></Name>
						<Type><![CDATA[int]]></Type>
					</Parameter>
					<Body><![CDATA[double[] x= {0	,
1	,
2	,
3	,
4	,
5	,
6	,
7	,
8	,
9	,
10	,
11	,
12	,
13	,
14	,
15	};
double[] prob = {0	,
0.254168169	,
0.44373488	,
0.585119767	,
0.690569116	,
0.769216597	,
0.827874392	,
0.871623243	,
0.904252528	,
0.928588488	,
0.946739021	,
0.960276267	,
0.970372775	,
0.977903073	,
0.983519408	,
0.98770825	};
int day = time/24;
double portionOfDay = (double)(time - day * 24) /24;
double dayTime = portionOfDay + day; 
double a = -1;
if(dayTime< x[0]){
	a = ((dayTime - x[0])*(prob[1] - prob[0]))  + prob[0];
	return a;
}
if(dayTime >= x[0] && dayTime < x[1]){
	a = ((dayTime - x[1])*(prob[2] - prob[1])) + prob[1];
	return a;
}
if(dayTime >= x[1] && dayTime < x[2]){
	a = ((dayTime - x[2])*(prob[3] - prob[2])) + prob[2];
	return a;
}
if(dayTime >= x[2] && dayTime  < x[3]){
	a = ((dayTime - x[3])*(prob[4] - prob[3])) + prob[3];
	return a;
}
if(dayTime>= x[3] && dayTime < x[4]){
	a = ((dayTime - x[4])*(prob[5] - prob[4])) + prob[4];
	return a;
}
if(dayTime >= x[4] && dayTime < x[5]){
	a = ((dayTime - x[5])*(prob[6] - prob[5])) + prob[5];
	return a;
}
if(dayTime  >= x[5] && dayTime < x[6]){
	a = ((dayTime - x[6])*(prob[7] - prob[6])) + prob[6];
	return a;
}
if(dayTime  >= x[6] && dayTime < x[7]){
	a = ((dayTime - x[7])*(prob[8] - prob[7])) + prob[7];
	return a;
}
if(dayTime  >= x[7] && dayTime < x[8]){
	a = ((dayTime - x[8])*(prob[9] - prob[8])) + prob[8];
	return a;
}
if(dayTime >= x[8] && dayTime < x[9]){
	a = ((dayTime - x[9])*(prob[10] - prob[9])) + prob[9];
	return a;
}
if(dayTime  >= x[9] && dayTime < x[10]){
	a = ((dayTime - x[10])*(prob[11] - prob[10])) + prob[10];
	return a;
}
if(dayTime  >= x[10] && dayTime < x[11]){
	a = ((dayTime - x[11])*(prob[12] - prob[11])) + prob[11];
	return a;
}
if(dayTime  >= x[11] && dayTime < x[12]){
	a = ((dayTime - x[12])*(prob[13] - prob[12])) + prob[12];
	return a;
}
if(dayTime  >= x[12] && dayTime < x[13]){
	a = ((dayTime - x[13])*(prob[14] - prob[13])) + prob[13];
	return a;
}
if(dayTime  >= x[13] && dayTime < x[14]){
	a = ((dayTime - x[14])*(prob[15] - prob[14])) + prob[14];
	return a;
}
if(dayTime >= x[14] && dayTime < x[15]){
	a = ((dayTime - x[15])*(prob[16] - prob[15])) + prob[15];
	return a;
}
if(true)
	new Throwable("Time exceeds 15 days");
return a;


]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1377789338572</Id>
					<Name><![CDATA[report]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>590</X><Y>331</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
 
try {
		FileWriter file= new FileWriter(System.getProperty("user.dir").concat("/probability").
		concat(Integer.toString(Main_Optimization.counter)).concat(".txt"));
		
		BufferedWriter writer = new BufferedWriter(file);
		for(int i=0; i < collection.size();++i){
			writer.write(Double.toString(collection.get(i)[0])+" "+Double.toString(collection.get(i)[1])+" "+Double.toString(collection.get(i)[2])
			+" "+Double.toString(collection.get(i)[3]));
	 	 	writer.newLine(); 	 	
	 	 }
	 	writer.close();
} catch (IOException e) {
		e.printStackTrace();
}
			
			

				]]></Body>
				</Function>
			</Functions>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1285201153640</Id>
			<Name><![CDATA[SensorNetwrok]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="PlainVariable">
					<Id>1287691856221</Id>
					<Name><![CDATA[sensorID]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1288136003412</Id>
					<Name><![CDATA[noOfSensors]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[3]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1285209363767</Id>
					<Name><![CDATA[detectionLimit]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[0.1//0.015]]></DefaultValue>
						<ParameterEditor>
							<Id>1285209363765</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285212931205</Id>
					<Name><![CDATA[isDetect]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1285212931203</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285213145720</Id>
					<Name><![CDATA[timeLag]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1285213145718</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1285213276252</Id>
					<Name><![CDATA[getDetectedTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1285213276250</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1288967371318</Id>
					<Name><![CDATA[Tpoll]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[3]]></DefaultValue>
						<ParameterEditor>
							<Id>1288967371316</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298496257103</Id>
					<Name><![CDATA[needSpecificResponseTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>560</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1298496257101</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Ports>
				<Port>
					<Id>1285201184954</Id>
					<Name><![CDATA[toUtilityOfficiers]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>100</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[Object]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[SensorMessage]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
				</Port>
			</Ports>
			<StatechartElements>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1285209351297</Id>
					<Name><![CDATA[warning]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>280</X><Y>230</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="110" Height="30">
						<EntryAction><![CDATA[SensorMessage a = new SensorMessage(true);
toUtilityOfficiers.send(a);
//traceln("Sensor "+Main.timeStep);
]]></EntryAction>
						<ExitAction><![CDATA[			]]></ExitAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1287687435266</Id>
					<Name><![CDATA[state]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>280</X><Y>150</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="100" Height="30">
						<EntryAction><![CDATA[if(noOfSensors != 0)
for(int i=0;i<WDS.qualityAtSensors.length;++i){
	if(WDS.qualityAtSensors[i] > detectionLimit && !isDetect){
		isDetect = true;
		getDetectedTime = Main.timeStep;
	}
}]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1285209312626</Id>
					<Name><![CDATA[detecting]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>280</X><Y>70</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="100" Height="30">
						<EntryAction><![CDATA[isDetect = false;
check();]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="EntryPoint" ParentState="ROOT_NODE">
					<Id>1285209309157</Id>
					<Name><![CDATA[statechart]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>330</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>40</Y></Point>
					</Points>
					<Properties Target="1285209312626">
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1285209317876</Id>
					<Name><![CDATA[transition]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>310</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>50</Y></Point>
					</Points>
					<Properties Source="1285209312626" Target="1287687435266" Trigger="condition">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[!isDetect]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1285209334797</Id>
					<Name><![CDATA[transition2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>330</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>50</Y></Point>
					</Points>
					<Properties Source="1287687435266" Target="1285209351297" Trigger="condition">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[isDetect && (timeLag+getDetectedTime) >= Main.timeStep ]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1287692543227</Id>
					<Name><![CDATA[transition1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>350</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>-29</Y></Point>
						<Point><X>0</X><Y>-50</Y></Point>
					</Points>
					<Properties Source="1287687435266" Target="1285209312626" Trigger="timeout">
						<Timeout><![CDATA[Tpoll]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
			</StatechartElements>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1298496146637</Id>
					<Name><![CDATA[check]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>560</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if(needSpecificResponseTime){
	SensorMessage a = new SensorMessage(true);
	toUtilityOfficiers.send(a);
}
]]></Body>
				</Function>
			</Functions>

			<Shapes>
				<Text>
					<Id>1305490403523</Id>
					<Name><![CDATA[text]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>460</X><Y>230</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[These settings must be checked ]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>20</Size>
						<Style>2</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Shapes>
		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1285201237890</Id>
			<Name><![CDATA[UtilityOfficers]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="Parameter">
					<Id>1286140450267</Id>
					<Name><![CDATA[isWarningInPlace]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1286140450265</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1286164455143</Id>
					<Name><![CDATA[prob]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1286164455141</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1286165113252</Id>
					<Name><![CDATA[randomNumber]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1286165113250</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1288135016478</Id>
					<Name><![CDATA[timeOfGotMessage]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1288135016476</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1288138225145</Id>
					<Name><![CDATA[isWorking]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1288138225143</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1288145559482</Id>
					<Name><![CDATA[one]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1288145559480</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298475485077</Id>
					<Name><![CDATA[wantProbabilityGettingInvolved]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[true]]></DefaultValue>
						<ParameterEditor>
							<Id>1298475485075</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298475569321</Id>
					<Name><![CDATA[timeToDelay]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[5]]></DefaultValue>
						<ParameterEditor>
							<Id>1298475569319</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298494470389</Id>
					<Name><![CDATA[responseTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>670</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[10000]]></DefaultValue>
						<ParameterEditor>
							<Id>1298494470387</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298494504748</Id>
					<Name><![CDATA[needSpecificResponseTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>670</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1298494504746</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1317698019939</Id>
					<Name><![CDATA[eventDetectionTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>630</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[0]]></DefaultValue>
						<ParameterEditor>
							<Id>1317698019937</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1344894669077</Id>
					<Name><![CDATA[checker]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>610</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1344894669075</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Ports>
				<Port>
					<Id>1285201242641</Id>
					<Name><![CDATA[toMedia]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>140</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[Object]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[PublicMessage]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
				</Port>
				<Port>
					<Id>1285822388282</Id>
					<Name><![CDATA[fromPHA]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>140</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[PublicMessage]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[Object]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
					<OnReceiveAction><![CDATA[if (msg instanceof PublicMessage){
	isWarningInPlace =((PublicMessage)msg).getWarning();
	traceln("GOT MESSAGE");
}]]></OnReceiveAction>
				</Port>
				<Port>
					<Id>1285822574907</Id>
					<Name><![CDATA[fromSensors]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>140</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[SensorMessage]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[Object]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
					<OnReceiveAction><![CDATA[if (msg instanceof SensorMessage){
	
	isWarningInPlace =((SensorMessage)msg).warningMessage;
}]]></OnReceiveAction>
				</Port>
				<Port>
					<Id>1298333044069</Id>
					<Name><![CDATA[toFireDepartment]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>140</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[Object]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[PublicMessage]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
				</Port>
				<Port>
					<Id>1298333883475</Id>
					<Name><![CDATA[toWDS_HydraulicResponse]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>140</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[Object]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[PublicMessage]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
				</Port>
			</Ports>
			<StatechartElements>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1286140202469</Id>
					<Name><![CDATA[takingProectiveAction]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>330</X><Y>320</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="170" Height="30">
						<EntryAction><![CDATA[//REMEMBER THIS PHASE CAN MAKE MANY TYPES OF WARNINGS

PublicMessage publicMessage = new PublicMessage(true, (Main.timeStep+one));


	
// traceln("UT Sent "+Main.timeStep);
int day = (int)((double)get_Main().timeStep / 24);
int timeDay = get_Main().timeStep - 24 * day;

//traceln("timeDay "+timeDay+" day "+day+" innerClock "+innerClock+" time Step "+Main.timeStep+" checker "+checker);
//if(timeDay >= 7){

	if(Main.alertingTime == -1)
		Main.alertingTime = Main.timeStep + one;
	
	if(Main_Optimization.media)
		toMedia.send(publicMessage);
	
	if(Main_Optimization.needRouting)
		toFireDepartment.send(publicMessage);
	
	if(Main_Optimization.openingHydrant)
		toWDS_HydraulicResponse.send(publicMessage);
	
	checker = false;
	
//}
]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1286140143141</Id>
					<Name><![CDATA[Verification]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>350</X><Y>210</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="170" Height="30">
						<EntryAction><![CDATA[prob = probFunction(Main.timeStep - timeOfGotMessage + one );
//(1,0);//new Random().nextDouble(); 
//traceln(Main.timeStep+" UT "+Main.timeStep+" r "+randomNumber+" p "+prob);]]></EntryAction>
						<ExitAction><![CDATA[ ]]></ExitAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1286140101594</Id>
					<Name><![CDATA[GotWarningMessage]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>350</X><Y>80</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="170" Height="30">
						<EntryAction><![CDATA[randomNumber = new Random().nextDouble();]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1287857400286</Id>
					<Name><![CDATA[state]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>420</X><Y>260</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Properties Width="20" Height="20">
						<FillColor>-1</FillColor>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1317697507150</Id>
					<Name><![CDATA[eventDetectionDelay]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>350</X><Y>140</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="170" Height="30">
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1346370397898</Id>
					<Name><![CDATA[state1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>515</X><Y>370</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Properties Width="20" Height="30">
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1286140134329</Id>
					<Name><![CDATA[transition]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>400</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>9</Y></Point>
						<Point><X>0</X><Y>21</Y></Point>
						<Point><X>30</X><Y>30</Y></Point>
					</Points>
					<Properties Source="1286140101594" Target="1317697507150" Trigger="condition">
						<Action><![CDATA[timeOfGotMessage = Main.timeStep;]]></Action>
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[(isWarningInPlace /*&& isWorking*/) || needSpecificResponseTime]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1286140190329</Id>
					<Name><![CDATA[transition1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>420</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>-20</X><Y>0</Y></Point>
						<Point><X>-20</X><Y>11</Y></Point>
						<Point><X>-20</X><Y>50</Y></Point>
					</Points>
					<Properties Source="1287857400286" Target="1286140202469" Trigger="condition">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[check()]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>false</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="GotWarningMessage" ParentStateId="1286140101594">
					<Id>1286140218922</Id>
					<Name><![CDATA[transition3]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>30</X><Y>-10</Y></Point>
					</Points>
					<Properties Source="1286140101594" Target="1286140101594" Trigger="timeout">
						<Action><![CDATA[int day = Main.timeStep /24;
int time = Main.timeStep - 24 * day;
if(time >= 8 && time <= 17)
	isWorking = true;
else
	isWorking = false;]]></Action>
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="EntryPoint" ParentState="ROOT_NODE">
					<Id>1286140253094</Id>
					<Name><![CDATA[statechart]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>410</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>30</Y></Point>
					</Points>
					<Properties Target="1286140101594">
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1287856690042</Id>
					<Name><![CDATA[transition2]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>430</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>20</Y></Point>
					</Points>
					<Properties Source="1286140143141" Target="1287857400286" Trigger="timeout">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1287856719852</Id>
					<Name><![CDATA[transition4]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>440</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>25</X><Y>0</Y></Point>
						<Point><X>50</X><Y>0</Y></Point>
						<Point><X>50</X><Y>-30</Y></Point>
					</Points>
					<Properties Source="1287857400286" Target="1286140143141" Trigger="timeout">
						<Action><![CDATA[if(one == 1 )
	one = 0;
else
	one = 1;]]></Action>
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1317697527650</Id>
					<Name><![CDATA[transition5]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>480</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>40</Y></Point>
					</Points>
					<Properties Source="1317697507150" Target="1286140143141" Trigger="timeout">
						<Timeout><![CDATA[eventDetectionTime]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1344894705456</Id>
					<Name><![CDATA[transition6]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>460</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>20</Y></Point>
						<Point><X>30</X><Y>20</Y></Point>
						<Point><X>55</X><Y>30</Y></Point>
					</Points>
					<Properties Source="1286140202469" Target="1346370397898" Trigger="condition">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[checker]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1346370404868</Id>
					<Name><![CDATA[transition7]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>525</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>5</X><Y>-30</Y></Point>
						<Point><X>-25</X><Y>-30</Y></Point>
					</Points>
					<Properties Source="1346370397898" Target="1286140202469" Trigger="timeout">
						<Action><![CDATA[if(one == 1 )
	one = 0;
else
	one = 1;]]></Action>
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[checker]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
			</StatechartElements>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1286164247141</Id>
					<Name><![CDATA[probFunction]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[time]]></Name>
						<Type><![CDATA[int]]></Type>
					</Parameter>
					<Body><![CDATA[
double[] x= {0	,
1	,
2	,
3	,
4	,
5	,
6	,
7	,
8	,
9	,
10	,
11	,
12	,
13	,
14	,
15	};
double[] prob = {0	,
0.477615122	,
0.72711404	,
0.857448501	,
0.925533253	,
0.961099697	,
0.97967907	,
0.989384654	,
0.994454704	,
0.997103221	,
0.998486766	,
0.99920951	,
0.99958706	,
0.999784286	,
0.999887314	,
0.999941135	};
int day = time/24;

double portionOfDay = (double)(time - day * 24) /24;
double dayTime = portionOfDay + day; 
double a = -1;

if(dayTime >= x[0] && dayTime < x[1]){
	a = ((dayTime - x[0])*(prob[1] - prob[0])) + prob[0];
	return a;
}
if(dayTime >= x[1] && dayTime < x[2]){
	a = ((dayTime - x[1])*(prob[2] - prob[1])) + prob[1];
	return a;
}
if(dayTime >= x[2] && dayTime  < x[3]){
	a = ((dayTime - x[2])*(prob[3] - prob[2])) + prob[2];
	return a;
}
if(dayTime>= x[3] && dayTime < x[4]){
	a = ((dayTime - x[3])*(prob[4] - prob[3])) + prob[3];
	return a;
}
if(dayTime >= x[4] && dayTime < x[5]){
	a = ((dayTime - x[4])*(prob[5] - prob[4])) + prob[4];
	return a;
}
if(dayTime  >= x[5] && dayTime < x[6]){
	a = ((dayTime - x[5])*(prob[6] - prob[5])) + prob[5];
	return a;
}
if(dayTime  >= x[6] && dayTime < x[7]){
	a = ((dayTime - x[6])*(prob[7] - prob[6])) + prob[6];
	return a;
}
if(dayTime  >= x[7] && dayTime < x[8]){
	a = ((dayTime - x[7])*(prob[8] - prob[7])) + prob[7];
	return a;
}
if(dayTime >= x[8] && dayTime < x[9]){
	a = ((dayTime - x[8])*(prob[9] - prob[8])) + prob[8];
	return a;
}
if(dayTime  >= x[9] && dayTime < x[10]){
	a = ((dayTime - x[9])*(prob[10] - prob[9])) + prob[9];
	return a;
}
if(dayTime  >= x[10] && dayTime < x[11]){
	a = ((dayTime - x[10])*(prob[11] - prob[10])) + prob[10];
	return a;
}
if(dayTime  >= x[11] && dayTime < x[12]){
	a = ((dayTime - x[11])*(prob[12] - prob[11])) + prob[11];
	return a;
}
if(dayTime  >= x[12] && dayTime < x[13]){
	a = ((dayTime - x[12])*(prob[13] - prob[12])) + prob[12];
	return a;
}
if(dayTime  >= x[13] && dayTime < x[14]){
	a = ((dayTime - x[13])*(prob[14] - prob[13])) + prob[13];
	return a;
}
if(dayTime >= x[14] && dayTime < x[15]){
	a = ((dayTime - x[14])*(prob[15] - prob[14])) + prob[14];
	return a;
}
if(dayTime >= x[15] ){
	return  prob[15];
}
if(true)
	new Throwable("Time exceeds 15 days");
return a;


]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[boolean]]></ReturnType>
					<Id>1298475619207</Id>
					<Name><![CDATA[check]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if(needSpecificResponseTime){
	
	if(responseTime <= (Main.timeStep + one))
		return true;
	else
		return false;
}else{

	if(wantProbabilityGettingInvolved){
		if(randomNumber < prob)
			return true;
		else
			return false;
	}else{
		if((Main.timeStep + one) >= (timeToDelay+timeOfGotMessage))
			return true;
		else
			return false;
	}
}]]></Body>
				</Function>
			</Functions>

			<Shapes>
				<Rectangle>
					<Id>1298475760164</Id>
					<Name><![CDATA[rectangle]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>560</X><Y>220</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>280</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1305490280376</Id>
					<Name><![CDATA[text]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>570</X><Y>190</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[These settings must be checked ]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>20</Size>
						<Style>2</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Shapes>
		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1285811936609</Id>
			<Name><![CDATA[Media]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="Parameter">
					<Id>1286166397955</Id>
					<Name><![CDATA[recievedMessage]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>630</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1286166397953</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1305558807906</Id>
					<Name><![CDATA[time]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>630</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1305558807904</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Ports>
				<Port>
					<Id>1285822654376</Id>
					<Name><![CDATA[fromUO]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>150</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[PublicMessage]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[Object]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
					<OnReceiveAction><![CDATA[if(msg instanceof PublicMessage){
	recievedMessage = ((PublicMessage)msg).getWarning();
	time = ((PublicMessage)msg).getTime();
}]]></OnReceiveAction>
				</Port>
				<Port>
					<Id>1286137856891</Id>
					<Name><![CDATA[toConsumer]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>150</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[Object]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[MediaMessage]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
				</Port>
			</Ports>
			<StatechartElements>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1286166314719</Id>
					<Name><![CDATA[getWarning]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>410</X><Y>80</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="160" Height="30">
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="State" ParentState="ROOT_NODE">
					<Id>1286166330266</Id>
					<Name><![CDATA[warningBroadcasting]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>410</X><Y>160</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties Width="160" Height="30">
						<EntryAction><![CDATA[int[] a = {time,0};
toConsumer.send(new MediaMessage(true,a));]]></EntryAction>
						<FillColor/>
					</Properties>
				</StatechartElement>
				<StatechartElement Class="EntryPoint" ParentState="ROOT_NODE">
					<Id>1286166310563</Id>
					<Name><![CDATA[statechart]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>440</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>40</Y></Point>
					</Points>
					<Properties Target="1286166314719">
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1286166325407</Id>
					<Name><![CDATA[transition]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>440</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>50</Y></Point>
					</Points>
					<Properties Source="1286166314719" Target="1286166330266" Trigger="condition">
						<Timeout><![CDATA[0]]></Timeout>
						<Condition><![CDATA[recievedMessage ]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
				<StatechartElement Class="Transition" ParentState="ROOT_NODE">
					<Id>1286166379188</Id>
					<Name><![CDATA[transition1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>530</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Points>
						<Point><X>0</X><Y>0</Y></Point>
						<Point><X>0</X><Y>-50</Y></Point>
					</Points>
					<Properties Source="1286166330266" Target="1286166314719" Trigger="timeout">
						<Timeout><![CDATA[1]]></Timeout>
						<Condition><![CDATA[true]]></Condition>
						<Rate><![CDATA[1]]></Rate>
						<MessageType><![CDATA[Object]]></MessageType>
						<DefaultTransition>true</DefaultTransition>
						<FilterType><![CDATA[unconditionally]]></FilterType>
						<EqualsExpression><![CDATA[Sample_Message]]></EqualsExpression>
						<SatisfiesExpression><![CDATA[true]]></SatisfiesExpression>
					</Properties>	
				</StatechartElement>
			</StatechartElements>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1296601286196</Id>
			<Name><![CDATA[FireDepartment]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Import><![CDATA[import java.util.*;
import java.io.*;]]></Import>
			<Generic>false</Generic>
			<GenericParameters><![CDATA[T]]></GenericParameters>
			<GenericParametersLabel><![CDATA[Generic parameters:]]></GenericParametersLabel>
			<Agent>true</Agent>
			<SamplesToKeep>100</SamplesToKeep>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
			</AgentProperties>

			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
				<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
			</DatasetsCreationProperties>

			<Variables>
				<Variable Class="PlainVariable">
					<Id>1296601304746</Id>
					<Name><![CDATA[noOfFireDepartment]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1296603800230</Id>
					<Name><![CDATA[listOfFireDepartment]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[String[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1309386990916</Id>
					<Name><![CDATA[influenceDistance]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[double]]></Type>        
						<InitialValue><![CDATA[2640]]></InitialValue>                 	
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1315440408842</Id>
					<Name><![CDATA[startTime]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>560</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1316208489568</Id>
					<Name><![CDATA[nodeList_GA]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>560</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[][]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1317838327304</Id>
					<Name><![CDATA[selectedNodes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>400</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="true">
						<Type><![CDATA[int[][]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1298329325226</Id>
					<Name><![CDATA[Vehicle]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>50</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[Vehicle[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1298329325224</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298329388747</Id>
					<Name><![CDATA[visible]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[false]]></DefaultValue>
						<ParameterEditor>
							<Id>1298329388745</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298329508374</Id>
					<Name><![CDATA[noOfNodes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>370</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[10000]]></DefaultValue>
						<ParameterEditor>
							<Id>1298329508372</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298329556681</Id>
					<Name><![CDATA[noOfRoutes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>370</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[10000]]></DefaultValue>
						<ParameterEditor>
							<Id>1298329556679</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298332596941</Id>
					<Name><![CDATA[scallingParameter]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>260</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[0.004]]></DefaultValue>
						<ParameterEditor>
							<Id>1298332596939</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298333300901</Id>
					<Name><![CDATA[graph]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>560</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[GraphBuilder]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1298333300899</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298334212434</Id>
					<Name><![CDATA[recievedMessage]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1298334212432</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298387056899</Id>
					<Name><![CDATA[mapping]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>650</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int[]]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1298387056897</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298394002976</Id>
					<Name><![CDATA[timeIn]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>650</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[int]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1298394002974</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298415930859</Id>
					<Name><![CDATA[participation]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>650</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[double]]></Type>        
						<DefaultValue><![CDATA[1]]></DefaultValue>
						<ParameterEditor>
							<Id>1298415930857</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298415947121</Id>
					<Name><![CDATA[participationInEffect]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[boolean]]></Type>        
						<DefaultValue><![CDATA[true]]></DefaultValue>
						<ParameterEditor>
							<Id>1298415947119</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1298419817500</Id>
					<Name><![CDATA[data]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>50</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Dynamic="false">
						<Type><![CDATA[ReadingData]]></Type>        
						<DefaultValue><![CDATA[]]></DefaultValue>
						<ParameterEditor>
							<Id>1298419817498</Id>
							<Name><![CDATA[]]></Name>
							<ExcludeFromBuild>false</ExcludeFromBuild>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<Separator>false</Separator>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Ports>
				<Port>
					<Id>1298333134999</Id>
					<Name><![CDATA[fromUtilityOfficers]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>80</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<IncomingMessageType><![CDATA[PublicMessage]]></IncomingMessageType>
					<OutgoingMessageType><![CDATA[Object]]></OutgoingMessageType>
					<CustomPort><![CDATA[false]]></CustomPort>
					<OnReceiveAction><![CDATA[if(msg instanceof PublicMessage){
	recievedMessage = ((PublicMessage)msg).getWarning();
	if(recievedMessage)
		routing();
		timeIn = Main.timeStep;
}]]></OnReceiveAction>
				</Port>
			</Ports>
			<Events>
				<Event>
					<Id>1298329446515</Id>
					<Name><![CDATA[event]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>280</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="condition" Mode="occuresOnce">
						<Timeout><![CDATA[1]]></Timeout>
						<Rate><![CDATA[1]]></Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1298329446489</OccurrenceDate>												
						<OccurrenceTime><![CDATA[0]]></OccurrenceTime>												
						<RecurrenceCode><![CDATA[1]]></RecurrenceCode>
						<Condition><![CDATA[visible]]></Condition>
						<Action><![CDATA[traceln(node.size()+" Size check "+data.getNodes().length);
/*for(int i=0;i<data.getNodes().length;++i){
	node.get(i).setRadius(0.5);
	node.get(i).y = 900-data.getCoordinate(i)[1]*scallingParameter;
	node.get(i).x = data.getCoordinate(i)[0]*scallingParameter;
}*/]]></Action>
					</Properties>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1298333300898</Id>
					<Name><![CDATA[routing]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>560</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if(Main_Optimization.needRouting){
	int[] t = new int[9];
	
	for(int i = 0; i < t.length; i++){
		t[i] = new Random().nextInt(23);
	}
	startTime = t;
	
	int interMax  = startTime[0];
	
	for(int i = 0; i < t.length; i++){
		t[i] = t[i] * 60;
		if(i < startTime.length) 
			if(interMax < startTime[i])
				interMax = startTime[i];
	}
	startTime = t;
	//traceln(interMax+" inter mazx");
	graph = new GraphBuilder();
	graph.buildingNetwork();
	graph.vehicleRouting();
	
	noOfRoutes = graph.getData().getPathSize();
	noOfNodes = graph.getData().getNodes().length;
	/*for(int i=0 ;i<noOfNodes; i++)
		node.createShapes();*/
	data = graph.getData();
	Vehicle = graph.getVehicles();
	
	mapping = new int[Main.TerminalNodeID.length];
	for(int j=0;j<Main.TerminalNodeID.length;j++){
		for(int i=0;i<graph.getTerminalNodeName().length;i++){
			if(graph.getTerminalNodeName()[i].equals(Main.TerminalNodeID[j])){
				mapping[j] = i;
				break;
			}
		}
	}
	boolean check = true;
	ArrayList<boolean[]> a = new ArrayList<boolean[]>();
	a.add(null);
	while(check){
		boolean[] re = graph.terminalNodesAffected(60*a.size(),60);
	/*	for(int j=0;j < re.length;j++){
			
			traceln(re[j]+" time "+(60*a.size()));
			
		}*/
		int co = 0;
		for(int j=0 ; j < re.length; ++j)
			if(re[j]){
				++co;
				break;
			}
		if(co == 0 && a.size() > interMax)
			check = false;
			a.add(re);
	}
	//remember the first element is empty
	ConsumerAtHome.nodeContributionInRouting = new double[a.size()-1][];
	
	
	
	//double[] a = graph.nodeEffectedRatio(60);
	//double[] a1 = graph.nodeEffectedRatio(120);
	//double[] a2 = graph.nodeEffectedRatio(180);
	//double[] a3 = graph.nodeEffectedRatio(240);
	//double[] a4 = graph.nodeEffectedRatio(300);
	
	
	for(int j=1;j < a.size();j++){
		double[] b = new double[mapping.length];
		for(int i=0 ; i<mapping.length ; i++){
			if(participationInEffect){
				//b[i] = a[mapping[i]] * participation;
				if(a.get(j)[mapping[i]])
					b[i] = 1 * participation;
				else
					b[i] = 0;
			}else{
				//b[i] = a[mapping[i]]
				if(a.get(j)[mapping[i]])
					b[i] = 1;
				else
					b[i] = 0;
				
			}
		}
		
		ConsumerAtHome.nodeContributionInRouting[j-1] = b;
		//traceln(b[i]+" Effect");
	}
	traceln(a.size()-1+" TIME MAX");
	
	ConsumerAtHome.controlVariable = true;
	
/*	double t = Vehicle[0].getTime()[Vehicle[0].getTime().length-1];
	for(int y=1; y < Vehicle.length;y++){
		if(t < Vehicle[y].getTime()[Vehicle[y].getTime().length-1] && y != 5 && y != 0 && y != 2
		    && y != 7 )
			t = Vehicle[y].getTime()[Vehicle[y].getTime().length-1];
	}*/
	
	ConsumerAtHome.routingMaxTime = a.size()-1;
	visible = Main_Optimization.routingVisibility;
	ConsumerAtHome.timeWarning = 0;
	//event.start();
}

if(Main_Optimization.needRouting){
	int[] t = new int[9];
	
	t[0] = -1;
	t[1] =startTime[0];
	t[2] = -1;
	t[3] =startTime[1];	
	t[4] =startTime[2];
	t[5] = -1;
	t[6] =startTime[3];
	t[7] = -1;
	t[8] =startTime[4];
	int interMax  = startTime[0];
	
	for(int i = 0; i < t.length; i++){
		t[i] = t[i] * 60;
		if(i < startTime.length) 
			if(interMax < startTime[i])
				interMax = startTime[i];
	}
	startTime = t;
	traceln(interMax+" inter mazx");
	graph = new GraphBuilder();
	graph.buildingNetwork();
	graph.vehicleRouting();
	
	noOfRoutes = graph.getData().getPathSize();
	noOfNodes = graph.getData().getNodes().length;
	/*for(int i=0 ;i<noOfNodes; i++)
		node.createShapes();*/
	data = graph.getData();
	Vehicle = graph.getVehicles();
	
	mapping = new int[Main.TerminalNodeID.length];
	for(int j=0;j<Main.TerminalNodeID.length;j++){
		for(int i=0;i<graph.getTerminalNodeName().length;i++){
			if(graph.getTerminalNodeName()[i].equals(Main.TerminalNodeID[j])){
				mapping[j] = i;
				break;
			}
		}
	}
	boolean check = true;
	ArrayList<boolean[]> a = new ArrayList<boolean[]>();
	a.add(null);
	while(check){
		boolean[] re = graph.terminalNodesAffected(60*a.size(),60);
	/*	for(int j=0;j < re.length;j++){
			
			traceln(re[j]+" time "+(60*a.size()));
			
		}*/
		int co = 0;
		for(int j=0 ; j < re.length; ++j)
			if(re[j]){
				++co;
				break;
			}
		if(co == 0 && a.size() > interMax)
			check = false;
			a.add(re);
	}
	//remember the first element is empty
	ConsumerAtHome.nodeContributionInRouting = new double[a.size()-1][];
	
	
	
	//double[] a = graph.nodeEffectedRatio(60);
	//double[] a1 = graph.nodeEffectedRatio(120);
	//double[] a2 = graph.nodeEffectedRatio(180);
	//double[] a3 = graph.nodeEffectedRatio(240);
	//double[] a4 = graph.nodeEffectedRatio(300);
	
	
	for(int j=1;j < a.size();j++){
		double[] b = new double[mapping.length];
		for(int i=0 ; i<mapping.length ; i++){
			if(participationInEffect){
				//b[i] = a[mapping[i]] * participation;
				if(a.get(j)[mapping[i]])
					b[i] = 1 * participation;
				else
					b[i] = 0;
			}else{
				//b[i] = a[mapping[i]]
				if(a.get(j)[mapping[i]])
					b[i] = 1;
				else
					b[i] = 0;
				
			}
		}
		
		ConsumerAtHome.nodeContributionInRouting[j-1] = b;
		//traceln(b[i]+" Effect");
	}
	traceln(a.size()-1+" TIME MAX");
	
	ConsumerAtHome.controlVariable = true;
	
/*	double t = Vehicle[0].getTime()[Vehicle[0].getTime().length-1];
	for(int y=1; y < Vehicle.length;y++){
		if(t < Vehicle[y].getTime()[Vehicle[y].getTime().length-1] && y != 5 && y != 0 && y != 2
		    && y != 7 )
			t = Vehicle[y].getTime()[Vehicle[y].getTime().length-1];
	}*/
	
	ConsumerAtHome.routingMaxTime = a.size()-1;
	visible = Main_Optimization.routingVisibility;
	ConsumerAtHome.timeWarning = 0;
	//event.start();
}]]></Body>
				</Function>
			</Functions>
			<Connectivity>
				<TextFile>
					<Id>1296668303711</Id>
					<Name><![CDATA[Routes]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<FileName><![CDATA[Routes_modified.txt]]></FileName>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators> "</Separators>
				</TextFile>
				<TextFile>
					<Id>1298328534122</Id>
					<Name><![CDATA[VerticesCoordinates_modified]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<FileName><![CDATA[VerticesCoordinates_modified.txt]]></FileName>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators></Separators>
				</TextFile>
			</Connectivity>

			<Shapes>
				<Line>
					<Id>1298329357499</Id>
					<Name><![CDATA[route]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<VisibleCode><![CDATA[visible]]></VisibleCode>
					<ReplicationCode><![CDATA[0]]></ReplicationCode>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>true</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-60</Dy>
					<Dz>0</Dz>
				</Line>
				<Oval>
					<Id>1298329371967</Id>
					<Name><![CDATA[node]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>750</X><Y>230</Y>
					<Label><X>0</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<VisibleCode><![CDATA[visible]]></VisibleCode>
					<ReplicationCode><![CDATA[10000]]></ReplicationCode>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>true</ShowIn3D>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<RadiusX>10</RadiusX>
					<RadiusY>10</RadiusY>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Oval>
			</Shapes>
		</ActiveObjectClass>
	</ActiveObjectClasses>
	<Experiments>	
		<!--   =========   Simulation Experiment   ========  -->
		<SimulationExperiment ActiveObjectClassId="1246373484446">
			<Id>1246373484461</Id>
			<Name><![CDATA[Simulation]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Frame>
				<X>0</X>
				<Y>0</Y>
				<Width>1000</Width>
				<Height>800</Height>
				<Maximized>false</Maximized>
				<CloseConfirmation>false</CloseConfirmation>
			</Frame>
			<CommandLineArguments><![CDATA[]]></CommandLineArguments>
			<MaximumMemory>500</MaximumMemory>
			<RandomNumberGenerationType>fixedSeed</RandomNumberGenerationType>
			<CustomGeneratorCode>new Random()</CustomGeneratorCode>
			<SeedValue>1</SeedValue>
			<RandomSelectionModeForSimultaneousEvents>false</RandomSelectionModeForSimultaneousEvents>
			<VmArgs><![CDATA[]]></VmArgs>
			<AbsoluteAccuracy>1.0E-5</AbsoluteAccuracy>
			<RelativeAccuracy>1.0E-5</RelativeAccuracy>
			<TimeAccuracy>1.0E-5</TimeAccuracy>
			<FixedTimeStep>0.5</FixedTimeStep>
			<LoadRootFromSnapshot>false</LoadRootFromSnapshot>
			<SnapshotFile></SnapshotFile>
			<DiffEquationsNumericalMethod>EULER</DiffEquationsNumericalMethod>
			<MixedEquationsNumericalMethod>RK45_NEWTON</MixedEquationsNumericalMethod>
			<AlgebraicEquationsNumericalMethod>MODIFIED_NEWTON</AlgebraicEquationsNumericalMethod>

			<Shapes>
				<Text>
					<Id>0</Id>
					<Name><![CDATA[text]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>40</X><Y>10</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Water Distribution Contmaination Simulator]]></Text>
					<Font>
						<Name>Serif</Name>
						<Size>28</Size>
						<Style>1</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>0</Id>
					<Name><![CDATA[text1]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>40</X><Y>43</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Mesopolis]]></Text>
					<Font>
						<Name>Serif</Name>
						<Size>16</Size>
						<Style>2</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Shapes>
			<Controls>
				<Control Type="Button">
				 	<EmbeddedIcon>false</EmbeddedIcon>				
					<Id>0</Id>
					<Name><![CDATA[button]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>40</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<BasicProperties Width="330" Height="30" 
				AsObject="true">
                        <EmbeddedIcon>false</EmbeddedIcon>				
						<FillColor/>
						<TextColor/>
						<ActionCode><![CDATA[if ( getState() == IDLE )
	run();
getEngine().getPresentation().setPresentable( getEngine().getRoot() );]]></ActionCode>
					</BasicProperties>
					<ExtendedProperties>
						<Font Name="Dialog" Size="11" Style="0"/>
						<LabelText><![CDATA[Run the model and switch to Main view]]></LabelText>
						<LabelCode><![CDATA[getState() == IDLE ?
	"Run the model and switch to Main view" :
	"Switch to Main view"]]></LabelCode>
					</ExtendedProperties>
				</Control>
			</Controls>
			<Parameters>			
				<Parameter>
					<ParameterName><![CDATA[totalOfConsumer]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[simulationTotalTimeStep]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[nodeUsageArray]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[epanetFile]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[parameter1]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[PercentOfCommercialConsumerAtNight]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[PercentOfCommercialWorkerAtNight]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[dayCounter]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[numberOfStudents]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[numberOfCommericalVisitors]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[UniversityEpanetID]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[AirportEpanetID]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[epanetFile1]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[reportEpanetFile]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[reportEpanetFile1]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
			</Parameters>			
			<PresentationProperties 
				EnableAdaptiveFrameManagement="true" 
				EnableAntiAliasing="true"
				EnableEnhancedModelElementsAnimation="true"
				EnablePanning="true"
				ToolbarCustomizableAtRuntime="true"
				EnableZoom="true">
				<ExecutionMode><![CDATA[realTimeScaled]]></ExecutionMode>
				<CpuRatio><![CDATA[ratio_1_1]]></CpuRatio>	        
				<Title><![CDATA[Simple Model Of Agents : Simulation]]></Title>	
				<FramesPerSecond><![CDATA[20.0]]></FramesPerSecond>
				<RealTimeScale>0.5</RealTimeScale>
				<UIProperty Name="Experiment Progress" Value="false"/>
				<UIProperty Name="Simulation Progress" Value="true"/>
				<UIProperty Name="Statusbar Events Per Second" Value="false"/>
				<UIProperty Name="Statusbar Frames Per Second" Value="false"/>
				<UIProperty Name="Statusbar Memory" Value="true"/>
				<UIProperty Name="Statusbar Model Date" Value="false"/>
				<UIProperty Name="Statusbar Model Step" Value="false"/>
				<UIProperty Name="Statusbar Model Time" Value="true"/>
				<UIProperty Name="Statusbar Real Time Of Simulation" Value="true"/>
				<UIProperty Name="Statusbar Status" Value="true"/>
				<UIProperty Name="Toolbar Animation setup" Value="false"/>
				<UIProperty Name="Toolbar Execution control" Value="true"/>
				<UIProperty Name="Toolbar File" Value="false"/>
				<UIProperty Name="Toolbar Model navigation" Value="true"/>
				<UIProperty Name="Toolbar Time scale setup" Value="true"/>
				<UIProperty Name="Toolbar View" Value="false"/>
			</PresentationProperties>
			<ModelTimeProperties 
				UseCalendar="true">
				<StopOption><![CDATA[Stop at specified time]]></StopOption>
				<InitialDate><![CDATA[1271203200000]]></InitialDate>	
				<InitialTime><![CDATA[0.0]]></InitialTime>	
				<FinalDate><![CDATA[1271347200000]]></FinalDate>	
				<FinalTime><![CDATA[40.0]]></FinalTime>	
			</ModelTimeProperties>
		</SimulationExperiment>
		<!--   =========   Simulation Experiment   ========  -->
		<SimulationExperiment ActiveObjectClassId="1277502149743">
			<Id>1277502178541</Id>
			<Name><![CDATA[Simulation_Optimization_MC]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Frame>
				<X>0</X>
				<Y>0</Y>
				<Width>800</Width>
				<Height>600</Height>
				<Maximized>false</Maximized>
				<CloseConfirmation>false</CloseConfirmation>
			</Frame>
			<CommandLineArguments><![CDATA[]]></CommandLineArguments>
			<MaximumMemory>1200</MaximumMemory>
			<RandomNumberGenerationType>randomSeed</RandomNumberGenerationType>
			<CustomGeneratorCode>new Random()</CustomGeneratorCode>
			<SeedValue>1</SeedValue>
			<RandomSelectionModeForSimultaneousEvents>false</RandomSelectionModeForSimultaneousEvents>
			<VmArgs><![CDATA[]]></VmArgs>
			<AbsoluteAccuracy>1.0E-5</AbsoluteAccuracy>
			<RelativeAccuracy>1.0E-5</RelativeAccuracy>
			<TimeAccuracy>1.0E-5</TimeAccuracy>
			<FixedTimeStep>0.0010</FixedTimeStep>
			<LoadRootFromSnapshot>false</LoadRootFromSnapshot>
			<SnapshotFile></SnapshotFile>
			<DiffEquationsNumericalMethod>EULER</DiffEquationsNumericalMethod>
			<MixedEquationsNumericalMethod>RK45_NEWTON</MixedEquationsNumericalMethod>
			<AlgebraicEquationsNumericalMethod>MODIFIED_NEWTON</AlgebraicEquationsNumericalMethod>

			<Shapes>
				<Text>
					<Id>0</Id>
					<Name><![CDATA[text]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>40</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<AsObject>true</AsObject>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Lock>false</Lock>
					<ShowIn3D>false</ShowIn3D>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Routing Optimization to Minimize the Sick Consumers in
a Water Distribution Contamination Event]]></Text>
					<Font>
						<Name>Serif</Name>
						<Size>28</Size>
						<Style>1</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Shapes>
			<Controls>
				<Control Type="Button">
				 	<EmbeddedIcon>false</EmbeddedIcon>				
					<Id>0</Id>
					<Name><![CDATA[button]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>40</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<BasicProperties Width="330" Height="30" 
				AsObject="true">
                        <EmbeddedIcon>false</EmbeddedIcon>				
						<FillColor/>
						<TextColor/>
						<ActionCode><![CDATA[if ( getState() == IDLE )
	run();
getEngine().getPresentation().setPresentable( getEngine().getRoot() );]]></ActionCode>
					</BasicProperties>
					<ExtendedProperties>
						<Font Name="Dialog" Size="11" Style="0"/>
						<LabelText><![CDATA[Run the model and switch to Main view]]></LabelText>
						<LabelCode><![CDATA[getState() == IDLE ?
	"Run the model and switch to Main view" :
	"Switch to Main view"]]></LabelCode>
					</ExtendedProperties>
				</Control>
			</Controls>
			<Parameters>			
				<Parameter>
					<ParameterName><![CDATA[parameter]]></ParameterName>
					<ParameterValue><![CDATA[]]></ParameterValue>
				</Parameter>
			</Parameters>			
			<PresentationProperties 
				EnableAdaptiveFrameManagement="true" 
				EnableAntiAliasing="true"
				EnableEnhancedModelElementsAnimation="true"
				EnablePanning="true"
				ToolbarCustomizableAtRuntime="true"
				EnableZoom="true">
				<ExecutionMode><![CDATA[realTimeScaled]]></ExecutionMode>
				<CpuRatio><![CDATA[ratio_1_2]]></CpuRatio>	        
				<Title><![CDATA[Sim.WDS.1.1.24 : Simulation_Optimization_MC]]></Title>	
				<FramesPerSecond><![CDATA[20.0]]></FramesPerSecond>
				<RealTimeScale>1.0</RealTimeScale>
				<UIProperty Name="Experiment Progress" Value="false"/>
				<UIProperty Name="Simulation Progress" Value="true"/>
				<UIProperty Name="Statusbar Events Per Second" Value="false"/>
				<UIProperty Name="Statusbar Frames Per Second" Value="false"/>
				<UIProperty Name="Statusbar Memory" Value="true"/>
				<UIProperty Name="Statusbar Model Date" Value="false"/>
				<UIProperty Name="Statusbar Model Step" Value="false"/>
				<UIProperty Name="Statusbar Model Time" Value="true"/>
				<UIProperty Name="Statusbar Real Time Of Simulation" Value="false"/>
				<UIProperty Name="Statusbar Status" Value="true"/>
				<UIProperty Name="Toolbar Animation setup" Value="false"/>
				<UIProperty Name="Toolbar Execution control" Value="true"/>
				<UIProperty Name="Toolbar File" Value="false"/>
				<UIProperty Name="Toolbar Model navigation" Value="true"/>
				<UIProperty Name="Toolbar Time scale setup" Value="true"/>
				<UIProperty Name="Toolbar View" Value="false"/>
			</PresentationProperties>
			<ModelTimeProperties 
				UseCalendar="true">
				<StopOption><![CDATA[Stop at specified time]]></StopOption>
				<InitialDate><![CDATA[1271203200000]]></InitialDate>	
				<InitialTime><![CDATA[0.0]]></InitialTime>	
				<FinalDate><![CDATA[1271347200000]]></FinalDate>	
				<FinalTime><![CDATA[40.0]]></FinalTime>	
			</ModelTimeProperties>
		</SimulationExperiment>
		<!--   =========  Parameter Variation Experiment   ========  -->
		<ParamVariationExperiment ActiveObjectClassId="1246373484446">
			<Id>1373936822103</Id>
			<Name><![CDATA[ParametersVariation]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<PresentationTopGroupPersistent>true</PresentationTopGroupPersistent>
			<IconTopGroupPersistent>true</IconTopGroupPersistent>
			<Frame>
				<X>0</X>
				<Y>0</Y>
				<Width>800</Width>
				<Height>600</Height>
				<Maximized>false</Maximized>
				<CloseConfirmation>false</CloseConfirmation>
			</Frame>
			<CommandLineArguments><![CDATA[]]></CommandLineArguments>
			<MaximumMemory>4096</MaximumMemory>
			<RandomNumberGenerationType>randomSeed</RandomNumberGenerationType>
			<CustomGeneratorCode>new Random()</CustomGeneratorCode>
			<BeforeSimulationRunCode><![CDATA[//SC
if(Main_Optimization.counter >= 1*nb && Main_Optimization.counter < 2*nb){
	//Main_Optimization.complianceWOM = true;
	WDS.contaminatedNode = "wtpe-in";
	WDS.duration = 24;
}
//DM
if(Main_Optimization.counter >= 2*nb && Main_Optimization.counter < 3*nb){
	WDS.contaminatedNode = "wtpw-in";
	WDS.duration = 24;
	
	//Main_Optimization.complianceWOM = true;
	//Main_Optimization.wantWatchingTV = true;
	//Main_Optimization.media = true;
}
//SM
if(Main_Optimization.counter >= 3*nb && Main_Optimization.counter < 4*nb){
	WDS.contaminatedNode = "wtpw-in";
	WDS.duration = 6;
	//Main_Optimization.complianceWOM = true;
	//Main_Optimization.media = true;
	//Main_Optimization.wantComplianceModel = true;
	//Main_Optimization.wantWatchingTV = true;
}
// SA -  College Station
if(Main_Optimization.counter >= 4*nb && Main_Optimization.counter < 5*nb){
	Main_Optimization.complianceWOM = true;
	Main_Optimization.media = true;
	Main_Optimization.wantComplianceModel = true;
	//GroupConsumer.broadcastTime = 24;
	GroupConsumer.needBostonData = false;
	GroupConsumer.isCollegeCity = true;
	ComplianceAttributesProbabilities.boston = false;
	Main_Optimization.wantWatchingTV = true;
}	
// SA time - Anycity
if(Main_Optimization.counter >= 5*nb && Main_Optimization.counter < 6*nb){
	Main_Optimization.complianceWOM = true;
	Main_Optimization.media = true;
	Main_Optimization.wantComplianceModel = true;
	//GroupConsumer.broadcastTime = 24;
	GroupConsumer.needBostonData = false;
	GroupConsumer.isCollegeCity = false;
	ComplianceAttributesProbabilities.boston = true;
	Main_Optimization.wantWatchingTV = true;
}
// Uniform
if(Main_Optimization.counter >= 6*nb && Main_Optimization.counter < 7*nb){
	Main_Optimization.complianceWOM = true;
	Main_Optimization.media = true;
	Main_Optimization.wantComplianceModel = true;
	//GroupConsumer.broadcastTime = 24;
	GroupConsumer.needBostonData = true;
	GroupConsumer.isCollegeCity = false;
	ComplianceAttributesProbabilities.boston = true;
	ComplianceAttributesProbabilities.functionType = 0;
	Main_Optimization.wantWatchingTV = true;
}
// Poisson
if(Main_Optimization.counter >= 7*nb && Main_Optimization.counter < 8*nb){
	Main_Optimization.complianceWOM = true;
	Main_Optimization.media = true;
	Main_Optimization.wantComplianceModel = true;
	//GroupConsumer.broadcastTime = 24;
	GroupConsumer.needBostonData = true;
	GroupConsumer.isCollegeCity = false;
	ComplianceAttributesProbabilities.boston = true;
	Main_Optimization.wantWatchingTV = true;
	ComplianceAttributesProbabilities.functionType = 1;
}
// Exponential
if(Main_Optimization.counter >= 8*nb && Main_Optimization.counter < 9*nb){
	Main_Optimization.complianceWOM = true;
	Main_Optimization.media = true;
	Main_Optimization.wantComplianceModel = true;
	//GroupConsumer.broadcastTime = 24;
	GroupConsumer.needBostonData = true;
	GroupConsumer.isCollegeCity = false;
	ComplianceAttributesProbabilities.boston = true;
	Main_Optimization.wantWatchingTV = true;
	ComplianceAttributesProbabilities.functionType = 2;
}
resetParameters();]]></BeforeSimulationRunCode>
			<SeedValue>1</SeedValue>
			<RandomSelectionModeForSimultaneousEvents>false</RandomSelectionModeForSimultaneousEvents>
			<VmArgs><![CDATA[]]></VmArgs>
			<AbsoluteAccuracy>1.0E-5</AbsoluteAccuracy>
			<RelativeAccuracy>1.0E-5</RelativeAccuracy>
			<TimeAccuracy>1.0E-5</TimeAccuracy>
			<FixedTimeStep>0.0010</FixedTimeStep>
			<LoadRootFromSnapshot>false</LoadRootFromSnapshot>
			<SnapshotFile></SnapshotFile>
			<DiffEquationsNumericalMethod>EULER</DiffEquationsNumericalMethod>
			<MixedEquationsNumericalMethod>RK45_NEWTON</MixedEquationsNumericalMethod>
			<AlgebraicEquationsNumericalMethod>MODIFIED_NEWTON</AlgebraicEquationsNumericalMethod>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1374094438210</Id>
					<Name><![CDATA[nb]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>610</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue><![CDATA[30]]></InitialValue>                 	
					</Properties>
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnType><![CDATA[void]]></ReturnType>
					<Id>1373936844997</Id>
					<Name><![CDATA[resetParameters]]></Name>
					<ExcludeFromBuild>false</ExcludeFromBuild>
					<X>490</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[			Main.timeStep =0;
			Main.alertingTime = -1;

			while(!Main.resultCollectorSick.isEmpty())
				Main.resultCollectorSick.remove(0);
			while(!GroupConsumer.consumerQueue.isEmpty())
				GroupConsumer.consumerQueue.remove(0);
			while(!Main.resultCollectorWOM.isEmpty())
				Main.resultCollectorWOM.remove(0);
			while(!GroupConsumer.ChangedConsumer.isEmpty())
				GroupConsumer.ChangedConsumer.remove(0);
			while(!Main.CurrentNodePopQueue.isEmpty())
				Main.CurrentNodePopQueue.remove(0);
			while(!GroupConsumer.candidateForWOM.isEmpty())
				GroupConsumer.candidateForWOM.remove(0);
			while(!GroupConsumer.clusters.isEmpty())
				GroupConsumer.clusters.remove(0);
			while(!GroupConsumer.waterRequest_queue.isEmpty())
				GroupConsumer.waterRequest_queue.remove(0);
			while(!WDS.demandQueue.isEmpty())
				WDS.demandQueue.remove(0);
			while(!WDS.nodeQualityQueue.isEmpty())
				WDS.nodeQualityQueue.remove(0);
			while(!Main.resultCollectorMedia.isEmpty())
				Main.resultCollectorMedia.remove(0);
			while(!ConsumerAtHome.qPeople.isEmpty())
				ConsumerAtHome.qPeople.remove(0);]]></Body>
				</Function>
			</Functions>

			<AllowParallelEvaluations>true</AllowParallelEvaluations>
			<UseFreeformParameters>true</UseFreeformParameters>
			<NumberOfRuns>120</NumberOfRuns>
			<FreeformParamValue>	
				<Id>1247149387159</Id>
			</FreeformParamValue>
			<FreeformParamValue>	
				<Id>1247149448258</Id>
			</FreeformParamValue>
			<FreeformParamValue>	
				<Id>1268347593995</Id>
			</FreeformParamValue>
			<FreeformParamValue>	
				<Id>1270676156026</Id>
			</FreeformParamValue>
			<RangeVariationParamValue>	
				<Id>1247149387159</Id>
				<Type>FIXED</Type>
			</RangeVariationParamValue>
			<RangeVariationParamValue>	
				<Id>1247149448258</Id>
				<Type>FIXED</Type>
			</RangeVariationParamValue>
			<RangeVariationParamValue>	
				<Id>1268347593995</Id>
				<Type>FIXED</Type>
			</RangeVariationParamValue>
			<RangeVariationParamValue>	
				<Id>1270676156026</Id>
				<Type>FIXED</Type>
			</RangeVariationParamValue>
			<ModelTimeProperties 
				UseCalendar="true">
				<StopOption><![CDATA[Stop at specified time]]></StopOption>
				<InitialDate><![CDATA[1271203200000]]></InitialDate>	
				<InitialTime><![CDATA[0.0]]></InitialTime>	
				<FinalDate><![CDATA[1271721600000]]></FinalDate>	
				<FinalTime><![CDATA[144.0]]></FinalTime>	
			</ModelTimeProperties>
			<PresentationProperties 
				EnableAdaptiveFrameManagement="true" 
				EnableAntiAliasing="true"
				EnableEnhancedModelElementsAnimation="true"
				EnablePanning="true"
				ToolbarCustomizableAtRuntime="true"
				EnableZoom="true">
				<CpuRatio><![CDATA[ratio_1_2]]></CpuRatio>	        
				<Title><![CDATA[public_health_1 : ParametersVariation]]></Title>	
				<FramesPerSecond><![CDATA[20.0]]></FramesPerSecond>
				<UIProperty Name="Experiment Progress" Value="true"/>
				<UIProperty Name="Simulation Progress" Value="true"/>
				<UIProperty Name="Statusbar Events Per Second" Value="false"/>
				<UIProperty Name="Statusbar Frames Per Second" Value="false"/>
				<UIProperty Name="Statusbar Memory" Value="true"/>
				<UIProperty Name="Statusbar Model Date" Value="false"/>
				<UIProperty Name="Statusbar Model Step" Value="false"/>
				<UIProperty Name="Statusbar Model Time" Value="false"/>
				<UIProperty Name="Statusbar Real Time Of Simulation" Value="true"/>
				<UIProperty Name="Statusbar Status" Value="true"/>
				<UIProperty Name="Toolbar Animation setup" Value="false"/>
				<UIProperty Name="Toolbar Execution control" Value="true"/>
				<UIProperty Name="Toolbar File" Value="false"/>
				<UIProperty Name="Toolbar View" Value="false"/>
			</PresentationProperties>
			<ReplicationsProperties>
				<UseReplication>false</UseReplication>
				<FixedReplicationsNumber>true</FixedReplicationsNumber>
				<ReplicationPerIteration>10</ReplicationPerIteration>
				<MinimumReplication>2</MinimumReplication>
				<MaximumReplication>10</MaximumReplication>
				<ConfidenceLevel>LEVEL_80</ConfidenceLevel>
				<ErrorPercent>0.5</ErrorPercent>
				<ExpressionForConfidenceComputation><![CDATA[0]]></ExpressionForConfidenceComputation>
			</ReplicationsProperties>
		</ParamVariationExperiment>	
	</Experiments>
	<JavaClasses>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1248123654520</Id>
			<Name><![CDATA[QualityMessage]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * QualityMessage
 */	
public class QualityMessage implements java.io.Serializable {
     int numOfNode;
	 
	
	 double[] quality;
	

    /**
     * Default constructor
     */
    public QualityMessage(){
    }

    /**
     * Constructor initializing the fields
     */     
    public QualityMessage(int numOfNode, double[] quality){
		this.numOfNode = numOfNode;
		this.quality = quality;	
    }

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1248189804566</Id>
			<Name><![CDATA[WaterDemandMessage]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * WaterDemandMessage
 */	
public class WaterDemandMessage implements java.io.Serializable {

	public int[] numOfConsumer;
	

    /**
     * Default constructor
     */
    public WaterDemandMessage(){
    }

    /**
     * Constructor initializing the fields
     */     
    public WaterDemandMessage(int[] numOfConsumer){
		this.numOfConsumer = numOfConsumer;
    }     
	
	@Override
	public String toString() {
		return  
			"numOfConsumer = " + numOfConsumer +" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1249316730402</Id>
			<Name><![CDATA[Consumer]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * Consumer
 */
import java.util.*;
import java.io.*;

public class Consumer implements Serializable {
	private int timeC;

	private int[] ghostIndex = new int[2];
	
	private boolean isHere;
	
	boolean dontComply = false;
	
	private boolean isWarnedByRouting;
	
	private int clusterNo;
	
	private boolean stopFlag = false;
	
	private boolean getClustered = false;
	
	private double[] waterUseTime;

	private String firstPlace;

	private String secondPlace;

	private int ownerNumber;

	protected boolean hasMobility;

	private double wordOfMouthRatio;

	private double decisionMakerRatio;

	private double gotDose;

	private int travelDelayTime;

	private boolean stopDrinking;
	
	private boolean gotMediaMessage;

	private double weight;

	private String sex;

	private String age;

	private double drinkingVolume;

	/**
	 * THIS VARIABLE SHOULD BE INITIALIZED WITH FOLLOWING FORMAT: 1-IND 2-RES
	 * 3-COM 4-SCH 5-AIR 6-NAV
	 */
	private String workingNodeType;

	private boolean doesWork;

	private boolean isStudent;

	private boolean isHousewife;

	private String currentNode;

	private int startToWork;

	private int workingHour;

	private double reductionFactor;
	/*------------------------------------------------------------------
	 *The affected by surronding Type are classified into four Group
	 * 1- Type A: Fully educated people, They monitor the news, media, public health issue regularly at a specific scheduale. (5% OF POPULATION)
	 * 2- Type B: Semi educated people, They have some scheduale(10% OF POPULATION)
	 * 3- Type C: CONCERN ABOUT SOCIAL EVENTS(25% OF POPULATION)
	 * 4- TYPE D: JUST RECIEVER OF THE MEDIA AND OTHER PEOPLE WORD OF MOUTH
	 ------------------------------------------------------------------*/
	private char affectedBySurrondingType;

	private boolean isSick;
	

	private int takenStrategy;
	
	private double[] chanceToWatchTV;
	
	private double[] chanceToListenToRadio;
	
	private double[] homeAsleep;
	
	
	
	
	/**
	 * Default constructor
	 */
	public Consumer() {
	}

	/**
	 * Constructor initializing the fields
	 */
	public Consumer(double[] waterUseTime, String firstPlace,
			String secondPlace, int ownerNumber, double decisionMakerRatio,
			String sex, String age) {
		this.waterUseTime = waterUseTime;
		this.firstPlace = firstPlace;
	
		this.ownerNumber = ownerNumber;
		// this.hasMobility = hasMobility;

		this.decisionMakerRatio = decisionMakerRatio;
		this.gotDose = 0;
		this.wordOfMouthRatio = 0;
		this.stopDrinking = false;
		this.isSick = false;
		this.sex = sex;
		this.age = age;
		this.doesWork = false;
		this.isWarnedByRouting = false;
		this.workingHour = 9;
		this.startToWork = 8;
		this.currentNode = firstPlace;
		determineWorkerOrStudent(this);
		if (this.hasMobility) {
			this.secondPlace = secondPlace;
		}

	}
	
	/**
	 * Constructor initializing the fields
	 */
	public Consumer(double[] waterUseTime, String firstPlace, int ownerNumber,
			String sex, String age, double weight, double drinkingVol) {
		this.waterUseTime = waterUseTime;
		this.firstPlace = firstPlace;
		this.ownerNumber = ownerNumber;
		this.sex = sex;
		this.workingHour = 9;
		this.startToWork = 8;
		this.wordOfMouthRatio = 0;
		this.gotDose = 0;
		this.stopDrinking = false;
		this.isSick = false;
		this.age = age;
		this.drinkingVolume = drinkingVol;
		this.weight = weight;
		this.currentNode = firstPlace;
		this.doesWork = false;
		this.isWarnedByRouting = false;
		determineWorkerOrStudent(this);
	}

	/**
	 * Constructor initializing the fields in this constructor if the name of
	 * node is an integer number, the constructor will change it to Sting and
	 * save it
	 */
	public Consumer(double[] waterUseTime, int firstPlace, int ownerNumber,
			String sex, String age, double weight, double drinkingVol) {
		this.waterUseTime = waterUseTime;
		Integer firstPla = new Integer(firstPlace);
		String a = firstPla.toString();
		this.firstPlace = a;
		this.ownerNumber = ownerNumber;
		this.workingHour = 9;
		this.startToWork = 8;
		this.wordOfMouthRatio = 0;
		this.gotDose = 0;
		this.doesWork = false;
		this.stopDrinking = false;
		this.isSick = false;
		this.sex = sex;
		this.currentNode = a;
		this.age = age;
		this.drinkingVolume = drinkingVol;
		this.weight = weight;
		this.isWarnedByRouting = false;
		determineWorkerOrStudent(this);
	}

	public Consumer(double[] waterUseTime, int firstPlace, int secondPlace,
			int ownerNumber, double decisionMakerRatio, String sex, String age) {
		this.waterUseTime = waterUseTime;
		Integer firstPla = new Integer(firstPlace);
		String a = firstPla.toString();
		this.currentNode = a;
		this.firstPlace = a;
		this.isWarnedByRouting = false;
		this.ownerNumber = ownerNumber;
		this.wordOfMouthRatio = 0;

		this.decisionMakerRatio = decisionMakerRatio;
		this.workingHour = 9;
		this.startToWork = 8;
		this.gotDose = 0;
		this.doesWork = false;
		this.stopDrinking = false;
		this.isSick = false;
		this.sex = sex;
		this.age = age;
		determineWorkerOrStudent(this);
		if (this.hasMobility) {
			a = firstPla.toString();
			this.secondPlace = a;
		}
	}


	
	/* set methods */
	public void setWarnedByRoutingToTrue(){
		isWarnedByRouting = true;
		stopDrinking = true;
	}
	
	public void setWarnedByRouting(boolean trueORfalse){
		isWarnedByRouting = trueORfalse;
	}
	
	public void setIsHere(boolean trueORfalse){
			isHere = trueORfalse;
		
	}
	
	public void placeMediaMessage(){
		this.gotMediaMessage = true;
		this.stopDrinking = true ;
	}
	
	 public void setGhostIndex(){
		 int[] a = {-1,-1};
		 this.ghostIndex = a;
	 }
	 public void setGhostIndex(int value, int index){
		 this.ghostIndex[index] = value;
	 }
	public void setWaterUseTime(double[] waterUseTime) {
		this.waterUseTime = waterUseTime;
	}
	
	public void setClusterNo(int no){
		this.clusterNo = no;
	}
	
	public void setReductionFactor(double reduction) {
		this.reductionFactor = reduction;
	}
	
	public void setTime(int t){
		this.timeC = t;
	}
	public void setworkingHour(int time) {
		this.workingHour = time;
	}

	public void setWorkingNodeType(String type) {
		if (type.length() != 3)
			throw new ExceptionInInitializerError("MORE THAN 3 char");
		this.workingNodeType = type;
	}

	public void setStopFlag(){
		this.stopFlag = true;
	}
	public void setPreventingStrategies(int strategy) {
		this.takenStrategy = strategy;
	}

	public void setStartToWork(int time) {
		this.startToWork = time;
	}
	
	public void setGetClustered(){
		this.getClustered = true;
	}
		
	
	public void setWaterUseTime(int k, double waterUseTime) {
		this.waterUseTime[k] = waterUseTime;
	}

	public void setFirstPlace(String firstPlace) {
		this.firstPlace = firstPlace;
	}

	public void setSecondPlace(String secondPlace) {
		this.secondPlace = secondPlace;
	}

	public void setHasMobility(boolean hasMobility) {
		this.hasMobility = hasMobility;
	}

	public void setOwnerNumber(int ownerNumber) {
		this.ownerNumber = ownerNumber;
	}

	public void setDecisionMakerRatio(double decisionMakerRatio) {
		this.decisionMakerRatio = decisionMakerRatio;
	}

	public void setWordOfMouthRatio(double wordOfMouthRatio) {
		this.wordOfMouthRatio = wordOfMouthRatio;
	}

	public void setGotDose(double dose) {
		this.gotDose = dose;
	}

	public void setStopDrinking() {
		this.stopDrinking = true;
	}

	public void modifyGotDose(double dose) {
		this.gotDose = this.gotDose + dose;
	}

	public void setConsumerType(char a) {
		this.affectedBySurrondingType = a;
	}

	public void setSex(String sex) {
		this.sex = sex;
	}

	public void setIsSick() {
		this.isSick = true;
		this.setStopDrinking();
		this.setStopFlag();
	}

	public void setTravelDelayTime(int time) {
		this.travelDelayTime = time;
	}

	public void setAge(String Age) {
		this.age = Age;
	}

	/* get methods */
	public int getGhostIndex(int index){
		if(index < 2)
			new Throwable("MORE THAN 2");
		
		return this.ghostIndex[index];
	}
	
	public boolean isWarnedByRouting(){
		return isWarnedByRouting;
	}
	
	public boolean isReceivedMediaMessage(){
		return this.gotMediaMessage;
	}
	
	public int[] getGhostIndex(){
		return ghostIndex;
	}
	
	public int time(){
		return this.timeC;
	}
	
	public boolean getIsHere(){
		return isHere;
	}
	
	public int getStartToWork() {
		return this.startToWork;
	}

	public boolean getStopFlag(){
		return this.stopFlag;
	}
	
	public int getClusterNo(){
		return this.clusterNo;
	}
	
	public int getTakenStrategy() {
		return takenStrategy;
	}

	public double getReductionFactor() {
		return this.reductionFactor;
	}

	public int getworkingHour() {
		return this.workingHour;
	}

	public double[] getWaterUseTime() {
		return this.waterUseTime;
	}

	public String getWorkingNodeType() {
		return this.workingNodeType;
	}

	public double getWaterUseTime(int i) {
		return this.waterUseTime[i];
	}

	public double[] getWaterUseTime(int owner, String firstPlace) {

		return this.waterUseTime;
	}

	public String getFirstPlace() {
		return this.firstPlace;
	}

	public String getSecondPlace() {
		return this.secondPlace;
	}

	public boolean getHasMobility() {
		return this.hasMobility;
	}

	public int getOwnerNumber() {
		return this.ownerNumber;
	}

	public double getDecisionMakerRatio() {
		return this.decisionMakerRatio;
	}

	public double getWordOfMouthRatio() {
		return this.wordOfMouthRatio;
	}

	public int getFirstPlaceInt() {

		Integer a = new Integer(firstPlace);
		return a;

	}

	public int getSecondPlaceInt() {
		Integer a = new Integer(secondPlace);
		return a;
	}
	
	public boolean getGetClustered(){
		return this.getClustered ;
	}

	public double getDose() {
		return this.gotDose;
	}

	public String getSex() {
		return this.sex;
	}

	public String getAge() {
		return this.age;
	}

	public double getWeight() {
		return this.weight;
	}

	public double getDrinkingVolume() {
		return this.drinkingVolume;
	}

	public boolean getStopDrinking() {
		return this.stopDrinking;
	}

	public boolean getIsSick() {
		return this.isSick;
	}

	public int getTravelDelayTime() {
		return this.travelDelayTime;
	}

	public String getCurrentNode() {
		return this.currentNode;
	}

	public char getConsumerType() {
		return this.affectedBySurrondingType;
	}

	/* other Methods */
	public void determineWorkerOrStudent(Consumer c) {
		if (c.age.equals("<0.5") || c.age.equals("0.5-0.9")
				|| c.age.equals("1-3") || c.age.equals("4-6")) {
			c.hasMobility = false;
			c.doesWork = false;
			c.isStudent = false;
		}
	}

	public void assignReduction() {
		int rinseFreshVeg_fauset = 37;
		int cookSpagethi_fauset = 50;
		int brewCoffee_fauset = 47;
		int rinseMouth_fauset = 34;
		int washHand_fauset = 46;
		int washTheDishes_fauset = 38;
		int washKitechen_fauset = 46;
		int takeAShower_shower = 39;
		int washCloths_wash = 51;

		double reduction = 3.71;

		if (new Random().nextInt(100) > rinseFreshVeg_fauset)
			reduction += 11.06 / 7;

		if (new Random().nextInt(100) > cookSpagethi_fauset)
			reduction += 11.06 / 7;

		if (new Random().nextInt(100) > brewCoffee_fauset)
			reduction += 11.06 / 7;

		if (new Random().nextInt(100) > rinseMouth_fauset)
			reduction += 11.06 / 7;

		if (new Random().nextInt(100) > washHand_fauset)
			reduction += 11.06 / 7;

		if (new Random().nextInt(100) > washTheDishes_fauset)
			reduction += 11.06 / 7;

		if (new Random().nextInt(100) > washKitechen_fauset)
			reduction += 11.06 / 7;

		if(reduction != 3.71)	
			reduction = 3.71 + 11.06;

		if (new Random().nextInt(100) > takeAShower_shower)
			reduction += 11.76;

		if (new Random().nextInt(100) > washCloths_wash)
			reduction += 15.19;

		int u = pickMitigationStrategies();

		if (u != 1)
			reduction -= 11.07 / 8;

		this.setReductionFactor(reduction);

		switch (u) {
		case (1):
			this.takenStrategy = 1; // "bottled"
			break;
		case (2):
			this.takenStrategy = 2; // "boiling"
			break;
		case (3):
			this.takenStrategy = 3; // "chlorine"
			break;
		case (4):
			this.takenStrategy = 4; // "filter"
			break;
		default:
			this.takenStrategy = 5; // "heater"
			break;
		}

	}

	public int pickMitigationStrategies() {
		double strategyOne = 27.4713741;
		double strategyTwo = 40.4434352;
		double strategyThree = 3.8882077;
		double strategyFour = 24.5177964;
		double strategyFive = 3.6791866;
		double chance = new Random().nextDouble() * 100;
		if (chance <= strategyOne)
			return 1;
		if (strategyOne < chance && chance <= (strategyOne + strategyTwo))
			return 2;
		if ((strategyOne + strategyTwo) < chance
				&& chance <= (strategyOne + strategyTwo + strategyThree))
			return 3;
		if ((strategyOne + strategyTwo + strategyThree) < chance
				&& chance <= (strategyOne + strategyTwo + strategyThree + strategyFour))
			return 4;
		else
			return 5;
	}
	
	public void setTimeOfDrinking(){
		for(int i=0; i<24;++i){
			this.setCurrentNode(i);
			if(this.getCurrentNode().equals("Home")){
				if(i == (int)waterUseTime[1])
					++waterUseTime[1];
				if(i == (int)waterUseTime[2])
					++waterUseTime[2];
				if(i == (int)waterUseTime[3])
					++waterUseTime[3];
				if(i == (int)waterUseTime[4])
					++waterUseTime[4];
				if(i == (int)waterUseTime[5])
					++waterUseTime[5];
			}
		}
	}
	public void setCurrentNode(int time) {
		currentNode = firstPlace;
		int n = time / 24;
		int currenttime = time - 24 * n;
		int w = startToWork + workingHour;
		int startToRest;
		if (w > 24) {
			startToRest = w - 24;
			if (currenttime < startToRest && currenttime < startToWork) {
				currentNode = secondPlace;
			} else {
				if (currenttime > startToRest && currenttime < startToWork) {
					if (currenttime == (startToRest + travelDelayTime)
							|| currenttime == (startToWork - travelDelayTime))
						currentNode = "TBD";
					else
						currentNode = firstPlace;
				} else {
					currentNode = secondPlace;
				}
			}
		} else {
			startToRest = w;
			if (currenttime < startToWork && currenttime < startToRest) {
				if (currenttime == (startToWork - travelDelayTime))
					currentNode = "TBD";
				else
					currentNode = firstPlace;
			} else {
				if (currenttime > startToWork && currenttime < startToRest) {
					currentNode = secondPlace;
				} else {
					if (currenttime == (startToRest + travelDelayTime))
						currentNode = "TBD";
					else
						currentNode = firstPlace;
				}
			}
		}

	}
	public Consumer copy(){
		Consumer a = new Consumer();
		a.isWarnedByRouting = this.isWarnedByRouting;
		a.workingNodeType = this.workingNodeType;
		a.workingHour = this.workingHour;
		a.wordOfMouthRatio = this.wordOfMouthRatio;
		a.weight = this.weight;
		a.waterUseTime = Arrays.copyOf(waterUseTime, waterUseTime.length);
		a.travelDelayTime = this.travelDelayTime;
		a.takenStrategy = this.takenStrategy;
		a.stopFlag = this.stopFlag;
		a.ghostIndex = Arrays.copyOf(this.ghostIndex,this.ghostIndex.length);
		a.startToWork = this.startToWork;
		a.sex = this.sex;
		a.secondPlace = this.secondPlace;
		a.reductionFactor = this.reductionFactor;
		a.ownerNumber =  this.ownerNumber;
		a.isStudent = this.isStudent;
		a.isHousewife = this.isHousewife;
		a.isSick = this.isSick;
		a.hasMobility =this.hasMobility;
		a.gotDose = this.gotDose;
		a.getClustered = this.getClustered;
		a.firstPlace = this.firstPlace;
		a.drinkingVolume = this.drinkingVolume;
		a.decisionMakerRatio = this.decisionMakerRatio;
		a.doesWork = this.doesWork;
		a.currentNode = this.currentNode;
		a.age = this.age;
		a.affectedBySurrondingType = this.affectedBySurrondingType;
		a.timeC = this.timeC;
		a.stopDrinking = this.stopDrinking;
		
		a.dontComply = this.dontComply;
		a.isHere = this.isHere;
		a. clusterNo = this.clusterNo;                                          
		
		
		
		
		return a;
	}

	public void setTimeOfWatchingTVandLiesteningRadio_Boston(){
		
			double[] a = {0.025	,
					0.0125	,
					0	,
					0.0125	,
					0.05	,
					0.125	,
					0.1375	,
					0.15	,
					0.05	,
					0.0125	,
					0	,
					0.1375	,
					0.0125	,
					0.0125	,
					0.0125	,
					0.05	,
					0.2625	,
					0.5	,
					0.175	,
					0.0375	,
					0.0625	,
					0.2125	,
					0.275	,
					0.05	
					};
			chanceToWatchTV = a;
			double[] a1 = {0.018867925	,
					0	,
					0	,
					0.018867925	,
					0.018867925	,
					0.094339623	,
					0.301886792	,
					0.377358491	,
					0.226415094	,
					0.132075472	,
					0.037735849	,
					0.20754717	,
					0.075471698	,
					0.056603774	,
					0.056603774	,
					0.150943396	,
					0.283018868	,
					0.20754717	,
					0.113207547	,
					0.056603774	,
					0	,
					0.037735849	,
					0.018867925	,
					0.037735849		};	
			chanceToListenToRadio = a1;		
			double[] a2 = {0.855555556	,	0.888888889	,	0.933333333	,0.911111111	,	
					0.9	,0.711111111	,0.522222222	,0.322222222	,				
					0.111111111	,0.083333333	,0.033333333	,0.038888889	,		
					0.044444444	,0.055555556	,0.061111111	,0.044444444	,		
					0.033333333	,0.027777778	,	0.027777778	,0.061111111	,			
					0.1	,0.344444444	,0.5	,0.688888889};
			homeAsleep = a2;
		
	}
	
	
	public void setTimeOfWatchingTVandLiesteningRadio(boolean isCollegeCity){
		if(!isCollegeCity){
			double[] a = { 0.033,0.017,0.001,0.001,0.006,0.011,0.033,0.042,0.047,0.056,0.061
					,0.072,0.078,0.083,0.094,0.100,0.111,0.167,0.211
					,0.267,0.356,0.278,0.200,0.111};
			chanceToWatchTV = a;
			double[] a1 = {0.006	,0.001	,0.001	,0.001	,0.006	,0.033	,0.044	
					,0.044	,0.056	,0.044	,0.044	,0.044	,0.044	,0.044	
					,0.039	,0.044	,0.044	,0.033	,0.028	,0.022	,0.022	,0.017	,0.017	,0.011	};	
			chanceToListenToRadio = a1;	
			double[] a2 = {0.855555556	,0.888888889	,0.933333333	,0.911111111	,	
					0.9	,0.711111111	,0.522222222	,0.322222222	,				
					0.111111111	,0.083333333	,0.033333333	,0.038888889	,		
					0.044444444	,0.055555556	,0.061111111	,0.044444444	,		
					0.033333333	,0.027777778	,0.027777778	,0.061111111	,			
					0.1	,0.344444444	,0.5	,0.688888889};
			homeAsleep = a2;
		}else{
			double[] a = { 0.02	,0.00	,0.00	,0.00	,0.00	,
					0.00	,0.02	,0.08	,0.06	,0.04	,
					0.00	,	0.00	,0.02	,0.00	,0.00	,
				    0.00	,0.00	,0.08	,0.10	,0.08	,	
				    0.13	,0.17	,0.15	,0.04		};
			chanceToWatchTV = a;
			double[] a1 = {0.00	,0.00	,0.00	,0.00	,0.00	
					,0.00	,0.06	,0.16	,0.19	,			
					0.03	,0.03	,0.00	,0.03	,0.06	,			
					0.06	,0.06	,0.10	,0.10	,0.06	,			
					0.03	,0.00	,0.00	,0.00	,0.00	};	
			chanceToListenToRadio = a1;		
			double[] a2 = {0.855555556	,	0.888888889	,	0.933333333	,0.911111111	,	
					0.9	,0.711111111	,0.522222222	,0.322222222	,				
					0.111111111	,0.083333333	,0.033333333	,0.038888889	,		
					0.044444444	,0.055555556	,0.061111111	,0.044444444	,		
					0.033333333	,0.027777778	,	0.027777778	,0.061111111	,			
					0.1	,0.344444444	,0.5	,0.688888889};
			homeAsleep = a2;
		}
	}
	public double getTimeTowatchingTV(int index){
		int day = index / 24;
		index = index  - day * 24;
		return chanceToWatchTV[index];
	}
	
	public double getTimeToListenToRadio(int index){
		int day = index / 24;
		index = index  - day * 24;
		return chanceToListenToRadio[index];
	}
	private double[] complianceProbability = {0.71/*Public Health*/,0.25/*Media*/,0.28/*Peers & Friends*/};
	public double getCompliance(int i){
		return complianceProbability[i];
	}
	
	public boolean isWatchingTVorListeningToRadio(int index){
		int day = index / 24;
		index = index  - day * 24;
		
		//IF CONSUMER NOT ASLEEP AT HOME
		if((new Random().nextDouble()) > homeAsleep[index]){
			//IF CONSUMER WATCHING TV OR LISENTING TO RADIO
			if(( new Random().nextDouble() < chanceToWatchTV[index] ) || 
					(new Random().nextDouble()) < chanceToListenToRadio[index]){
					//	if(new Random().nextDouble() < complianceProbability[0])
							return true;
						//else
							//return false;
			}else{
				return false;
			}
		}else{
			return false;
		}
	}
	

	@Override
	public String toString() {
		return "waterUseTime = " + waterUseTime + " " + "firstPlace = "
				+ firstPlace + " " + "secondPlace = " + secondPlace + " "
				+ "ownerNumber = " + ownerNumber + " " + "hasMobility = "
				+ hasMobility + " " + "wordOfMouthRation = " + wordOfMouthRatio
				+ " " + "decisionMakerRatio = " + decisionMakerRatio + " ";
	}

}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1268248904261</Id>
			<Name><![CDATA[EPANET]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * EPANET
 */	


public class EPANET {

		private native void 	ENepanet(String f1, String f2, String f3);

		private native void 	ENopen(String f1, String f2, String f3);

		private native void 	ENclose();

		private native int		ENgetnodeindex(String id);

		private native String 	ENgetnodeid(int index);

		private native int 		ENgetnodetype(int index);
		
		private native float 	ENgetnodevalue(int index, int paramcode);

		private native int 		ENgetlinkindex(String id);

		private native String 	ENgetlinkid(int index);

		private native int 		ENgetlinktype(int ndex);

		private native int[] 	ENgetlinknodes(int index);

		private native float 	ENgetlinkvalue(int index, int paramcode);

		private native String 	ENgetpatternid(int index);

		private native int 		ENgetpatternindex(String id);

		private native int 		ENgetpatternlen(int index);

		private native float 	ENgetpatternvalue(int index, int period);

		//private native 			DATATransfer ENgetcontrol(int index);

		private native int 		ENgetcount(int countcode);

		private native int 		ENgetflowunits();

		private native long 	ENgettimeparam(int paramcode);

		private native int 		ENgetqualtype(int qualcode);

		private native float 	ENgetoption(int optioncode);

		private native int 		ENgetversion();

		private native void 	ENsetcontrol(int cindex, int ctype, int lindex,
									float setting, int nindex, float level);

		private native void 	ENsetnodevalue(int index, int paramcode, float value);

		private native void 	ENsetlinkvalue(int index, int paramcode, float value);

		private native void 	ENsetpattern(int index, float[] factors, int nfactors);

		private native void 	ENsetpatternvalue(int index, int period, float value);

		private native void 	ENsetqualtype(int qualcode, String chemname,
									String chemunits, String tracenode);

		private native void 	ENsettimeparam(int paramcode, long timevalue);

		private native void 	ENsetoption(int optioncode, float value);

		private native void 	ENsavehydfile(String fname);

		private native void 	ENusehydfile(String fname);

		private native void 	ENsolveH();

		private native void 	ENopenH();

		private native void 	ENinitH(int flag);

		private native long 	ENrunH();

		private native long 	ENnextH();

		private native void 	ENcloseH();

		private native void 	ENsolveQ();

		private native void 	ENopenQ();

		private native void 	ENinitQ(int flag);

		private native long 	ENrunQ();

		private native long 	ENnextQ();

		private native long 	ENstepQ();

		private native void 	ENcloseQ();

		private native void 	ENsaveH();

		private native void 	ENsaveinpfile(String fname);

		private native void 	ENreport();

		private native void 	ENresetreport();

		private native void 	ENsetreport( String command );

		private native void 	ENsetstatusreport( int statuslevel );

		private native String 	ENgeterror( int errcode);
				
	
static {
	try {
		System.loadLibrary("Jepanet x64");
	} catch (UnsatisfiedLinkError e) {
		System.out.println("Error in Loading  Quality DLL");
	}
}
		


	// ----------------------------------------------------------------

		public void call_ENepanet(String input, String report, String output) {
			this.ENepanet(input, report, output);
			return;
		}
		
		public void call_ENopen(String input, String report, String output) {
			this.ENopen(input, report, output);
			return;
		}
		
		public void call_ENclose() {
			this.ENclose();
			return;
		}
		
		public int call_ENgetnodeindex(String id) {
			int returnval = this.ENgetnodeindex(id);
			return returnval;
		}
		
		public String call_ENgetnodeid(int index) {
			String returnval = this.ENgetnodeid(index);
			return returnval;
		}
		
		public int call_ENgetnodetype(int index) {
			int returnval = this.ENgetnodetype(index);
			return returnval;
		}
		
		public float call_ENgetnodevalue(int index, int paramcode) {
			float returnval = this.ENgetnodevalue(index, paramcode);
			return returnval;
		}
		
		public int call_ENgetlinkindex(String id) {
			int returnval = this.ENgetlinkindex(id);
			return returnval;
		}
		
		public String call_ENgetlinkid(int index) {
			String returnval = this.ENgetlinkid(index);
			return returnval;
		}
		
		public int call_ENgetlinktype(int index) {
			int returnval = this.ENgetlinktype(index);
			return returnval;
		}
		
		public int[] call_ENgetlinknodes(int index) {
			int[] returnval = this.ENgetlinknodes(index);
			return returnval;
		}
		
		public float call_ENgetlinkvalue(int index, int paramcode) {
			float returnval = this.ENgetlinkvalue(index, paramcode);
			return returnval;
		}

		public String call_ENgetpatternid(int index) {
			String returnval = this.ENgetpatternid(index);
			return returnval;
		}
		
		public int call_ENgetpatternindex(String id) {
			int returnval = this.ENgetpatternindex(id);
			return returnval;
		}
		
		public int call_ENgetpatternlen(int index) {
			int returnval = this.ENgetpatternlen(index);
			return returnval;
		}
		
		public float call_ENgetpatternvalue(int index, int period) {
			float returnval = this.ENgetpatternvalue(index, period);
			return returnval;
		}

		public int call_ENgetcount(int countcode) {
			int returnval = this.ENgetcount(countcode);
			return returnval;
		}
		
		public int call_ENgetflowunits() {
			int returnval = this.ENgetflowunits();
			return returnval;
		}	
		
		public long call_ENgettimeparam(int paramcode) {
			long returnval = this.ENgettimeparam(paramcode);
			return returnval;
		}
		
		public int call_ENgetqualtype(int qualcode) {
			int returnval = this.ENgetqualtype(qualcode);
			return returnval;
		}
		
		public float call_ENgetoption(int optioncode) {
			float returnval = this.ENgetoption(optioncode);
			return returnval;
		}
		
		public int call_ENgetversion() {
			int returnval = this.ENgetversion();
			return returnval;
		}	
		
		public void call_ENsetcontrol(int cindex, int ctype, int lindex,
				float setting, int nindex, float level) {
			this.ENsetcontrol(cindex, ctype, lindex, setting, nindex, level);
			return;
		}	
		
		public void call_ENsetnodevalue(int index, int paramcode, float value) {
			this.ENsetnodevalue(index, paramcode, value);
			return;
		}
		
		public void call_ENsetlinkvalue(int index, int paramcode, float value) {
			this.ENsetlinkvalue(index, paramcode, value);
			return;
		}
		
		public void call_ENsetpattern(int index, float[] factors, int nfactors) {
			this.ENsetpattern(index, factors, nfactors);
			return;
		}
		
		public void call_ENsetpatternvalue(int index, int period, float value) {
			this.ENsetpatternvalue(index, period, value);
			return;
		}
		
		public void call_ENsetqualtype(int qualcode, String chemname,
				String chemunits, String tracenode) {
			this.ENsetqualtype(qualcode, chemname, chemunits, tracenode);
			return;
		}	
		
		public void call_ENsettimeparam(int paramcode, long timevalue) {
			this.ENsettimeparam(paramcode, timevalue);
			return;
		}
		
		public void call_ENsetoption(int optioncode, float value) {
			this.ENsetoption(optioncode, value);
			return;
		}
		
		public void call_ENsavehydfile(String fname) {
			this.ENsavehydfile(fname);
			return;
		}
		
		public void call_ENusehydfile(String fname) {
			this.ENusehydfile(fname);
			return;
		}
		
		public void call_ENsolveH() {
			this.ENsolveH();
			return;
		}
		
		public void call_ENopenH() {
			this.ENopenH();
			return;
		}

		public void call_ENinitH(int flag) {
			this.ENinitH(flag);
			return;
		}

		public long call_ENrunH() {
			long returnval = this.ENrunH();
			return returnval;
		}

		public long call_ENnextH() {
			long returnval = this.ENnextH();
			return returnval;
		}

		public void call_ENcloseH() {
			this.ENcloseH();
			return;
		}

		public void call_ENsolveQ() {
			this.ENsolveQ();
			return;
		}
		
		public void call_ENopenQ() {
			this.ENopenQ();
			return;
		}
		
		public void call_ENinitQ(int flag) {
			this.ENinitQ(flag);
			return;
		}
		
		public long call_ENrunQ() {
			long returnval = this.ENrunQ();
			return returnval;
		}
		
		public long call_ENnextQ() {
			long returnval = this.ENnextQ();
			return returnval;
		}
		
		public long call_ENstepQ() {
			long returnval = this.ENstepQ();
			return returnval;
		}
		
		public void call_ENcloseQ() {
			this.ENcloseQ();
			return;
		}
		
		public void call_ENsaveH() {
			this.ENsaveH();
			return;
		}
		
		public void ENsaveinpfile() {
			this.ENsaveinpfile();
			return;
		}
		
		public void call_ENreport() {
			this.ENreport();
			return;
		}
		
		public void call_ENresetreport() {
			this.ENresetreport();
			return;
		}
		
		public void call_ENsetreport( String command ) {
			this.ENsetreport(command);
			return;
		}
			
		public void call_ENsetstatusreport( int statuslevel ) {
			this.ENsetstatusreport( statuslevel );
			return;
		}
			
		public String call_ENgeterror( int errcode) {
			String returnval = this.ENgeterror(errcode);
			return returnval;
		}



	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1276210443611</Id>
			<Name><![CDATA[DecisionMakersMessage]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * DecisionMakersMessage
 */	
public class DecisionMakersMessage implements java.io.Serializable {

	 String warning;
	

    /**
     * Default constructor
     */
    public DecisionMakersMessage(){
    }

    /**
     * Constructor initializing the fields
     */     
    public DecisionMakersMessage(String warning){
		this.warning = warning;
    }     
	
	@Override
	public String toString() {
		return  
			"warning = " + warning +" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1276783388682</Id>
			<Name><![CDATA[Cluster]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[import java.util.Arrays;
import java.util.*;

public class Cluster {
	public static int clusterPopulation;
	public int clusterNo;
	private Consumer[] member;
	private int[] rank;
	private int numberOfIntermediate;
	private int numberOfInformationIsolate;
	private int[][] memberConnection;

	/**
	 * rank 1: Original Source (OS) rank 2: Intermediate(I) rank 3: Ultimate
	 * Receiver (UR) rank 4: Information Isolate (II)
	 * 
	 * @param rank
	 */
	// CONSTRUCTOR
	public Cluster() {
		member = new Consumer[clusterPopulation];
		rank = new int[clusterPopulation];
	}
	public Cluster copy(){
		Cluster a= new Cluster();
		a.clusterPopulation = this.clusterPopulation;
		a.clusterNo = this.clusterNo;
		a.rank = Arrays.copyOf(this.rank,this.rank.length);
		a.numberOfIntermediate = this.numberOfIntermediate;
		a.numberOfInformationIsolate = this.numberOfInformationIsolate;
		a.memberConnection = Arrays.copyOf(this.memberConnection,this.memberConnection.length);
		return a;
	}
	// GET & SET METHODS
	public void setNumberOfPopulation(int numberOfIntermediate,
			int numberOfInformationIsolate) {
		this.numberOfInformationIsolate = numberOfInformationIsolate;
		this.numberOfIntermediate = numberOfIntermediate;
	}

	public void setClusterPopulation(int no) {
		clusterPopulation = no;
	}

	public int getClusterPopulation() {
		return clusterPopulation;
	}

	public int getClusterNo() {
		return clusterNo;
	}

	public void setClusterNo(int no) {
		clusterNo = no;
	}

	public void setMember(Consumer c, int place) {
		member[place] = c;
	}

	public void setMember(Consumer[] c) {
		member = Arrays.copyOf(c, c.length);
	}

	public void setMemberRank(String rank, int order){
		if(rank.equals("OS"))
			this.rank[order] = 1;
		if(rank.equals("I"))
			this.rank[order] = 2;
		if(rank.equals("UR"))
			this.rank[order] = 3;
		if(rank.equals("II"))
			this.rank[order] = 4;
	}
	public Consumer getMember(int i) {
		return member[i];
	}

	public Consumer[] getmember() {
		return member;
	}

	public String getMemberRank(int i) {
		switch (rank[i]) {
		case (1):
			return "OS";
		case (2):
			return "I";
		case (3):
			return "UR";
		case (4):
			return "II";
		default:
			return null;
		}
	}
	
	public int[] getRank(){
		return rank;
	}
	
	public int[][] getWattaStrogatzClusterConnection(){
		return memberConnection;
	}

	// METHODS
	
	public int[][] wattaStrogatzClusterConnection(double beta, int N, int k){
		memberConnection = new WattsStrogatzModel( beta,  N,  k).setConnection();
		return memberConnection;
	}
	
	public void rankingConsumer() {
		for (int i = 0; i < rank.length; i++)
			rank[i] = 3;
		for (int i = 0; i < numberOfIntermediate; i++) {
			boolean flag = true;
			do {
				int r = new Random().nextInt(clusterPopulation);
				if (rank[r] != 2) {
					rank[r] = 2;
					flag = false;
				}
			} while (flag);
		}
		for (int i = 0; i < numberOfInformationIsolate; i++) {
			boolean flag = true;
			do {
				int r = new Random().nextInt(clusterPopulation);
				if (rank[r] != 2 && rank[r] != 4) {
					rank[r] = 4;
					flag = false;
				}
			} while (flag);
		}
		boolean flag = true;
		do {
			int r = new Random().nextInt(clusterPopulation);
			if (rank[r] == 3) {
				rank[r] = 1;
				flag = false;
			}
		} while (flag);
	}
	
	public void setRank(Consumer c){
		int ran = 0;
		
		String c1 = null;
		String c2 = null;			
		for(int i=0; i< member.length;++i){
			c1 = getMemberRank(i);
			if(c.equals("OS"))
				ran = i;
				
			if(member[i].getOwnerNumber() == c.getOwnerNumber()){
				if(!c1.equals("OS")){
						c2 = c1;
						setMemberRank("OS",i);
						
				}
			}
		}
		if( c2 != null)
			setMemberRank(c2,ran);
	}
	
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1276783427502</Id>
			<Name><![CDATA[FindNextNode]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[import java.io.File;
import java.util.ArrayList;
import java.util.Scanner;

import javax.naming.NameNotFoundException;

public class FindNextNode {
	static String fileCoordianet = "C:/SimulationOfWDS/code22/WOM_Eclipse/WordOfMouth/src/Coordinate.txt";
	private ArrayList<String> nodeName = new ArrayList<String>();
	private ArrayList<Double> x = new ArrayList<Double>();
	private ArrayList<Double> y = new ArrayList<Double>();

	public FindNextNode() {
		for(int i=0; i< Main.nodeID.length;++i)
			nodeName.add(Main.nodeID[i]);
		
		for(int i=0; i< Main.Y.length;++i)
			y.add(Main.Y[i]);
		
		for(int i=0; i< Main.X.length;++i)
			x.add(Main.X[i]);
		
		if (nodeName.size() != x.size() || nodeName.size() != y.size()
				|| x.size() != y.size())
			new Throwable("Size Not matched");
	}

	public String findNode(String node) {
		boolean flag = true;
		double x1 = 0, x2 = 0;
		double y1 = 0, y2 = 0;
		int winnerIndex;
		double distance;
		for (int i = 0; i < nodeName.size(); i++) {

			if (node.equals(nodeName.get(i))) {
				x1 = x.get(i);
				y1 = y.get(i);
				flag = false;
			}
		}
		winnerIndex = 0;
		distance = 999999999;
		for (int i = 0; i < nodeName.size(); i++) {
			if (!node.equals(nodeName.get(i))
					&& nodeName.get(i).charAt(0) == 'T') {
				x2 = x.get(i);
				y2 = y.get(i);
				double dis = Math.pow(Math.pow((x2 - x1), 2)
						+ Math.pow((y2 - y1), 2), 0.5);
				if (dis < distance) {
					winnerIndex = i;
					distance = dis;
				}
			}
		}
		return nodeName.get(winnerIndex);
	}

	public String findNode(String node, String[] forbiddenNodes) {
		boolean flag = true;
		double x1 = 0, x2 = 0;
		double y1 = 0, y2 = 0;
		int winnerIndex;
		double distance;
		for (int i = 0; i < nodeName.size(); i++) {

			if (node.equals(nodeName.get(i))) {
				x1 = x.get(i);
				y1 = y.get(i);
				flag = false;
			}
		}
		winnerIndex = 0;
		distance = 999999999;
		for (int i = 0; i < nodeName.size(); i++) {
			if (!node.equals(nodeName.get(i))
					&& nodeName.get(i).charAt(0) == 'T') {
				for (int j = 0; j < forbiddenNodes.length; j++) {
					if (!forbiddenNodes[j].equals(nodeName.get(i))) {
						x2 = x.get(i);
						y2 = y.get(i);
						double dis = Math.pow(Math.pow((x2 - x1), 2)
								+ Math.pow((y2 - y1), 2), 0.5);
						if (dis < distance) {
							winnerIndex = i;
							distance = dis;
						}
					}
				}
			}
		}
		
		return nodeName.get(winnerIndex);
	}
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1277128656958</Id>
			<Name><![CDATA[ClusterBuilder]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[import java.util.ArrayList;
import java.util.*;
import java.io.*;

public class ClusterBuilder {
	
	private HashMap hm = new HashMap();
	private HashMap hmReverse = new HashMap();
	private HashMap hmBasedOnClusterNo = new HashMap();
	
	//THIS METHOD IS DEPENDING ON THE ORDER OF CONSUMERS GENERATING, SO WATCH OUT ABOUT WHEN IT IS CALLED
	public ArrayList<Cluster> clustering(int[] population) {
		ArrayList<Consumer> listOfConsumer = new ArrayList<Consumer>();
		ArrayList<Cluster> clusterList = new ArrayList<Cluster>();
		listOfConsumer.addAll(GroupConsumer.waterRequest_queue);
		

		Cluster.clusterPopulation = WordOfMouth_Cluster.clusterPopulation;
		int[]benchMark = new int[population.length];
		for (int i = 0; i < population.length; i++) {
			benchMark[i] = population[i] / Cluster.clusterPopulation;
		}
		
		int[] cumulativeBenchMark = new int[benchMark.length];
		
		for (int i = 0; i < benchMark.length; i++) {
			if(i != 0)
				cumulativeBenchMark[i] = population[i] +cumulativeBenchMark[i-1];
			else
				cumulativeBenchMark[i] = population[i];
		}
		int[] remainingConsumers = new int[benchMark.length];
		int clusterCounter = 0;
		int consumerCounter = 0;
		int remainingNumber = listOfConsumer.size()- listOfConsumer.size()/Cluster.clusterPopulation * Cluster.clusterPopulation;
		for (int i = 0; i < benchMark.length; i++) {
			if(i != 0)
				consumerCounter = cumulativeBenchMark[i-1];
			for (int j = 0; j < benchMark[i]; j++,clusterCounter++) {
				Cluster p = new Cluster();
				p.setNumberOfPopulation(WordOfMouth_Cluster.numberOfIntermediate,WordOfMouth_Cluster.numberOfInformationIsolate);
				p.setClusterNo(clusterCounter);
				int counter = 0;
				for(int k=0;k<Cluster.clusterPopulation;k++){
					int order = consumerCounter+j*Cluster.clusterPopulation+k;
			//		traceln("order "+order+" consumer C "+consumerCounter);
					GroupConsumer.waterRequest_queue.get(order).setClusterNo(clusterCounter);
					p.setMember(listOfConsumer.get(order), counter++);
					hm.put(p.getMember(counter -1),GroupConsumer.waterRequest_queue.get(order));
					hmReverse.put(GroupConsumer.waterRequest_queue.get(order),p.getMember(counter -1));
					if(k == Cluster.clusterPopulation -1)
							remainingConsumers[i] = order + 1;

				}
				p.rankingConsumer();
				p.wattaStrogatzClusterConnection(WordOfMouth_Cluster.wattaStrogatzProbability,
						WordOfMouth_Cluster.clusterPopulation,WordOfMouth_Cluster.wattaStrogatzConnectionNo);
				hmBasedOnClusterNo.put(clusterCounter , p.getmember());
				clusterList.add(p);
			}

		}
		ArrayList<Consumer> listOfConsumer_temp = new ArrayList<Consumer>();
		for (int i = 0; i < remainingConsumers.length; i++) {
			//traceln("rem "+remainingConsumers[i]+" cum "+cumulativeBenchMark[i]+" pop "+population[i]);
			if(population[i] < Cluster.clusterPopulation && remainingConsumers[i] == 0 && i != 0){
				remainingConsumers[i] = cumulativeBenchMark[i-1];
			}
		}
		for (int i = 0; i < remainingConsumers.length; i++) {
			
					for(int j=0;j < cumulativeBenchMark[i]-remainingConsumers[i];j++){
						listOfConsumer_temp.add(listOfConsumer.get(remainingConsumers[i]+j));
					}	
			
			//traceln("size "+listOfConsumer_temp.size());
		}

		while (listOfConsumer_temp.size() != remainingNumber) {
			Cluster p = new Cluster();
			p.setNumberOfPopulation(WordOfMouth_Cluster.numberOfIntermediate,WordOfMouth_Cluster.numberOfInformationIsolate);
			p.setClusterNo(clusterCounter++);
			int counter = 0;
			for(int k=0;k<Cluster.clusterPopulation;k++){
				int order = new Random().nextInt(listOfConsumer_temp.size());
				GroupConsumer.waterRequest_queue.get(listOfConsumer_temp.get(order).getOwnerNumber()).setClusterNo(clusterCounter-1);
				p.setMember(listOfConsumer_temp.get(order), counter++);
				hm.put(p.getMember(counter -1),GroupConsumer.waterRequest_queue.get(listOfConsumer_temp.get(order).getOwnerNumber()));
				hmReverse.put(GroupConsumer.waterRequest_queue.get(listOfConsumer_temp.get(order).getOwnerNumber()),p.getMember(counter -1));				
				listOfConsumer_temp.remove(order);
			}
			p.rankingConsumer();
			p.wattaStrogatzClusterConnection(WordOfMouth_Cluster.wattaStrogatzProbability,
							WordOfMouth_Cluster.clusterPopulation,WordOfMouth_Cluster.wattaStrogatzConnectionNo);
			hmBasedOnClusterNo.put(clusterCounter , p.getmember());
			clusterList.add(p);
		}
		//traceln(" Report Of Clustering number of built cluster "+clusterCounter+" remain "+remainingNumber);
		/*
		while (listOfConsumer.size() != remainingNumber) {
			traceln("hi "+remainingNumber+" "+listOfConsumer.size());
			int counter = 0;
			Cluster p = new Cluster();
			p.setNumberOfPopulation(WordOfMouth_Cluster.numberOfIntermediate,WordOfMouth_Cluster.numberOfInformationIsolate);
			p.setClusterNo(clusterCounter++);
			//int r = new Random().nextInt(listOfConsumer.size());
			GroupConsumer.waterRequest_queue.get(listOfConsumer.get(0).getOwnerNumber()).setClusterNo(clusterCounter -1);
			p.setMember(listOfConsumer.get(0), counter++);
			hm.put(listOfConsumer.get(0),GroupConsumer.waterRequest_queue.get(listOfConsumer.get(0).getOwnerNumber()));
			hmReverse.put(GroupConsumer.waterRequest_queue.get(listOfConsumer.get(0).getOwnerNumber()),listOfConsumer.get(0));
			listOfConsumer.remove(0);
			while (counter < Cluster.clusterPopulation) {
				for (int i = 0; i < listOfConsumer.size(); i++) {
					if ((p.getMember(0).getFirstPlace().equals(
							listOfConsumer.get(i).getFirstPlace()) || p
							.getMember(0).getSecondPlace().equals(
									listOfConsumer.get(i).getSecondPlace()))) {
						if (counter < Cluster.clusterPopulation) {
							p.setMember(listOfConsumer.get(i), counter++);
							GroupConsumer.waterRequest_queue.get(listOfConsumer.get(i).getOwnerNumber()).setClusterNo(clusterCounter -1);
							hm.put(listOfConsumer.get(i),GroupConsumer.waterRequest_queue.get(listOfConsumer.get(i).getOwnerNumber()));
							hmReverse.put(GroupConsumer.waterRequest_queue.get(listOfConsumer.get(i).getOwnerNumber()),listOfConsumer.get(i));
							listOfConsumer.remove(i--);
						} else
							break;
					}
				}
				String[] uf;
				int counterte = 1;
				FindNextNode d = new FindNextNode();
				String u = d.findNode(p.getMember(0).getFirstPlace());
				uf = new String[1];
				uf[0] = u;
				do {
					boolean flag = false;
					if (!flag) {
						for (int i = 0; i < listOfConsumer.size(); i++) {
							if ((u
									.equals(listOfConsumer.get(i)
											.getFirstPlace()) || u
									.equals(listOfConsumer.get(i)
											.getSecondPlace()))) {
								if (counter < Cluster.clusterPopulation) {
									p.setMember(listOfConsumer.get(i),
											counter++);
									GroupConsumer.waterRequest_queue.get(listOfConsumer.get(i).getOwnerNumber()).setClusterNo(clusterCounter -1);
									hm.put(listOfConsumer.get(i),GroupConsumer.waterRequest_queue.get(listOfConsumer.get(i).getOwnerNumber()));
									hmReverse.put(GroupConsumer.waterRequest_queue.get(listOfConsumer.get(i).getOwnerNumber()),listOfConsumer.get(i));
									listOfConsumer.remove(i--);

								} else {
									break;
								}
							}
						}
						if(counter  < Cluster.clusterPopulation)
							flag = true;
					} else {
						String u1 = d.findNode(p.getMember(0).getFirstPlace(),
								uf);
						
						String[] re = new String[(uf.length + 1)];
						
						for (int i = 0; i < re.length - 1; i++) {
							re[i] = uf[i];
						}
						re[re.length - 1] = u1;
						uf = Arrays.copyOf(re, re.length);
						traceln("uf size "+uf.length + " size list "+listOfConsumer.size());
						for (int i = 0; i < listOfConsumer.size(); i++) {
							if ((u1.equals(listOfConsumer.get(i)
									.getFirstPlace()) || u1
									.equals(listOfConsumer.get(i)
											.getSecondPlace()))) {
								if (counter < Cluster.clusterPopulation) {
									p.setMember(listOfConsumer.get(i),
											counter++);
									GroupConsumer.waterRequest_queue.get(listOfConsumer.get(i).getOwnerNumber()).setClusterNo(clusterCounter -1);
									hm.put(listOfConsumer.get(i),GroupConsumer.waterRequest_queue.get(listOfConsumer.get(i).getOwnerNumber()));
									hmReverse.put(GroupConsumer.waterRequest_queue.get(listOfConsumer.get(i).getOwnerNumber()),listOfConsumer.get(i));
									listOfConsumer.remove(i--);

								} else {
									break;
								}
							}
						}
					}
				} while (counter < Cluster.clusterPopulation);
			}
			p.rankingConsumer();
			hmBasedOnClusterNo.put(clusterCounter - 1, p.getmember());
			clusterList.add(p);
		}*/
		return clusterList;
	}
	
	public HashMap getHashMap(){
		return hm;
	}
	
	public HashMap getReverseHashMap(){
		return hmReverse;
	}
	
	public HashMap getHashMapbasedOnClusterNo(){
		return hmBasedOnClusterNo;
	}
}



















]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1277240811711</Id>
			<Name><![CDATA[WattsStrogatzModel]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[import java.util.*;

public class WattsStrogatzModel {
	private double beta;
	private int N;
	private int k;

	public WattsStrogatzModel(double beta, int N, int k) {

		this.beta = beta;
		this.k = k;
		this.N = N;
	}

	public void setBeta(double beta) {
		this.beta = beta;
	}

	public void set_K(int k) {
		this.k = k;
	}

	public void set_N(int N) {
		this.N = N;
	}

	public int get_N() {
		return N;
	}

	public int get_k() {
		return k;
	}

	public double getBeta() {
		return beta;
	}
	//MOST IMPORTANT METHOD OF THIS CLASS
	public int[][] setConnection() {
		ArrayList<ArrayList<Integer>> a = new ArrayList<ArrayList<Integer>>();
		for (int i = 0; i < this.N; i++) {
			ArrayList<Integer> aa = new ArrayList<Integer>();
			aa.add(new Integer(-1));
			a.add(aa);
		}
		
		for (int i = 1; i <= this.k / 2; i++) {
			for (int j = 0; j < this.N; j++) {

				double random = new Random().nextDouble();

				if (random <= this.beta) {
					int updateContact = new Random().nextInt(this.N);
					ArrayList<Integer> aa = a.get(j);
					aa.add(new Integer(updateContact));
					a.set(j, aa);
					ArrayList<Integer> aa1 = a.get(updateContact);
					aa1.add(new Integer(j));
					a.set(updateContact, aa1);

				} else {

					if (j + i >= this.N) {
						ArrayList<Integer> aa = a.get(j);
						aa.add(new Integer(j + i - this.N));
						a.set(j, aa);
						ArrayList<Integer> aa1 = a.get(j + i - this.N);
						aa1.add(new Integer(j));
						a.set(j + i - this.N, aa1);

					} else {
						ArrayList<Integer> aa = a.get(j);
						aa.add(new Integer(j + i));
						a.set(j, aa);
						ArrayList<Integer> aa1 = a.get(j + i );
						aa1.add(new Integer(j));
						a.set(j + i , aa1);

					}

				}

			}
		}

		int[] size = new int[this.N];
		for (int i = 0; i < size.length; i++) {
			size[i] = a.get(i).size()-1;
		}
		int[][] t = new int[this.N][];
		for (int i = 0; i < t.length; i++) {
			int[] t1 = new int[size[i]];
			for (int j = 0; j < t1.length; j++) {
				t1[j] = a.get(i).get(j+1);
			}
			t[i] = t1;
		}

		return t;
	}
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1252095613977</Id>
			<Name><![CDATA[ETypeOfNodes]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[public class ETypeOfNodes {
	
	private native int nodeusage(int node); 
	static{
		System.loadLibrary("Enodetype");
	}
public static void main(String[] args){
	
	
}
		/*
		 * Constructor
		 */
public int call_nodeusage(int node){
	int no;
	
	no = this.nodeusage(node);
	return no;
	
}
private static final long serialVersionUID = 1L;
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1283541121349</Id>
			<Name><![CDATA[GeneratingResultOfPaper]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * GeneratingResultOfPaper
 */	
import java.util.ArrayList;
import java.util.StringTokenizer;
import java.io.*;
import java.lang.*;
import java.text.*;
import javax.swing.JOptionPane;
public class GeneratingResultOfPaper  {

	//TIME
	public static final String DATE_FORMAT_NOW = "MM-dd-yyyy HH:mm:ss";
	  public static String now() {
		    Calendar cal = Calendar.getInstance();
		    SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT_NOW);
		    return sdf.format(cal.getTime());

		  }
	  //END
	
	public static void main(String[] args){
		for(int i= 0; i < 9;++i){
			new ABM_Connection().runSimulationModel_Double(192);
		}
		++Main_Optimization.model;
		
		
	}

}

	

		
	

]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1285201321015</Id>
			<Name><![CDATA[SensorMessage]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * SensorMessage
 */	
public class SensorMessage implements java.io.Serializable {

	 boolean warningMessage = false;
	

    /**
     * Default constructor
     */
    public SensorMessage(){
    }

    /**
     * Constructor initializing the fields
     */     
    public SensorMessage(boolean warningMessage){
		this.warningMessage = warningMessage;
    }     
	
	@Override
	public String toString() {
		return  
			"warningMessage = " + warningMessage +" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1285817041406</Id>
			<Name><![CDATA[PublicMessage]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * PublicMessage
 */	
public class PublicMessage implements java.io.Serializable {

	 private boolean warning;
	 private int time;
	

    /**
     * Default constructor
     */
    public PublicMessage(){
    }

    /**
     * Constructor initializing the fields
     */     
    public PublicMessage(boolean warning, int time){
    	this.time = time;
		this.warning = warning;
    } 
    public PublicMessage(boolean warning){
    	this.warning = warning;
		
    }   
	public boolean getWarning(){
		return warning;
	}
	public int getTime(){
		return time;
	}
	@Override
	public String toString() {
		return  
			"warning = " + warning +" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1286138350578</Id>
			<Name><![CDATA[MediaMessage]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * MediaMessage
 */	
public class MediaMessage implements java.io.Serializable {

	 boolean warning;
	
	 int[] effectiveTimes;
	

    /**
     * Default constructor
     */
    public MediaMessage(){
    }

    /**
     * Constructor initializing the fields
     */     
    public MediaMessage(boolean warning, int[] effectiveTimes){
		this.warning = warning;
		this.effectiveTimes = effectiveTimes;
    }     
	
	@Override
	public String toString() {
		return  
			"warning = " + warning +" " +
			"effectiveTimes = " + effectiveTimes +" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1288897061730</Id>
			<Name><![CDATA[CDF_Normal]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
*
*This class contains routines to calculate the
*normal cumulative distribution function (CDF) and
*its inverse.
*
*@version .5 --- June 7, 1996
*@version .6 --- January 10, 2001 (normcdf added)
*
*/

public class CDF_Normal  {

/**
*
*This method calculates the normal cdf inverse function.
*<p>
*Let PHI(x) be the normal cdf.  Suppose that Q calculates 
*1.0 - PHI(x), and that QINV calculates QINV(p) for p in (0.0,.5].
*Then for p .le. .5, x = PHIINV(p) = -QINV(p).
*For p .gt. .5, x = PHIINV(p) = QINV(1.0 - p).
*The formula for approximating QINV is taken from Abramowitz and Stegun,
*Handbook of Mathematical Functions, Dover, 9th printing,
*formula 26.2.3, page 933.  The error in x is claimed to
*be less than 4.5e-4 in absolute value.
*
*@param   p    p must lie between 0 and 1.  xnormi returns 
*              the normal cdf inverse evaluated at p.
*
*@author Steve Verrill 
*@version .5 --- June 7, 1996
*
*/

//  FIX: Eventually I should build in a check that p lies in (0,1)

   public static double xnormi(double p) {

      double arg,t,t2,t3,xnum,xden,qinvp,x,pc;

      final double c[] = {2.515517, 
      .802853,
      .010328};

      final double d[] = {1.432788,
      .189269,
      .001308};

      if (p <= .5) {

         arg = -2.0*Math.log(p);
         t = Math.sqrt(arg);
         t2 = t*t;
         t3 = t2*t;

         xnum = c[0] + c[1]*t + c[2]*t2;
         xden = 1.0 + d[0]*t + d[1]*t2 + d[2]*t3;
         qinvp = t - xnum/xden;
         x = -qinvp;

         return x;

      }

      else {

         pc = 1.0 - p;
         arg = -2.0*Math.log(pc);
         t = Math.sqrt(arg);
         t2 = t*t;
         t3 = t2*t;

         xnum = c[0] + c[1]*t + c[2]*t2;
         xden = 1.0 + d[0]*t + d[1]*t2 + d[2]*t3;
         x = t - xnum/xden;

         return x;

      }

   }


/**
*
*This method calculates the normal cumulative distribution function.
*<p>
*It is based upon algorithm 5666 for the error function, from:<p>
*<pre>
*       Hart, J.F. et al, 'Computer Approximations', Wiley 1968
*</pre>
*<p>
*The FORTRAN programmer was Alan Miller.  The documentation
*in the FORTRAN code claims that the function is "accurate
*to 1.e-15."<p>
*Steve Verrill
*translated the FORTRAN code (the March 30, 1986 version)
*into Java.  This translation was performed on January 10, 2001.
*
*@param   z   The method returns the value of the normal
*             cumulative distribution function at z.
*
*@version .5 --- January 10, 2001
*
*/


/*

Here is a copy of the documentation in the FORTRAN code:

	SUBROUTINE NORMP(Z, P, Q, PDF)
C
C	Normal distribution probabilities accurate to 1.e-15.
C	Z = no. of standard deviations from the mean.
C	P, Q = probabilities to the left & right of Z.   P + Q = 1.
C       PDF = the probability density.
C
C       Based upon algorithm 5666 for the error function, from:
C       Hart, J.F. et al, 'Computer Approximations', Wiley 1968
C
C       Programmer: Alan Miller
C
C	Latest revision - 30 March 1986
C

*/

   public static double normp(double z) {

      double zabs;
      double p;
      double expntl,pdf;

      final double p0 = 220.2068679123761;
      final double p1 = 221.2135961699311;
      final double p2 = 112.0792914978709;
      final double p3 = 33.91286607838300;
      final double p4 = 6.373962203531650;
      final double p5 = .7003830644436881;
      final double p6 = .3526249659989109E-01;

      final double q0 = 440.4137358247522;
      final double q1 = 793.8265125199484;
      final double q2 = 637.3336333788311;
      final double q3 = 296.5642487796737;
      final double q4 = 86.78073220294608;
      final double q5 = 16.06417757920695;
      final double q6 = 1.755667163182642;
      final double q7 = .8838834764831844E-1;

      final double cutoff = 7.071;
      final double root2pi = 2.506628274631001;

      zabs = Math.abs(z);

//  |z| > 37

      if (z > 37.0) {

         p = 1.0;

         return p;

      }

      if (z < -37.0) {

         p = 0.0;

         return p;

      }

//  |z| <= 37.

      expntl = Math.exp(-.5*zabs*zabs);

      pdf = expntl/root2pi;

//  |z| < cutoff = 10/sqrt(2).

      if (zabs < cutoff) {

         p = expntl*((((((p6*zabs + p5)*zabs + p4)*zabs + p3)*zabs +
             p2)*zabs + p1)*zabs + p0)/(((((((q7*zabs + q6)*zabs +
             q5)*zabs + q4)*zabs + q3)*zabs + q2)*zabs + q1)*zabs +
             q0);

      } else {

         p = pdf/(zabs + 1.0/(zabs + 2.0/(zabs + 3.0/(zabs + 4.0/
             (zabs + 0.65)))));

      }

      if (z < 0.0) {

         return p;

      } else {

         p = 1.0 - p;

         return p;

      }

   }

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1290371451558</Id>
			<Name><![CDATA[ComplianceAttributesProbabilities]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[

import java.sql.Connection;
import java.sql.SQLException;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Calendar;
import java.util.Collection;
import java.util.Collections;
import java.util.Comparator;
import java.util.Currency;
import java.util.Date;
import java.util.Enumeration;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Hashtable;
import java.util.Iterator;
import java.util.LinkedList;
import java.util.List;
import java.util.ListIterator;
import java.util.Locale;
import java.util.Map;
import java.util.Random;
import java.util.Set;
import java.util.SortedMap;
import java.util.SortedSet;
import java.util.Stack;
import java.util.Timer;
import java.util.TreeMap;
import java.util.TreeSet;
import java.util.Vector;

import java.awt.Color;
import java.awt.Font;
import java.awt.Graphics2D;
import java.awt.geom.AffineTransform;

import static java.lang.Math.*;
import static com.xj.anylogic.engine.presentation.UtilitiesColor.*;
import static com.xj.anylogic.engine.presentation.UtilitiesDrawing.*;
import static com.xj.anylogic.engine.HyperArray.*;

import com.xj.anylogic.engine.*;
import com.xj.anylogic.engine.analysis.*;
import com.xj.anylogic.engine.connectivity.*;
import com.xj.anylogic.engine.connectivity.ResultSet;
import com.xj.anylogic.engine.connectivity.Statement;
import com.xj.anylogic.engine.presentation.*;

import static com.xj.anylogic.engine.Utilities.*;

import java.util.*;

/**
 * ComplianceAttributesProbabilities
 */
/**
 * ComplianceAttributesProbabilities
 */
public class ComplianceAttributesProbabilities implements java.io.Serializable {
	public static void main(String[] args) {
		ComplianceAttributesProbabilities c = new ComplianceAttributesProbabilities();
		for (int i = 0; i < 10; i++) {
			System.out.println(getCompliance("FAMILY"));
		}

	}

	private static double random() {
		int seed = new Random().nextInt(100);
		while (seed == 0)
			seed = new Random().nextInt(100);
		int a = new Random().nextInt(100);
		while (a == 0)
			a = new Random().nextInt(100);
		int c = new Random().nextInt(100);
		while (c == 0)
			c = new Random().nextInt(100);
		int m = new Random().nextInt(100);
		while (m == 0)
			m = new Random().nextInt(100);
		int iteration = new Random().nextInt(20);
		while (iteration == 0)
			iteration = new Random().nextInt(20);
		double seed2 = seed;
		for (int i = 0; i < iteration; ++i) {
			seed2 = (double) (seed2 * a + c) % m;

		}
		return (double) seed2 / m;
	}

	/**
	 * Default constructor
	 */
	public ComplianceAttributesProbabilities() {
	}

	// WATER PERSONNEL
	private static double[] eWater = { 0.004, 0.008, 0.087, 0.183, 0.583 };
	private static double[] rWater = { 0.0000, 0.0417, 0.0833, 0.2917, 0.5833 };
	private static double[] tWater = { 0.00, 0.06, 0.15, 0.27, 0.52 };
	// MEDIA
	private static double[] eMedia = { 0.0833, 0.1458, 0.2708, 0.1458, 0.3542 };
	private static double[] rMedia = { 0.2708, 0.2083, 0.2708, 0.1458, 0.1042 };
	private static double[] tMedia = { 0.1667, 0.3542, 0.2500, 0.1667, 0.0625 };
	// IMMIDIATE FAMILY
	private static double[] eFamily = { 0.0833, 0.1458, 0.3542, 0.1875, 0.2292 };
	private static double[] rFamily = { 0.0833, 0.1250, 0.2292, 0.2708, 0.2917 };
	private static double[] tFamily = { 0.1458, 0.3333, 0.3542, 0.1042, 0.0625 };

	// WATER PERSONNEL
	private static double[] eWater_Boston = { 0.043478261, 0.076086957,
			0.195652174, 0.369565217, 0.315217391 };
	private static double[] rWater_Boston = { 0.02173913, 0.097826087,
			0.076086957, 0.369565217, 0.434782609 };
	private static double[] tWater_Boston = { 0.02173913, 0.108695652,
			0.27173913, 0.315217391, 0.282608696 };
	// MEDIA
	private static double[] eMedia_Boston = { 0.030927835, 0.113402062,
			0.278350515, 0.350515464, 0.216494845 };
	private static double[] rMedia_Boston = { 0.175257732, 0.144329897,
			0.216494845, 0.206185567, 0.24742268 };
	private static double[] tMedia_Boston = { 0.072164948, 0.24742268,
			0.268041237, 0.391752577, 0.010309278 };
	// IMMIDIATE FAMILY
	private static double[] eFamily_Boston = { 0.052631579, 0.189473684,
			0.294736842, 0.294736842, 0.157894737 };
	private static double[] rFamily_Boston = { 0.157894737, 0.094736842,
			0.157894737, 0.189473684, 0.389473684 };
	private static double[] tFamily_Boston = { 0.136842105, 0.231578947,
			0.178947368, 0.347368421, 0.094736842 };

	@Override
	public String toString() {
		return super.toString();
	}

	/**
	 * for Water Personnel person is WATER for Immidiate family person is FAMILY
	 * for media person is MEDIA attributes is E for EXPERTISE T for
	 * TRUSTWORTHINESS R for RESPONSIBILITY
	 */
	public static double getAttributePercentage(String person, int degree,
			char attribute) {
		switch (attribute) {
		case ('T'):
			if (person.equals("WATER")) {
				return tWater[degree];
			}
			if (person.equals("MEDIA")) {
				return tMedia[degree];
			}
			if (person.equals("FAMILY")) {
				return tFamily[degree];
			}
			break;
		case ('E'):
			if (person.equals("WATER")) {
				return eWater[degree];
			}
			if (person.equals("MEDIA")) {
				return eMedia[degree];
			}
			if (person.equals("FAMILY")) {
				return eFamily[degree];
			}
			break;
		case ('R'):
			if (person.equals("WATER")) {
				return rWater[degree];
			}
			if (person.equals("MEDIA")) {
				return rMedia[degree];
			}
			if (person.equals("FAMILY")) {
				return rFamily[degree];
			}
			break;
		}
		return -1;
	}

	private static double[][][] conditionalProbability_Exponential = {
			{ { 0.00, 0, 0, 0, 0 }, { 0.00, 0, 0, 0, 0 }, { 0.00, 0, 0, 0, 0 },
					{ 0.00, 0, 0, 0, 0 }, { 0.00, 0, 0, 0, 0 } },
			{
					{ 0.00, 0, 0, 0, 0 },
					{ 0.00, 0.060916184, 0.097863718, 0.120273529, 0.133865767 },
					{ 0.00, 0.097863718, 0.157221063, 0.193223113, 0.21505946 },
					{ 0.00, 0.120273529, 0.193223113, 0.237469271, 0.264305923 },
					{ 0.00, 0.133865767, 0.21505946, 0.264305923, 0.294175413 } },
			{
					{ 0.00, 0, 0, 0, 0 },
					{ 0.00, 0.097863718, 0.157221063, 0.193223113, 0.21505946 },
					{ 0.00, 0.157221063, 0.252580458, 0.310418855, 0.345499616 },
					{ 0.00, 0.193223113, 0.310418855, 0.381501665, 0.424615569 },
					{ 0.00, 0.21505946, 0.345499616, 0.424615569, 0.472601821 } },
			{
					{ 0.00, 0, 0, 0, 0 },
					{ 0.00, 0.120273529, 0.193223113, 0.237469271, 0.264305923 },
					{ 0.00, 0.193223113, 0.310418855, 0.381501665, 0.424615569 },
					{ 0.00, 0.237469271, 0.381501665, 0.468861728, 0.521848285 },
					{ 0.00, 0.264305923, 0.424615569, 0.521848285, 0.580822908 } },
			{
					{ 0.00, 0, 0, 0, 0 },
					{ 0.00, 0.133865767, 0.21505946, 0.264305923, 0.294175413 },
					{ 0.00, 0.21505946, 0.345499616, 0.424615569, 0.472601821 },
					{ 0.00, 0.264305923, 0.424615569, 0.521848285, 0.580822908 },
					{ 0.00, 0.294175413, 0.472601821, 0.580822908, 0.646462315 } } };

	private static double[][][] conditionalProbability_Uniform = {
			{ { 0.008, 0.016, 0.024, 0.032, 0.04 },
					{ 0.016, 0.032, 0.048, 0.064, 0.08 },
					{ 0.024, 0.048, 0.072, 0.096, 0.12 },
					{ 0.032, 0.064, 0.096, 0.128, 0.16 },
					{ 0.04, 0.08, 0.12, 0.16, 0.2 } },
			{ { 0.016, 0.032, 0.048, 0.064, 0.08 },
					{ 0.032, 0.064, 0.096, 0.128, 0.16 },
					{ 0.048, 0.096, 0.144, 0.192, 0.24 },
					{ 0.064, 0.128, 0.192, 0.256, 0.32 },
					{ 0.08, 0.16, 0.24, 0.32, 0.4 } },
			{ { 0.024, 0.048, 0.072, 0.096, 0.12 },
					{ 0.048, 0.096, 0.144, 0.192, 0.24 },
					{ 0.072, 0.144, 0.216, 0.288, 0.36 },
					{ 0.096, 0.192, 0.288, 0.384, 0.48 },
					{ 0.12, 0.24, 0.36, 0.48, 0.6 } },
			{ { 0.032, 0.064, 0.096, 0.128, 0.16 },
					{ 0.064, 0.128, 0.192, 0.256, 0.32 },
					{ 0.096, 0.192, 0.288, 0.384, 0.48 },
					{ 0.128, 0.256, 0.384, 0.512, 0.64 },
					{ 0.16, 0.32, 0.48, 0.64, 0.8 } },
			{ { 0.04, 0.08, 0.12, 0.16, 0.2 }, { 0.08, 0.16, 0.24, 0.32, 0.4 },
					{ 0.12, 0.24, 0.36, 0.48, 0.6 },
					{ 0.16, 0.32, 0.48, 0.64, 0.8 }, { 0.2, 0.4, 0.6, 0.8, 1 } } };

	private static double[][][] conditionalProbability_Possion = {
			{
					{ 0.002478752, 0.007436257, 0.012393761, 0.015698764,
							0.017351265 },
					{ 0.007436257, 0.02230877, 0.037181283, 0.047096291,
							0.052053796 },
					{ 0.012393761, 0.037181283, 0.061968804, 0.078493819,
							0.086756326 },
					{ 0.015698764, 0.047096291, 0.078493819, 0.099425504,
							0.109891346 },
					{ 0.017351265, 0.052053796, 0.086756326, 0.109891346,
							0.121458857 } },
			{
					{ 0.007436257, 0.02230877, 0.037181283, 0.047096291,
							0.052053796 },
					{ 0.02230877, 0.066926309, 0.111543848, 0.141288874,
							0.156161387 },
					{ 0.037181283, 0.111543848, 0.185906413, 0.235481457,
							0.260268979 },
					{ 0.047096291, 0.141288874, 0.235481457, 0.298276512,
							0.329674039 },
					{ 0.052053796, 0.156161387, 0.260268979, 0.329674039,
							0.36437657 } },
			{
					{ 0.012393761, 0.037181283, 0.061968804, 0.078493819,
							0.086756326 },
					{ 0.037181283, 0.111543848, 0.185906413, 0.235481457,
							0.260268979 },
					{ 0.061968804, 0.185906413, 0.309844022, 0.392469095,
							0.433781631 },
					{ 0.078493819, 0.235481457, 0.392469095, 0.49712752,
							0.549456732 },
					{ 0.086756326, 0.260268979, 0.433781631, 0.549456732,
							0.607294283 } },
			{
					{ 0.015698764, 0.047096291, 0.078493819, 0.099425504,
							0.109891346 },
					{ 0.047096291, 0.141288874, 0.235481457, 0.298276512,
							0.329674039 },
					{ 0.078493819, 0.235481457, 0.392469095, 0.49712752,
							0.549456732 },
					{ 0.099425504, 0.298276512, 0.49712752, 0.629694859,
							0.695978528 },
					{ 0.109891346, 0.329674039, 0.549456732, 0.695978528,
							0.769239425 } },
			{
					{ 0.017351265, 0.052053796, 0.086756326, 0.109891346,
							0.121458857 },
					{ 0.052053796, 0.156161387, 0.260268979, 0.329674039,
							0.36437657 },
					{ 0.086756326, 0.260268979, 0.433781631, 0.549456732,
							0.607294283 },
					{ 0.109891346, 0.329674039, 0.549456732, 0.695978528,
							0.769239425 },
					{ 0.121458857, 0.36437657, 0.607294283, 0.769239425,
							0.850211997 } } };

	public static boolean boston = true;
	public static int functionType = 3; // if 3, it is selected randomly

	/**
	 * for Water Personnel person is WATER for Immidiate family person is FAMILY
	 * for media person is MEDIA
	 */
	public static boolean getCompliance(String person) {

		if (person.equals("WATER")) {
			double tp = new Random().nextDouble();
			double rp = tp;
			double ep = tp;
			int t = 0;
			int e = 0;
			int r = 0;
			double aggProT = 0;
			double aggProE = 0;
			double aggProR = 0;
			boolean tb = false;
			boolean eb = false;
			boolean rb = false;
			// e, t, and r are selected randomly
			for (int i = 1; i <= tWater.length; ++i) {
				for (int j = 0; j < i; ++j)
					aggProT += tWater[j];
				if (tp <= aggProT && !tb) {
					t = i;
					tb = true;
				}
				for (int j = 0; j < i; ++j)
					aggProR += rWater[j];
				if (rp <= aggProR && !rb) {
					r = i;
					rb = true;
				}
				for (int j = 0; j < i; ++j)
					aggProE += eWater[j];
				if (ep <= aggProE && !eb) {
					e = i;
					eb = true;
				}
			}
		//	System.out.println("Before e: " + e + " r: " + r + " t: " + t);
			if (boston) {
				e = -1;
				t = -1;
				r = -1;
				tb = false;
				eb = false;
				rb = false;
				aggProT = 0;
				aggProE = 0;
				aggProR = 0;
				for (int i = 1; i <= tWater_Boston.length; ++i) {
					for (int j = 0; j < i; ++j)
						aggProT += tWater_Boston[j];
					if (tp <= aggProT && !tb) {
						t = i;
						tb = true;
					}
					for (int j = 0; j < i; ++j)
						aggProR += rWater_Boston[j];
					if (rp <= aggProR && !rb) {
						r = i;
						rb = true;
					}
					for (int j = 0; j < i; ++j)
						aggProE += eWater_Boston[j];
					if (ep <= aggProE && !eb) {
						e = i;
						eb = true;
					}
				}
				if (e == -1)
					e = 5;

				if (t == -1)
					t = 5;

				if (r == -1)
					r = 5;

			}
		//	System.out.println("After e: " + e + " r: " + r + " t: " + t);
			if (functionType == 3)
				functionType = new Random().nextInt(3);

			switch (functionType) {
			case (0):
				// Uniform
				if (new Random().nextDouble() <= conditionalProbability_Uniform[e - 1][t - 1][r - 1]) {
					// traceln(conditionalProbability_Uniform[e - 1][t - 1][r -
					// 1]);
					return true;

				} else
					return false;

			case (1):
				// Possion
				if (new Random().nextDouble() <= conditionalProbability_Possion[e - 1][t - 1][r - 1])
					return true;
				else
					return false;

			case (2):
				// Exponential
				if (new Random().nextDouble() <= conditionalProbability_Exponential[e - 1][t - 1][r - 1])
					return true;
				else
					return false;

			}
		}
		if (person.equals("MEDIA")) {
			double tp = new Random().nextDouble();
			double rp = tp;
			double ep = tp;
			int t = 0;
			int e = 0;
			int r = 0;
			double aggProT = 0;
			double aggProE = 0;
			double aggProR = 0;
			boolean tb = false;
			boolean eb = false;
			boolean rb = false;
			// System.out.println("tp "+tp+" rp "+rp+" ep "+ep);
			for (int i = 1; i <= tMedia.length; ++i) {
				for (int j = 0; j < i; ++j)
					aggProT += tMedia[j];
				if (tp <= aggProT && !tb) {
					t = i;
					tb = true;
				}
				for (int j = 0; j < i; ++j)
					aggProR += rMedia[j];
				if (rp <= aggProR && !rb) {
					r = i;
					rb = true;
				}
				for (int j = 0; j < i; ++j)
					aggProE += eMedia[j];
				if (ep <= aggProE && !eb) {
					e = i;
					eb = true;
				}
			}
			if (boston) {
				e = -1;
				t = -1;
				r = -1;
				aggProT = 0;
				aggProE = 0;
				aggProR = 0;
				tb = false;
				eb = false;
				rb = false;
				for (int i = 1; i <= tMedia_Boston.length; ++i) {
					for (int j = 0; j < i; ++j)
						aggProT += tMedia_Boston[j];
					if (tp <= aggProT && !tb) {
						t = i;
						tb = true;
					}
					for (int j = 0; j < i; ++j)
						aggProR += rMedia_Boston[j];
					if (rp <= aggProR && !rb) {
						r = i;
						rb = true;
					}
					for (int j = 0; j < i; ++j)
						aggProE += eMedia_Boston[j];
					if (ep <= aggProE && !eb) {
						e = i;
						eb = true;
					}
				}
				if (e == -1)
					e = 5;

				if (t == -1)
					t = 5;

				if (r == -1)
					r = 5;

			}
			// System.out.println("t "+t+" r "+r+" e "+e);
			if (functionType == 3)
				functionType = new Random().nextInt(3);

			switch (functionType) {
			case (0):
				// Uniform
				if (new Random().nextDouble() <= conditionalProbability_Uniform[e - 1][t - 1][r - 1])
					return true;
				else
					return false;

			case (1):
				// Possion
				if (new Random().nextDouble() <= conditionalProbability_Possion[e - 1][t - 1][r - 1])
					return true;
				else
					return false;

			case (2):
				// Exponential
				if (new Random().nextDouble() <= conditionalProbability_Exponential[e - 1][t - 1][r - 1])
					return true;
				else
					return false;

			}
		}
		if (person.equals("FAMILY")) {
			double tp = new Random().nextDouble();
			double rp = tp;
			double ep = tp;
			int t = 0;
			int e = 0;
			int r = 0;
			double aggProT = 0;
			double aggProE = 0;
			double aggProR = 0;
			boolean tb = false;
			boolean eb = false;
			boolean rb = false;
			// System.out.println("tp "+tp+" rp "+rp+" ep "+ep);
			for (int i = 1; i <= tFamily.length; ++i) {
				for (int j = 0; j < i; ++j)
					aggProT += tFamily[j];
				if (tp <= aggProT && !tb) {
					t = i;
					tb = true;
				}
				for (int j = 0; j < i; ++j)
					aggProR += rFamily[j];
				if (rp <= aggProR && !rb) {
					r = i;
					rb = true;
				}
				for (int j = 0; j < i; ++j)
					aggProE += eFamily[j];
				if (ep <= aggProE && !eb) {
					e = i;
					eb = true;
				}
			}
			// System.out.println("Before e: " + e + " r: " + r + " t: " + t);
			if (boston) {
				e = -1;
				t = -1;
				r = -1;
				aggProT = 0;
				aggProE = 0;
				aggProR = 0;
				tb = false;
				eb = false;
				rb = false;
				for (int i = 1; i <= tFamily_Boston.length; ++i) {
					for (int j = 0; j < i; ++j)
						aggProT += tFamily_Boston[j];
					if (tp <= aggProT && !tb) {
						t = i;
						tb = true;
					}
					for (int j = 0; j < i; ++j)
						aggProR += rFamily_Boston[j];
					if (rp <= aggProR && !rb) {
						r = i;
						rb = true;
					}
					for (int j = 0; j < i; ++j)
						aggProE += eFamily_Boston[j];
					if (ep <= aggProE && !eb) {
						e = i;
						eb = true;
					}
				}

			}
			// System.out.println("After e: " + e + " r: " + r + " t: " + t);
			// System.out.println("t "+t+" r "+r+" e "+e);
			if (functionType == 3)
				functionType = new Random().nextInt(3);

			switch (functionType) {
			case (0):
				// Uniform
				if (new Random().nextDouble() <= conditionalProbability_Uniform[e - 1][t - 1][r - 1])
					return true;
				else
					return false;

			case (1):
				// Possion
				if (new Random().nextDouble() <= conditionalProbability_Possion[e - 1][t - 1][r - 1])
					return true;
				else
					return false;

			case (2):
				// Exponential
				if (new Random().nextDouble() <= conditionalProbability_Exponential[e - 1][t - 1][r - 1])
					return true;
				else
					return false;

			}
		}

		return false;
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}

]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1296176652444</Id>
			<Name><![CDATA[ProblemSettings]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * ProblemSettings
 */	
import java.util.*;
import java.io.*;
public class ProblemSettings implements java.io.Serializable {
	private boolean isOptimization;
	private  boolean wordOfMouth;
	private boolean hydrantopening;
	private boolean warningThroughMedia;
	private boolean complianceWOM;
	private  boolean mobility;
	private  boolean isProbabiliticIngestion;
	private boolean isProbabilisticTimeOfIngestion;
	private  boolean hasAdaptiveBehavior;
	private  boolean isDynamicInfectiousDoses;
	private  int protectiveLevel;
	private boolean tv;
	private boolean compliance;
	private double infectiousDoes;
	private int noofSensors;
	private boolean visibilityOfRoute;
	private double volume;
	private boolean isGame;
	private int noOfFiredepartment;
	private String[] addressOfFireDepartment;
	private boolean isRoutingActivated;
	private boolean[] checker = new boolean[21];
	
	public void getProblemSetting(){
		//traceln("HERE2");
		String currentDir = System.getProperty("user.dir");
		File file = new File(currentDir.concat("/ProblemSettings.txt"));
		try {
			if (file.exists()) {
				Scanner input = new Scanner(file);
				while(input.hasNext()){
					String s =  input.nextLine();
			
					if(s.split(" ")[0].equals("WordOfMouth")){
						wordOfMouth = Boolean.parseBoolean(s.split(" ")[1]);
						
						checker[0] = true;
					}
					if(s.split(" ")[0].equals("wantWatchingTv")){
						tv = Boolean.parseBoolean(s.split(" ")[1]);
						
						checker[18] = true;
					}
					if(s.split(" ")[0].equals("wantComplianceWOM")){
						complianceWOM = Boolean.parseBoolean(s.split(" ")[1]);
						
						checker[20] = true;
					}
					if(s.split(" ")[0].equals("wantComplianceModel")){
						compliance = Boolean.parseBoolean(s.split(" ")[1]);
						
						checker[19] = true;
					}
					if(s.split(" ")[0].equals("isOptimization")){
						isOptimization = Boolean.parseBoolean(s.split(" ")[1]);
						
						checker[17] = true;
					}
					if(s.split(" ")[0].equals("isGame")){
						isGame = Boolean.parseBoolean(s.split(" ")[1]);
						
						checker[10] = true;
					}
					
					if(s.split(" ")[0].equals("Mobility")){
						mobility = Boolean.parseBoolean(s.split(" ")[1]);
						checker[1] = true;
						
					}
					if(s.split(" ")[0].equals("WantToSeePassedRoutes")){
						visibilityOfRoute = Boolean.parseBoolean(s.split(" ")[1]);
						checker[14] = true;
						
					}
					if(s.split(" ")[0].equals("ProbabilisticIngesting")){
						isProbabiliticIngestion = Boolean.parseBoolean(s.split(" ")[1]);
						checker[2] = true;
						
					}
					if(s.split(" ")[0].equals("hydrantOpening")){
						hydrantopening = Boolean.parseBoolean(s.split(" ")[1]);
						checker[16] = true;
						
					}
					if(s.split(" ")[0].equals("ProbabilisticTimeOfIngesting")){
						isProbabilisticTimeOfIngestion = Boolean.parseBoolean(s.split(" ")[1]);
						checker[3] = true;
						
					}
					
					if(s.split(" ")[0].equals("Adaptation")){
						hasAdaptiveBehavior = Boolean.parseBoolean(s.split(" ")[1]);
						checker[4] = true;
						
					}
					
					if(s.split(" ")[0].equals("DynamicInfectiousDoses")){
						isDynamicInfectiousDoses = Boolean.parseBoolean(s.split(" ")[1]);
						checker[5] = true;
						
					}
					
					if(s.split(" ")[0].equals("needRouting")){
						isRoutingActivated  = Boolean.parseBoolean(s.split(" ")[1]);
						checker[13] = true;
						
					}
					
					if(s.split(" ")[0].equals("mediawarningCapability")){
						warningThroughMedia  = Boolean.parseBoolean(s.split(" ")[1]);
						checker[15] = true;
						
					}
					if(s.split(" ")[0].equals("ProtectiveLevel")){
						protectiveLevel= Integer.parseInt(s.split(" ")[1]);
						checker[6] = true;
						
					}
					
					if(s.split(" ")[0].equals("InfectiousDose")){
						infectiousDoes = Double.parseDouble(s.split(" ")[1]);
						checker[7] = true;
			
					}
					
					if(s.split(" ")[0].equals("NoOfSensors")){
						noofSensors= Integer.parseInt(s.split(" ")[1]);
						checker[8] = true;
						
					}
					
					if(s.split(" ")[0].equals("VolumeIngesting")){
						volume= Double.parseDouble(s.split(" ")[1]);
						checker[9] = true;
						
					}
					
					if(s.split(" ")[0].equals("FireDepartments")){
						noOfFiredepartment = Integer.parseInt(s.split(" ")[1]);
						checker[11] = true;
					}
					
					if(s.split(" ")[0].equals("LocationOfFireDepartments")){
						String[] a = new String[noOfFiredepartment];
						for(int i=0;i<noOfFiredepartment;++i){
							a[i] = s.split(" ")[1+i];
							
						}
						checker[12] = true;
						addressOfFireDepartment = a;
					}
						
				}
				
				
				toPrint();
				int counter = 0;
				for(int i=0; i<checker.length;++i){
					if(!checker[i]){
						++counter;
						traceln(i);
					}
				}
				
				if(counter != 0){
					System.out.println("ERROR IN INPUT FILE");
					System.exit(-1);
				}
				
				
				Main_Optimization.needRouting = isRoutingActivated;
				Main_Optimization.needWOM = 
					wordOfMouth;
				Main_Optimization.needMobility = mobility;
				if(isProbabiliticIngestion){
					
					Main_Optimization .VorM  ='V';
				}else{
					Main_Optimization.ingestingVolume = volume;
					Main_Optimization .VorM  ='M';
				}
				Main_Optimization.needDeterministicTimes = !isProbabilisticTimeOfIngestion;
				Main_Optimization.needNoHydChange = !hasAdaptiveBehavior;
				Main_Optimization.needGame = isGame;
				Main_Optimization.wantWatchingTV = tv;
				Main_Optimization.wantComplianceModel = compliance;
				Main_Optimization.media = warningThroughMedia;
				Main_Optimization.routingVisibility = visibilityOfRoute;
				ConsumerAtHome.protectiveLevel = protectiveLevel;
				ConsumerAtHome.dynamicThreshold = isDynamicInfectiousDoses;
				ConsumerAtHome.threshold= infectiousDoes;
				Main_Optimization.isOptimization = isOptimization;
				SensorNetwrok.noOfSensors = noofSensors;
				FireDepartment.noOfFireDepartment = noOfFiredepartment;
				FireDepartment.listOfFireDepartment = addressOfFireDepartment;
				Main_Optimization.complianceWOM = complianceWOM;
				
				
			}
			
			}
			catch(Exception e){
				
			}
			
	}
	
	public void toPrint(){
		System.out.println();
		if(!isProbabiliticIngestion)
			System.out.println(" *Drinking Volume "+volume);
		System.out.println(" *Protective Level "+protectiveLevel);
		System.out.println(" *Sensors # "+noofSensors);
		if(!isDynamicInfectiousDoses)
			System.out.println(" *Infectious Doses "+infectiousDoes);
		System.out.println(" *Adaptive Behavior is "+hasAdaptiveBehavior);
		System.out.println(" *Probabilistic Ingestion "+isProbabiliticIngestion);
		System.out.println(" *need Probabilitic Time of Drinking Water "+isProbabilisticTimeOfIngestion);
		System.out.println(" *Dynamic Infectious Doses is "+isDynamicInfectiousDoses);
		System.out.println(" *Word Of Mouth is "+wordOfMouth);
		System.out.println(" *Mobility is "+mobility);
		System.out.println(" *Routing Activation is "+isRoutingActivated);
		System.out.println(" *Routing Visibility is "+visibilityOfRoute);
		System.out.println(" *Warning Through Media is "+warningThroughMedia);
		System.out.println(" *Hydrants Opening is "+hydrantopening);
		System.out.println(" *No Of Fire Department is "+noOfFiredepartment);
		System.out.println(" *Want Watching TV is "+tv);
		System.out.println(" *Want Compliance Model is "+compliance);
		System.out.println(" *Want Compliance Model for WOM "+complianceWOM);
		for(int i=0;i<noOfFiredepartment;++i){
			System.out.println(" *Fire Department "+i+": "+addressOfFireDepartment[i]);
		}
		Main_Optimization.inputToString = toString();
	}
    /**
     * Default constructor
     */
    public ProblemSettings(){
    }
     
	
	@Override
	public String toString() {
		StringBuffer subf = new StringBuffer();
		if(!isProbabiliticIngestion)
			subf.append(" \n*Drinking Volume "+volume);
		subf.append(" \n*Protective Level "+protectiveLevel);
		subf.append(" \n*Sensors # "+noofSensors);
		if(!isDynamicInfectiousDoses)
			subf.append(" *Infectious Doses "+infectiousDoes);
		subf.append(" \n*Adaptive Behavior is "+hasAdaptiveBehavior);
		subf.append(" \n*Probabilistic Ingestion "+isProbabiliticIngestion);
		subf.append(" \n*need Probabilitic Time of Drinking Water "+isProbabilisticTimeOfIngestion);
		subf.append(" \n*Dynamic Infectious Doses is "+isDynamicInfectiousDoses);
		subf.append(" \n*Word Of Mouth is "+wordOfMouth);
		subf.append(" \n*Mobility is "+mobility);
		subf.append(" \n*Routing Activation is "+isRoutingActivated);
		subf.append(" \n*Routing Visibility is "+visibilityOfRoute);
		subf.append(" \n*Warning Through Media is "+warningThroughMedia);
		subf.append(" \n*Hydrants Opening is "+hydrantopening);
		subf.append(" \n*No Of Fire Department is "+noOfFiredepartment);
		subf.append(" \n*Want Watching TV is "+tv);
		subf.append(" \n*Want Compliance Model is "+compliance);
		for(int i=0;i<noOfFiredepartment;++i){
			subf.append(" \n*Fire Department "+i+": "+addressOfFireDepartment[i]);
		}
		return subf.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655021151</Id>
			<Name><![CDATA[ABM_Connection]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * ABM_Connection
 */	

public class ABM_Connection extends ConnectingToAnylogicModel {
	
			
		public  double[] getResult_Double(){
			double[] p = new double[1];
			p[0] = Main.Sick;
		//	traceln("SICK "+p[0]+" Media "+Main.Media+" TIME "+Main.alertingTime+" WOM "+Main.WOM+" Routing "+Main.Routing);
			return p;
		}
	    public  int[] getResult_Integer(){
	    	return null;
	    }
	    public  boolean[] getResult_Boolean(){
	    	return null;
	    }
	     
		public  void setAllPublicStaticVariableToFirstCondition(){
			Main.timeStep =0;
			Main.alertingTime = -1;
			Main.Routing = 0;
			Main.Media = 0;
			Main.Routing = 0;
	
			while(!Main.resultCollectorSick.isEmpty())
				Main.resultCollectorSick.remove(0);
			while(!Main.resultCollectorRouting.isEmpty())
				Main.resultCollectorRouting.remove(0);
			while(!GroupConsumer.consumerQueue.isEmpty())
				GroupConsumer.consumerQueue.remove(0);
			while(!Main.resultCollectorWOM.isEmpty())
				Main.resultCollectorWOM.remove(0);
			while(!GroupConsumer.ChangedConsumer.isEmpty())
				GroupConsumer.ChangedConsumer.remove(0);
			while(!Main.CurrentNodePopQueue.isEmpty())
				Main.CurrentNodePopQueue.remove(0);
			while(!GroupConsumer.candidateForWOM.isEmpty())
				GroupConsumer.candidateForWOM.remove(0);
			while(!GroupConsumer.clusters.isEmpty())
				GroupConsumer.clusters.remove(0);
			while(!GroupConsumer.waterRequest_queue.isEmpty())
				GroupConsumer.waterRequest_queue.remove(0);
			while(!WDS.demandQueue.isEmpty())
				WDS.demandQueue.remove(0);
			while(!WDS.nodeQualityQueue.isEmpty())
				WDS.nodeQualityQueue.remove(0);
			while(!ConsumerAtHome.qPeople.isEmpty())
				ConsumerAtHome.qPeople.remove(0);
			
		}
		/**
		 * THIS METHOD CAN DO ANYTHING A USER NEEDS TO DO. IT IS UP TO USER TO IMPLEMENT WHATEVER HE LIKES
		 * 
		 */
		public  void needToDoSthBeforeTakingResult(){
			
		}
		public void needToDoSthAfterTakingResult(){
			
		}

    
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655021207</Id>
			<Name><![CDATA[ConnectingToAnylogicModel]]></Name>
			<Description><![CDATA[GA CLASS]]></Description> 
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[

/**
 * ConnectingToAnylogicModel
 */	
public abstract class  ConnectingToAnylogicModel  {
	
	
	public double[] runSimulationModel_Double(double simulationTime){
		
		
		Engine engine = new Engine();

		
		ActiveObject aobj = new Main(engine,null,null);
	
		aobj.runSimulation();
		
		engine.setStopTime(simulationTime);
		
		engine.start(aobj);
		//RUN MODEL
		engine.runFast();
		//DO STH THAT USER LIKES TO DO SO
		needToDoSthBeforeTakingResult();

		//TAKING RESULT IF THEY ARE DOUBLES
		double[] p = getResult_Double();

		//DO STH THAT USER LIKES TO DO SO
		needToDoSthAfterTakingResult();
		//TAKING RESULT
		setAllPublicStaticVariableToFirstCondition();
		//STOPPING SIMULATION RUN
		engine.setStartTime(0);
		engine.stop();
		return p;
	}
	
	public int[] runSimulationModel_Integer(double simulationTime){
		
		
		Engine engine = new Engine();

		
		ActiveObject aobj = new Main(engine,null,null);
	
		aobj.runSimulation();
		
		engine.setStopTime(simulationTime);
		
		engine.start(aobj);
		//RUN MODEL
		engine.runFast();
		//DO STH THAT USER LIKES TO DO SO
		needToDoSthBeforeTakingResult();
		//TAKING RESULT IF THEY ARE INTEGERS
		int[] p  = getResult_Integer();
		//TAKING RESULT IF THEY ARE DOUBLES
		
		needToDoSthAfterTakingResult();
		//TAKING RESULT
		setAllPublicStaticVariableToFirstCondition();
		//STOPPING SIMULATION RUN
		engine.setStartTime(0);
		engine.stop();
		return p;
	
	}
	
	public boolean[] runSimulationModel_Boolean(double simulationTime){
		
		
		Engine engine = new Engine();

		
		ActiveObject aobj = new Main(engine,null,null);
	
		aobj.runSimulation();
		
		engine.setStopTime(simulationTime);
		
		engine.start(aobj);
		//RUN MODEL
		engine.runFast();
		//DO STH THAT USER LIKES TO DO SO
		needToDoSthBeforeTakingResult();
		//TAKING RESULT IF THEY ARE INTEGERS

		boolean[] p =getResult_Boolean();
		//DO STH THAT USER LIKES TO DO SO
		needToDoSthAfterTakingResult();
		//TAKING RESULT
		setAllPublicStaticVariableToFirstCondition();
		//STOPPING SIMULATION RUN
		engine.setStartTime(0);
		engine.stop();
		return p;
	
	}
    public abstract double[] getResult_Double();
    public abstract int[] getResult_Integer();
    public abstract boolean[] getResult_Boolean(); 
     
	public abstract void setAllPublicStaticVariableToFirstCondition();
	/**
	 * THIS METHOD CAN DO ANYTHING A USER NEEDS TO DO. IT IS UP TO USER TO IMPLEMENT WHATEVER HE LIKES
	 * 
	 */
	public abstract void needToDoSthBeforeTakingResult();
	public abstract void needToDoSthAfterTakingResult();
	

	
	

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655021559</Id>
			<Name><![CDATA[Prob]]></Name>
			<Description><![CDATA[GA CLASS]]></Description> 
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[//Class creates random variables as needed

//package MyGA;

import java.io.*;
import java.lang.*;
import java.util.*;
import java.math.*;

public abstract class Prob {

	public static long seed = 0;

	public static Random Rg = new Random();

	/**
	 * Set the seed for this random number generator
	 */
	public static void setSeed(long input_seed) {
		seed = input_seed;
		Rg.setSeed(input_seed);
	}

	/**
	 * Checks if the seed for this random number generator has been set
	 */
	public static boolean checkIfOkay() {
		if (seed != 0)
			return true;
		else
			return false;
	}

	public static double normal(double mean, double stdev) {
		double n = Rg.nextGaussian();
		return n*stdev + mean;
		} 

	/**
	 * Generates a integer random number between [a,b) - includes a, not b
	 */
	public static int roll(int a, int b) {
		if (a == b)
			return a;
		else {		double r = Rg.nextDouble();
		int r_int = (int) Math.floor(r * (b - a));
		r_int += a;
		if (r_int > b - 1)
			r_int = b - 1;
		return r_int;
		}
	}

	/**
	 * Generates a integer random number between [a,b) - includes a, not b, also
	 * doesn't include mid
	 */
	public static int rollExcept(int a, int b, int mid) {
		double r = Rg.nextDouble();
		int r_int = (int) Math.floor(r * (b - a));
		r_int += a;
		if (r_int == mid)
			if (Rg.nextDouble() < .5)
				r_int = mid - 1;
			else
				r_int = mid + 1;
		if (r_int < a)
			r_int = a + 1;
		if (r_int > b - 1)
			r_int = b - 1;

		return r_int;
	}

	/**
	 * Generates a "double" random number between [a,b)
	 */
	public static double rollR(double a, double b) {
		double r = Rg.nextDouble();
		double r_new = r * (b - a);
		r_new += a;
		if (r_new > b)
			r_new = b;
		return r_new;
	}

	// assumption made here is that b >= a. else number outside the range may be
	// returned.
	public static double Between(double a, double b) {
		// use only to generate A random no. between a and b, both inclusive
		double r = Rg.nextDouble();
		double r_d = a + r * (b - a);
		return r_d;
	}

	/**
	 * Returns a random number between 0 and 1
	 */
	public static double rand_01() {
		double r = Rg.nextDouble();
		return r;
	}

	/**
	 * Returns 0 or 1 with equal Probability
	 */
	public static int binary() {
		double r = Rg.nextDouble();
		int r_int = (int) Math.round(r);
		return r_int;
	}

	/**
	 * Returns 0 or 1 with not an equal Probability
	 */
	public static int skewedBinary() {
		double r = Rg.nextDouble();
		r += .2;
		int r_int = (int) Math.round(r);
		return r_int;
	}

	/**
	 * returns boolean with specified Probability returns true P percent of the
	 * time
	 */
	public static boolean flip(double P) {
		boolean toss = false;
		double r = Rg.nextDouble();
		if (r <= P)
			toss = true;
		return toss;
	}

	/**
	 * Returns array of numbers min to max, shuffled randomly (min is not
	 * inclusive, max inclusive)
	 */
	public static double[] makeArray(int min, int max) {
		int size = max - min;
		double x[] = new double[size];
		x[0] = Math.floor(Rg.nextDouble() * max + 1);
		for (int i = 1; i < size; i++) {
			do {
				x[i] = Math.floor(Rg.nextDouble() * max + 1);
			} while (contains(x, i, x[i]) == false);
		}
		return x;
	}

	/**
	 * Returns a array of random numbers between 0 and 1
	 */
	public static double[] makeRandomArray(int size) { // Changed frm 0-1
		double x[] = new double[size + 1];
		for (int i = 1; i <= size; i++) {
			x[i] = Rg.nextDouble();
		}
		return x;
	}

	/**
	 * Returns a two dimensional array of random numbers between 0 and 1
	 */

	public static double[][] makeRandomTwoDArray(int nrows, int ncolumns) {
		double[][] x = new double[nrows][ncolumns];
		for (int i = 0; i < nrows; i++) {
			for (int j = 0; j < ncolumns; j++) {
				x[i][j] = Rg.nextDouble();
			}
		}
		return x;
	}

	/**
	 * Returns a one dimensional array of ints that are either 0 or 1
	 */
	public static int[] makeOneDBinary(int ncols) {
		int[] bin = new int[ncols];
		for (int j = 0; j < ncols; j++) {
			bin[j] = binary();
		}
		return bin;
	}

	/**
	 * Returns a one dimensional array of ints that are either 0 or 1 - higher
	 * probability for a 1 than a 0
	 */
	public static int[] makeSkewedOneDBinary(int ncols) {
		int[] bin = new int[ncols];
		for (int j = 0; j < ncols; j++) {
			bin[j] = skewedBinary();
		}
		return bin;
	}

	/**
	 * Returns a two dimensional array of ints that are either 0 or 1
	 */
	public static int[][] makeTwoDBinary(int nrows, int ncols) {
		int[][] bin = new int[nrows][ncols];
		for (int i = 0; i < nrows; i++) {
			for (int j = 0; j < ncols; j++) {

				bin[i][j] = binary();
			}
		}
		return bin;
	}

	/**
	 * Sort the integer array in ascending order
	 */
	public static int[] sortAscending(int[] x) {
		int[] xcopy = new int[x.length];
		for (int j = 0; j < x.length; j++) {
			xcopy[j] = x[j];
		}
		for (int j = 1; j < xcopy.length; j++) {
			for (int i = 0; i < j; i++) {
				if (xcopy[j] < xcopy[i]) {
					int temp = xcopy[j];
					for (int k = (j - 1); k >= i; k--) {
						xcopy[k + 1] = xcopy[k];
					}
					xcopy[i] = temp;
					break;
				}
			}
		}
		return xcopy;
	}

	/**
	 * Returns N distinct integers from the array "int[] input" in random order
	 * N <= input
	 */
	public static int[] shuffleAndShorten(int[] input, int N) {
		int x[] = new int[N];
		int[] rand = randomNoInIntervalAB(0, input.length, N);
		for (int i = 0; i < N; i++) {
			x[i] = input[rand[i]];
		}
		return x;
	}

	/**
	 * Returns N distinct integers in the interval [min, max)
	 */
	public static int[] randomNoInIntervalAB(int min, int max, int N) {
		int x[] = new int[N];
		int i = 0;
		while (i < N) {
			int temp = roll(min, max);
			if (contains(x, i, temp)) {
				x[i] = temp;
				i++;
			}
		}
		return x;
	}

	/*
	 * Returns N distinct integers in the interval [min, max), excluding mid
	 */
	public static int[] randomNoInIntervalAB_(int min, int m, int mid, int N) {
		int max = m + 1;
		int x[] = new int[N];
		int i = 0;
		while (i < N) {
			int temp = roll(min, max);
			if (contains(x, i, temp) && (temp != mid)) {
				x[i] = temp;
				i++;
			}
		}
		return x;
	}

	/**
	 * Returns N sorted (ascending order) distinct integers in the interval
	 * [min, max)
	 */
	public static int[] sortedRandomNoInIntervalAB(int min, int max, int N) {
		int[] x = randomNoInIntervalAB(min, max, N);
		int[] x_sorted = sortAscending(x);
		return x_sorted;
	}

	/**
	 * Tests if the array contains the given value
	 */
	public static boolean contains(int test[], int j, int value) {
		boolean status = true;
		for (int i = 0; i < j; i++) {
			if (test[i] == value)
				status = false;
		}
		return status;
	}

	/*
	 * Returns a normalized array
	 */
	public static double[] normalize(double n[]) {
		double sum = 0;
		for (int i = 1; i < n.length; i++) {
			sum += n[i];
		}
		for (int i = 1; i < n.length; i++) {
			n[i] = n[i] / sum;
		}
		return n;
	}

	/**
	 * Tests if the array contains the given value
	 */
	public static boolean contains(double test[], int j, double value) {
		boolean status = true;
		for (int i = 0; i < j; i++) {
			if (test[i] == value)
				status = false;
		}
		return status;
	}

	/**
	 * Returns the seed for this random number generator
	 */
	public static String getInfo() {
		StringBuffer sbuf = new StringBuffer();
		sbuf.append("Random Seed\t").append(seed).append("\n");
		return sbuf.toString();
	}

	public static void main(String[] args) throws Exception {
	}

}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655370602</Id>
			<Name><![CDATA[GraphBuilder]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[import java.util.ArrayList;
import java.util.Random;
import java.*;

//import Math.BetaDistribution;

public class GraphBuilder {
	private ReadingData data = new ReadingData();
	private ArrayList<ArrayList<String>> connectedRoutesToFireDepartment;
	private ArrayList<ArrayList<Integer>> connectedRoutesToFireDepartmentIndices;
	private Vehicle[] vehicles;
	private double[][] boundary = new double[2][2];// ORDER IS MAXIMUM POINT ,
													// MINIMUM POINT
	private double cityDiameter;
	private int[] fireDepartmentIndex;
	private int[] terminalNodesIndex;
	private String[] terminalNodeNames;

	public String[] getTerminalNodeName() {
		return terminalNodeNames;
	}

	public ReadingData getData() {
		return data;
	}

	public Vehicle[] getVehicles() {
		return vehicles;
	}

	public void buildingNetwork() {

		data.readingTextFile();

		connectedRoutesToFireDepartment = new ArrayList<ArrayList<String>>();
		connectedRoutesToFireDepartmentIndices = new ArrayList<ArrayList<Integer>>();

		for (int i = 0; i < data.getFireDepartmentSize(); i++) {
			ArrayList<String> a = new ArrayList<String>();
			ArrayList<Integer> b = new ArrayList<Integer>();
			connectedRoutesToFireDepartment.add(a);
			connectedRoutesToFireDepartmentIndices.add(b);

		}

		for (int i = 0; i < data.getPathSize(); i++) {
			// for (int k = 0; k < data.paths(i).getVertices().length; k++) {
			ArrayList<String> a0 = new ArrayList<String>();
			ArrayList<Integer> b0 = new ArrayList<Integer>();
			ArrayList<String> a1 = new ArrayList<String>();
			ArrayList<Integer> b1 = new ArrayList<Integer>();
			for (int j = 0; j < data.getPathSize(); j++) {

				if (data.paths(i).getVertexes()[0].equals(data.paths(j)
						.getVertexes()[0])) {
					if (!data.paths(i).getID().equals(data.paths(j).getID())) {
						a0.add(data.paths(j).getID());
						b0.add(data.paths(j).getRouteIndex());
					}
				}

				if (data.paths(i).getVertexes()[0].equals(data.paths(j)
						.getVertexes()[1])) {
					if (!data.paths(i).getID().equals(data.paths(j).getID())) {
						a0.add(data.paths(j).getID());
						b0.add(data.paths(j).getRouteIndex());
					}
				}

				if (data.paths(i).getVertexes()[1].equals(data.paths(j)
						.getVertexes()[0])) {
					if (!data.paths(i).getID().equals(data.paths(j).getID())) {
						a1.add(data.paths(j).getID());
						b1.add(data.paths(j).getRouteIndex());
					}
				}

				if (data.paths(i).getVertexes()[1].equals(data.paths(j)
						.getVertexes()[1])) {
					if (!data.paths(i).getID().equals(data.paths(j).getID())) {
						a1.add(data.paths(j).getID());
						b1.add(data.paths(j).getRouteIndex());
					}
				}
			}

			int[] bb0 = new int[b0.size()];
			String[] aa0 = new String[a0.size()];
			for (int j = 0; j < aa0.length; j++) {
				aa0[j] = a0.get(j);
				bb0[j] = b0.get(j);
			}
			data.paths(i).setRoutesAtEachVertexes(aa0,
					data.paths(i).getVertexes()[0]);
			data.paths(i).setRoutesIndicesAtEachVertexes(bb0,
					data.paths(i).getVertexes()[0]);

			int[] bb1 = new int[b1.size()];
			String[] aa1 = new String[a1.size()];
			for (int j = 0; j < aa1.length; j++) {
				aa1[j] = a1.get(j);
				bb1[j] = b1.get(j);
			}
			data.paths(i).setRoutesIndicesAtEachVertexes(bb1,
					data.paths(i).getVertexes()[1]);
			data.paths(i).setRoutesAtEachVertexes(aa1,
					data.paths(i).getVertexes()[1]);

			// }
			// FINDING THE CONNECTED ROUTES TO FIRE DEPARTMENTS
			for (int j2 = 0; j2 < data.getFireDepartmentSize(); j2++) {
				if (data.paths(i).getVertexes()[0].equals(data
						.getFireDepartment(j2))
						|| data.paths(i).getVertexes()[1].equals(data
								.getFireDepartment(j2))) {
					connectedRoutesToFireDepartment.get(j2).add(
							data.paths(i).getID());
					connectedRoutesToFireDepartmentIndices.get(j2).add(
							data.paths(i).getRouteIndex());
				}
			}

			// END
			// SETTING THE CORDINATE OF THE NODES OF EACH EDGE
			if (data.getCoordinate(data.paths(i).getVertexes()[0]) != null) {
				data.paths(i).setXCoordinate(0,
						data.getCoordinate(data.paths(i).getVertexes()[0])[0]);
				data.paths(i).setYCoordinate(0,
						data.getCoordinate(data.paths(i).getVertexes()[0])[1]);
			}

			if (data.getCoordinate(data.paths(i).getVertexes()[1]) != null) {
				data.paths(i).setXCoordinate(1,
						data.getCoordinate(data.paths(i).getVertexes()[1])[0]);
				data.paths(i).setYCoordinate(1,
						data.getCoordinate(data.paths(i).getVertexes()[1])[1]);
			}
			double[] maxMin = { data.getCoordinate(0)[0],
					data.getCoordinate(0)[0], data.getCoordinate(0)[1],
					data.getCoordinate(0)[1] };// ORDER IS MAX_X, MIN_X, MAX_Y,
												// MIN_Y
			for (int j = 1; j < data.getNodes().length; j++) {
				if (data.getCoordinate(j)[0] > maxMin[0])
					maxMin[0] = data.getCoordinate(j)[0];
				if (data.getCoordinate(j)[0] < maxMin[1])
					maxMin[1] = data.getCoordinate(j)[0];
				if (data.getCoordinate(j)[1] > maxMin[2])
					maxMin[2] = data.getCoordinate(j)[1];
				if (data.getCoordinate(j)[1] < maxMin[3])
					maxMin[3] = data.getCoordinate(j)[1];
			}
			double[][] a = { { maxMin[0], maxMin[2] }, { maxMin[1], maxMin[3] } };
			boundary = a;
			cityDiameter = Math.sqrt(Math.pow((maxMin[0] - maxMin[1]), 2)
					+ Math.pow((maxMin[2] - maxMin[3]), 2));
		}

		// TESTING CODE
		/*
		 * for (int i = 0; i < data.getPathSize(); i++) {
		 * System.out.println("ROUTES "+data.paths(i).getID() + " " +
		 * data.paths(i).getRouteIndex() + " "+
		 * data.paths(i).getXCoordinate(0)+" "+ data.paths(i).getYCoordinate(0)+
		 * " "+ data.paths(i).getXCoordinate(1)+" "+
		 * data.paths(i).getYCoordinate(1)); for (int j = 0; j
		 * <data.paths(i).getRoutesAtEachVertice(0).length; j++) {
		 * System.out.print(" Node 0 " +
		 * data.paths(i).getRoutesAtEachVertice(0)[j]); } for (int j = 0; j <
		 * data.paths(i).getRoutesAtEachVertice(1).length; j++) {
		 * System.out.print(" Node 1 " +
		 * data.paths(i).getRoutesAtEachVertice(1)[j]); } System.out.println();
		 * }
		 */
		ArrayList<Integer> a = new ArrayList<Integer>();
		fireDepartmentIndex = new int[data.getFireDepartmentSize()];
		for (int j = 0; j < data.getNodes().length; j++) {
			if (data.getNodes()[j].equals(data.getFireDepartment(0))) {
				fireDepartmentIndex[0] = j;
			}
			if (data.getNodes()[j].equals(data.getFireDepartment(1))) {
				fireDepartmentIndex[1] = j;
			}
			if (data.getNodes()[j].equals(data.getFireDepartment(2))) {
				fireDepartmentIndex[2] = j;
			}
			if (data.getNodes()[j].equals(data.getFireDepartment(3))) {
				fireDepartmentIndex[3] = j;
			}
			if (data.getNodes()[j].equals(data.getFireDepartment(4))) {
				fireDepartmentIndex[4] = j;
			}
			if (data.getNodes()[j].equals(data.getFireDepartment(5))) {
				fireDepartmentIndex[5] = j;
			}
			if (data.getNodes()[j].equals(data.getFireDepartment(6))) {
				fireDepartmentIndex[6] = j;
			}
			if (data.getNodes()[j].equals(data.getFireDepartment(7))) {
				fireDepartmentIndex[7] = j;
			}
			if (data.getNodes()[j].equals(data.getFireDepartment(8))) {
				fireDepartmentIndex[8] = j;
			}
			if (data.getNodes()[j].charAt(0) == 'T') {
				a.add(j);
			}
		}
		terminalNodesIndex = new int[a.size()];
		terminalNodeNames = new String[a.size()];
		for (int i = 0; i < a.size(); i++) {
			terminalNodesIndex[i] = a.get(i);
			terminalNodeNames[i] = data.getNodes()[terminalNodesIndex[i]];
		}
		// CONTRIBUTION OF EACH ROUTE TO TERMINAL NODES
		/**
		 * DEAR USER, THE FOLLOWING CODE MAY BE CHENGED TO
		 * 
		 * terminalNodesContribution(); BASED ON YOUR NEED, FOR MORE DETAIL
		 * PLEASE LOOK AT THE DIFFERENCE BETWEEN THESE FUNCTIONS
		 * 
		 */
		terminalNodesContribution_Distance();
	}
	// INTER-CLASS USE ONLY
	private void terminalNodesContribution_Distance() {
		
		double criticalDistance = FireDepartment.influenceDistance;
		// final BetaDistribution beta = new BetaDistribution(1, 200);

		for (int i = 0; i < data.getPathSize(); i++) {
			double[] contributions = new double[terminalNodeNames.length];
			double[][] base = {
					{ data.paths(i).getXCoordinate(0),
							data.paths(i).getYCoordinate(0) },
					{ data.paths(i).getXCoordinate(1),
							data.paths(i).getYCoordinate(1) } };

			for (int j = 0; j < terminalNodeNames.length; j++) {
				double[] node = data.getCoordinate(terminalNodesIndex[j]);

				double cont = distance(base, node);
				// System.out.println("CHECK DIST "+cont+" city Diameter"+cityDiameter+" ciritical "+criticalDistance);
				if (cont <= criticalDistance)
					contributions[j] = 1;
				else
					contributions[j] = 0;
				//traceln(" check con "+contributions[j]+" "+cont);
			}
	
			data.paths(i).setTerminalNodes(terminalNodeNames, contributions);
		}
	}
	// INTER-CLASS USE ONLY
	private void terminalNodesContribution() {

		final BetaDistribution beta = new BetaDistribution(1, 100);

		for (int i = 0; i < data.getPathSize(); i++) {
			double[] contributions = new double[terminalNodeNames.length];
			double[][] base = {
					{ data.paths(i).getXCoordinate(0),
							data.paths(i).getYCoordinate(0) },
					{ data.paths(i).getXCoordinate(1),
							data.paths(i).getYCoordinate(1) } };

			for (int j = 0; j < terminalNodeNames.length; j++) {
				double[] node = data.getCoordinate(terminalNodesIndex[j]);

				double cont = contributionPercentage(base, node);
				

				contributions[j] = 1 - beta.cumulative(cont);
				
			}

			data.paths(i).setTerminalNodes(terminalNodeNames, contributions);
		}
	}

	public void testingContribution() {
		for (int i = 800; i < 802/* data.getPathSize() */; i++) {
			for (int j = 0; j < terminalNodeNames.length; j++) {

				System.out.println("Route " + data.paths(i).getID() + " Node "
						+ terminalNodeNames[j] + " is "
						+ data.paths(i).getTerminalNodesContributions()[j]);
			}
		}
	}

	private double contributionPercentage(double[][] base, double[] node) {
		double dis = distance(base, node);
		return (dis / (cityDiameter));
	}

	private int[] nodesNeedToBeMet(int zone) {
		int toBeMetNodes = 5;
		if (zone == 6)
			toBeMetNodes = 0;
		ArrayList<Integer> list = new ArrayList<Integer>();
		for (int i = 0; i < data.getNodes().length; i++) {
			if (data.getNodeZone(i)[0] == zone
					|| data.getNodeZone(i)[1] == zone)
				if (data.getNodes()[i].charAt(0) == 'I')
					list.add(i);
		}

		int[] nodeIndex = new int[toBeMetNodes + 2];
		nodeIndex[0] = fireDepartmentIndex[zone - 1];
		nodeIndex[nodeIndex.length - 1] = fireDepartmentIndex[zone - 1];
		for (int i = 1; i < toBeMetNodes + 1; i++) {

			int ind = new Random().nextInt(list.size());
			nodeIndex[i] = list.get(ind);
			list.remove(ind);

		}

		for (int i = 0; i < nodeIndex.length; i++) {
			System.out.println("Node " + data.getNodes()[nodeIndex[i]]);
		}
		return nodeIndex;
	}

	private int[] nodesNeedToBeMet_GA(int zone) {
		int toBeMetNodes = 0;
		if (zone == 2 || zone == 4 || zone == 5 || zone == 7 || zone == 9 )
			toBeMetNodes = 10;
		int[] nodeIndex = new int[toBeMetNodes + 2];
		nodeIndex[0] = fireDepartmentIndex[zone - 1];
		nodeIndex[nodeIndex.length - 1] = fireDepartmentIndex[zone - 1];
		if (zone == 1 || zone == 3 || zone == 6 || zone == 8)
			return nodeIndex;
		for (int i = 1; i < toBeMetNodes + 1; i++) {
			nodeIndex[i] = FireDepartment.nodeList_GA[zone-1][i-1];
		}
		return nodeIndex;
	}
	
	public Vehicle[] vehicleRouting() {
		Vehicle[] a = new Vehicle[data.getFireDepartmentSize()];
		// this variable is defined to get the nodes on the road path and is being used for reporting to the text file
		int[][] report_nodes = new int[data.getFireDepartmentSize()][];
		for (int i = 0; i < data.getFireDepartmentSize(); i++) {
			Vehicle v = new Vehicle();
			int[] aa;
			
			if(!Main_Optimization.isOptimization)
				 aa = nodesNeedToBeMet(i + 1);
			else
				 aa = nodesNeedToBeMet_GA(i + 1);
			report_nodes[i] = aa; 
			int[] routeIndex = new int[2];
			int[] k1 = new int[2];
			boolean[] c = new boolean[2];
			ArrayList<Routes[]> p = new ArrayList<Routes[]>();
			for (int j = 0; j < aa.length - 1; j++) {
				for (int j2 = 0; j2 < data.getPathSize(); j2++) {

					if (!c[0])
						if ((data.paths(j2).getVertexesIndex(0) == aa[j] || data
								.paths(j2).getVertexesIndex(1) == aa[j])
								&& (data.paths(j2).getID().charAt(0) == 'M' ||
										data.paths(j2).getID().charAt(0) == 'a')) {
							// System.out.println("INDEX1 "+data.paths(j2).getVertexesIndex(0)+" "+data.paths(j2).getVertexesIndex(1)+" "+aa[j]+" "+j2);
							routeIndex[0] = j2;
							c[0] = true;
							if (data.paths(j2).getVertexesIndex(0) == aa[j])
								k1[0] = 0;
							else
								k1[0] = 1;
						}
					if (!c[1])
						if ((data.paths(j2).getVertexesIndex(0) == aa[j + 1] || data
								.paths(j2).getVertexesIndex(1) == aa[j + 1])
								&& (data.paths(j2).getID().charAt(0) == 'M' || data
										.paths(j2).getID().charAt(0) == 'a')) {
							// System.out.println("INDEX2 "+data.paths(j2).getVertexesIndex(0)+" "+data.paths(j2).getVertexesIndex(1)+" "+aa[j+1]+" "+j2);
							routeIndex[1] = j2;
							c[1] = true;
							if (data.paths(j2).getVertexesIndex(0) == aa[j + 1])
								k1[1] = 0;
							else
								k1[1] = 1;
						}
					if (c[1] && c[0])
						break;
				}
				/*
				 * if (i == 0) { System.out.println(j + " " + routeIndex[0] +
				 * " " + routeIndex[1] + " " + k1[0] + " " + k1[1]); }
				 */
				Routes[] y = pathFinder(data.paths(routeIndex[0]).copyOf(),
						k1[0], data.paths(routeIndex[1]).copyOf(), k1[1]);
				if (y != null) {
					p.add(y);
				}
				c[0] = false;
				c[1] = false;
			}
			int number = 0;
			for (int j = 0; j < p.size(); j++) {
				number += p.get(j).length;
			}
			Routes[] forVehicle = new Routes[number];
			double[] length = new double[number];
			String[] name = new String[number];
			double[][] share = new double[number][terminalNodeNames.length];
			number = 0;
			for (int j = 0; j < p.size(); j++) {
				for (int j2 = 0; j2 < p.get(j).length; j2++, number++) {
					length[number] = p.get(j)[j2].getLength();
					name[number] = p.get(j)[j2].getID();
					forVehicle[number] = p.get(j)[j2].copyOf();
					share[number] = p.get(j)[j2]
							.getTerminalNodesContributions();
				}
			}
			v.setLength(length);
			v.setPath(name);
			v.setRoutes(forVehicle);
			v.setTerminalNodesContribution(share);
			a[i] = v;

			System.out.println(i + " Vehicle "
					+ v.getTime()[v.getTime().length - 1]);
			/*
			 * for (int j = 0; j < name.length; j++) { System.out.println(i +
			 * " " + name[j]+" Time "+v.getTime()[j]+" Lenght "+length[j]); }
			 */
		}
		FireDepartment.selectedNodes = report_nodes;
		vehicles = a;
		//nodeEffectedRatio(60);
		//nodeEffectedRatio(120);
		// nodeEffectedRatio(180);
		return a;
	}

	

	private Routes[] pathFinder(Routes r1, int k1, Routes r2, int k2) {
		if (r1.getRouteIndex() == r2.getRouteIndex()) {
			Routes[] a = { r1 };
			return a;
		}
		Routes[] insideRoutes = new Routes[data.getPathSize()];
		for (int i = 0; i < data.getPathSize(); i++) {
			insideRoutes[i] = data.paths(i).copyOf();
		}

		r1 = r1.copyOf();
		r2 = r2.copyOf();

		String departingFrom = r1.getVertexes()[k1];
		String goingTo = r2.getVertexes()[k2];
		int depart = 0;
		int going = 0;
		int c = 0;
		/*
		 * System.out.println(r1.getID() + " " + r1.getVertexes()[k1] + " " +
		 * r2.getID() + " " + r2.getVertexes()[k2]);
		 */
		for (int i = 0; i < data.getNodes().length; i++) {
			if (data.getNodes()[i].equals(departingFrom)) {
				depart = i;
				++c;
			}
			if (data.getNodes()[i].equals(goingTo)) {
				going = i;
				++c;
			}
			if (c == 2)
				break;
		}
		if (k1 == 0) {
			insideRoutes[r1.getRouteIndex()].setAndGetDirection(0);
		} else {
			insideRoutes[r1.getRouteIndex()].setAndGetDirection(1);
		}
		ArrayList<int[]> nodes = new ArrayList<int[]>();// index of Nodes list
		ArrayList<int[]> edges = new ArrayList<int[]>();// Index of Edges
														// (Routes) List
		{
			int[] a = { depart };
			nodes.add(a);
			edges.add(null);
		}

		int cn = 0;
		while (true) {
			ArrayList<Integer> a = new ArrayList<Integer>();
			ArrayList<Integer> b = new ArrayList<Integer>();

			if (cn == 0) {

				if (k1 == 0) {

					a.add(r1.getVertexesIndex(1));
					insideRoutes[r1.getRouteIndex()].markNode(1);
					b.add(r1.getRouteIndex());
					for (int i = 0; i < r1.getRoutesAtEachVertex(1).length; i++) {
						insideRoutes[r1.getRoutesIndicesAtEachVertex(1)[i]]
								.markNode(r1.getVertexes()[1]);
					}

					for (int i = 0; i < r1.getRoutesAtEachVertex(0).length; i++) {
						int index = r1.getRoutesIndicesAtEachVertex(0)[i];

						if (insideRoutes[index]
								.setAndGetDirection(departingFrom)) {
							if (!insideRoutes[index].getMarkedNode(1)) {
								b.add(index);
								a.add(insideRoutes[index].getVertexesIndex(1));
								// Marking Node
								insideRoutes[index].markNode(1);
								for (int j = 0; j < insideRoutes[index]
										.getRoutesAtEachVertex(1).length; j++) {
									insideRoutes[insideRoutes[index]
											.getRoutesIndicesAtEachVertex(1)[j]]
											.markNode(insideRoutes[index]
													.getVertexes()[1]);
								}
							}
						} else {
							if (!insideRoutes[index].getMarkedNode(0)) {
								b.add(index);
								a.add(insideRoutes[index].getVertexesIndex(0));
								// Marking Node
								insideRoutes[index].markNode(0);
								for (int j = 0; j < insideRoutes[index]
										.getRoutesAtEachVertex(0).length; j++) {
									insideRoutes[insideRoutes[index]
											.getRoutesIndicesAtEachVertex(0)[j]]
											.markNode(insideRoutes[index]
													.getVertexes()[0]);
								}
							}
						}
					}
				} else {
					a.add(r1.getVertexesIndex(0));
					insideRoutes[r1.getRouteIndex()].markNode(0);
					for (int i = 0; i < r1.getRoutesAtEachVertex(0).length; i++) {
						insideRoutes[r1.getRoutesIndicesAtEachVertex(0)[i]]
								.markNode(r1.getVertexes()[0]);
					}
					b.add(r1.getRouteIndex());
					for (int i = 0; i < r1.getRoutesAtEachVertex(1).length; i++) {
						int index = r1.getRoutesIndicesAtEachVertex(1)[i];

						if (insideRoutes[index]
								.setAndGetDirection(departingFrom)) {
							if (!insideRoutes[index].getMarkedNode(1)) {
								b.add(index);
								a.add(insideRoutes[index].getVertexesIndex(1));
								// Marking Node
								insideRoutes[index].markNode(1);
								for (int j = 0; j < insideRoutes[index]
										.getRoutesAtEachVertex(1).length; j++) {
									insideRoutes[insideRoutes[index]
											.getRoutesIndicesAtEachVertex(1)[j]]
											.markNode(insideRoutes[index]
													.getVertexes()[1]);
								}
							}
						} else {
							if (!insideRoutes[index].getMarkedNode(0)) {
								b.add(index);
								a.add(insideRoutes[index].getVertexesIndex(0));
								// Marking Node
								insideRoutes[index].markNode(0);
								for (int j = 0; j < insideRoutes[index]
										.getRoutesAtEachVertex(0).length; j++) {
									insideRoutes[insideRoutes[index]
											.getRoutesIndicesAtEachVertex(0)[j]]
											.markNode(insideRoutes[index]
													.getVertexes()[0]);
								}
							}
						}
					}
				}
			} else {
				for (int i = 0; i < edges.get(cn).length; i++) {
					int in = edges.get(cn)[i];

					/*
					 * if(in ==97){
					 * System.out.println("OP "+cn+" "+i+" "+insideRoutes
					 * [in].getDirection()); //System.exit(-1); }
					 */
					if (insideRoutes[in].getDirection()) {

						for (int j = 0; j < insideRoutes[in]
								.getRoutesAtEachVertex(1).length; j++) {
							int index1 = insideRoutes[in]
									.getRoutesIndicesAtEachVertex(1)[j];

							if (insideRoutes[index1]
									.setAndGetDirection(insideRoutes[in]
											.getVertexes()[1])) {

								if (!insideRoutes[index1].getMarkedNode(1)) {
									b.add(index1);
									a.add(insideRoutes[index1]
											.getVertexesIndex(1));
									// Marking Node
									insideRoutes[index1].markNode(1);
									for (int k = 0; k < insideRoutes[index1]
											.getRoutesAtEachVertex(1).length; k++) {
										insideRoutes[insideRoutes[index1]
												.getRoutesIndicesAtEachVertex(1)[k]]
												.markNode(insideRoutes[index1]
														.getVertexes()[1]);
									}
								}

							} else {

								if (!insideRoutes[index1].getMarkedNode(0)) {
									b.add(index1);
									a.add(insideRoutes[index1]
											.getVertexesIndex(0));
									// Marking Node
									insideRoutes[index1].markNode(0);
									for (int k = 0; k < insideRoutes[index1]
											.getRoutesAtEachVertex(0).length; k++) {
										insideRoutes[insideRoutes[index1]
												.getRoutesIndicesAtEachVertex(0)[k]]
												.markNode(insideRoutes[index1]
														.getVertexes()[0]);
									}
								}
							}
						}

					} else {

						for (int j = 0; j < insideRoutes[in]
								.getRoutesAtEachVertex(0).length; j++) {
							int index1 = insideRoutes[in]
									.getRoutesIndicesAtEachVertex(0)[j];
							/*
							 * if(in ==97){
							 * System.out.println(j+" Ro "+insideRoutes
							 * [index1]); }
							 */
							if (insideRoutes[index1]
									.setAndGetDirection(insideRoutes[in]
											.getVertexes()[0])) {// HERE
								if (!insideRoutes[index1].getMarkedNode(1)) {
									a.add(insideRoutes[index1]
											.getVertexesIndex(1));
									b.add(index1);
									// Marking Node
									insideRoutes[index1].markNode(1);
									for (int k = 0; k < insideRoutes[index1]
											.getRoutesAtEachVertex(1).length; k++) {
										insideRoutes[insideRoutes[index1]
												.getRoutesIndicesAtEachVertex(1)[k]]
												.markNode(insideRoutes[index1]
														.getVertexes()[1]);
									}
								}
							} else {
								if (!insideRoutes[index1].getMarkedNode(0)) {
									a.add(insideRoutes[index1]
											.getVertexesIndex(0));
									b.add(index1);
									// Marking Node
									insideRoutes[index1].markNode(0);
									for (int k = 0; k < insideRoutes[index1]
											.getRoutesAtEachVertex(0).length; k++) {
										insideRoutes[insideRoutes[index1]
												.getRoutesIndicesAtEachVertex(0)[k]]
												.markNode(insideRoutes[index1]
														.getVertexes()[0]);
									}
								}
							}
						}

					}
				}
			}
			for (int i = 0; i < nodes.size(); i++) {
				for (int j = 0; j < nodes.get(i).length; j++) {
					// System.out.println(r1.getID()+" "+r2.getID()+" "+r1.getVertexes()[k1]+" "+r2.getVertexes()[k2]);
					// System.out.println(i+" "+j+" "+data.getNodes()[nodes.get(i)[j]]);
				}
			}
			int[] aa = new int[a.size()];
			int[] bb = new int[b.size()];

			for (int i = 0; i < a.size(); i++) {
				aa[i] = a.get(i);
			}

			for (int i = 0; i < bb.length; i++) {
				bb[i] = b.get(i);
			}
			nodes.add(aa);
			edges.add(bb);
			++cn;
			// CHECK STOPPING CONDITION
			boolean y = false;
			for (int i = 0; i < aa.length; i++) {
				if (aa[i] == going)
					y = true;
			}

			if (y)
				break;
			if (a.size() == 0) {
				System.out.println("STUCKS AT " + r1.getID() + " " + r2.getID()
						+ " " + k1 + " " + k2 + " " + cn + " "
						+ r1.getVertexes()[k1] + " " + r2.getVertexes()[k2]);
				// vehicleRouting();

				return null;

				// System.exit(-1);
			}

		}

		int[] indices = new int[nodes.size() - 1]; // SIZE NEEDS TO BE CHECKED
		int benchMark = going;
		for (int i = nodes.size() - 1; i > 0; i--) {
			for (int j = 0; j < nodes.get(i).length; j++) {// SIZE NEEDS TO BE
															// CHECKED

				if (nodes.get(i)[j] == benchMark) {
					indices[i - 1] = edges.get(i)[j]; // SIZE NEEDS TO BE
														// CHECKED

					if (insideRoutes[edges.get(i)[j]].getVertexesIndex(0) == nodes
							.get(i)[j]) {
						benchMark = insideRoutes[edges.get(i)[j]]
								.getVertexesIndex(1);
					} else {
						benchMark = insideRoutes[edges.get(i)[j]]
								.getVertexesIndex(0);
					}
					break;
				}
			}
		}

		Routes[] u = new Routes[indices.length];
		for (int i = indices.length - 1; i >= 0; i--) {
			u[i] = insideRoutes[indices[i]].copyOf();
		}

		return u;
	}
	/**
	 * this method is being used just for optimization framework 
	 * which means it is mainly constructed for ES 
	 * @param r1
	 * @param k1
	 * @param sig
	 * @return
	 */
	public int[] mutationCandidateBuilder(Routes r1, int k1, int sig, int[] zone) {
		if (sig == 0) {
			int[] a = { r1.getVertexesIndex(k1) };
			return a;
		}
		Routes[] insideRoutes = new Routes[data.getPathSize()];
		for (int i = 0; i < data.getPathSize(); i++) {
			insideRoutes[i] = data.paths(i).copyOf();
		}

		r1 = r1.copyOf();
		// r2 = r2.copyOf();

		String departingFrom = r1.getVertexes()[k1];
		// String goingTo = r2.getVertexes()[k2];
		int depart = 0;

		int c = 0;
		/*
		 * System.out.println(r1.getID() + " " + r1.getVertexes()[k1] + " " +
		 * r2.getID() + " " + r2.getVertexes()[k2]);
		 */
		for (int i = 0; i < data.getNodes().length; i++) {
			if (data.getNodes()[i].equals(departingFrom)) {
				depart = i;
				++c;
			}

			if (c == 1)
				break;
		}
		if (k1 == 0) {
			insideRoutes[r1.getRouteIndex()].setAndGetDirection(0);
		} else {
			insideRoutes[r1.getRouteIndex()].setAndGetDirection(1);
		}
		ArrayList<int[]> nodes = new ArrayList<int[]>();// index of Nodes list
		ArrayList<int[]> edges = new ArrayList<int[]>();// Index of Edges
														// (Routes) List
		{
			int[] a = { depart };
			nodes.add(a);
			edges.add(null);
		}

		int cn = 0;
		while (true) {
			ArrayList<Integer> a = new ArrayList<Integer>();
			ArrayList<Integer> b = new ArrayList<Integer>();

			if (cn == 0) {

				if (k1 == 0) {

					a.add(r1.getVertexesIndex(1));
					insideRoutes[r1.getRouteIndex()].markNode(1);
					b.add(r1.getRouteIndex());
					for (int i = 0; i < r1.getRoutesAtEachVertex(1).length; i++) {
						insideRoutes[r1.getRoutesIndicesAtEachVertex(1)[i]]
								.markNode(r1.getVertexes()[1]);
					}

					for (int i = 0; i < r1.getRoutesAtEachVertex(0).length; i++) {
						int index = r1.getRoutesIndicesAtEachVertex(0)[i];

						if (insideRoutes[index]
								.setAndGetDirection(departingFrom)) {
							if (!insideRoutes[index].getMarkedNode(1)) {
								b.add(index);
								a.add(insideRoutes[index].getVertexesIndex(1));
								// Marking Node
								insideRoutes[index].markNode(1);
								for (int j = 0; j < insideRoutes[index]
										.getRoutesAtEachVertex(1).length; j++) {
									insideRoutes[insideRoutes[index]
											.getRoutesIndicesAtEachVertex(1)[j]]
											.markNode(insideRoutes[index]
													.getVertexes()[1]);
								}
							}
						} else {
							if (!insideRoutes[index].getMarkedNode(0)) {
								b.add(index);
								a.add(insideRoutes[index].getVertexesIndex(0));
								// Marking Node
								insideRoutes[index].markNode(0);
								for (int j = 0; j < insideRoutes[index]
										.getRoutesAtEachVertex(0).length; j++) {
									insideRoutes[insideRoutes[index]
											.getRoutesIndicesAtEachVertex(0)[j]]
											.markNode(insideRoutes[index]
													.getVertexes()[0]);
								}
							}
						}
					}
				} else {
					a.add(r1.getVertexesIndex(0));
					insideRoutes[r1.getRouteIndex()].markNode(0);
					for (int i = 0; i < r1.getRoutesAtEachVertex(0).length; i++) {
						insideRoutes[r1.getRoutesIndicesAtEachVertex(0)[i]]
								.markNode(r1.getVertexes()[0]);
					}
					b.add(r1.getRouteIndex());
					for (int i = 0; i < r1.getRoutesAtEachVertex(1).length; i++) {
						int index = r1.getRoutesIndicesAtEachVertex(1)[i];

						if (insideRoutes[index]
								.setAndGetDirection(departingFrom)) {
							if (!insideRoutes[index].getMarkedNode(1)) {
								b.add(index);
								a.add(insideRoutes[index].getVertexesIndex(1));
								// Marking Node
								insideRoutes[index].markNode(1);
								for (int j = 0; j < insideRoutes[index]
										.getRoutesAtEachVertex(1).length; j++) {
									insideRoutes[insideRoutes[index]
											.getRoutesIndicesAtEachVertex(1)[j]]
											.markNode(insideRoutes[index]
													.getVertexes()[1]);
								}
							}
						} else {
							if (!insideRoutes[index].getMarkedNode(0)) {
								b.add(index);
								a.add(insideRoutes[index].getVertexesIndex(0));
								// Marking Node
								insideRoutes[index].markNode(0);
								for (int j = 0; j < insideRoutes[index]
										.getRoutesAtEachVertex(0).length; j++) {
									insideRoutes[insideRoutes[index]
											.getRoutesIndicesAtEachVertex(0)[j]]
											.markNode(insideRoutes[index]
													.getVertexes()[0]);
								}
							}
						}
					}
				}
			} else {
				for (int i = 0; i < edges.get(cn).length; i++) {
					int in = edges.get(cn)[i];

					/*
					 * if(in ==97){
					 * System.out.println("OP "+cn+" "+i+" "+insideRoutes
					 * [in].getDirection()); //System.exit(-1); }
					 */
					if (insideRoutes[in].getDirection()) {

						for (int j = 0; j < insideRoutes[in]
								.getRoutesAtEachVertex(1).length; j++) {
							int index1 = insideRoutes[in]
									.getRoutesIndicesAtEachVertex(1)[j];

							if (insideRoutes[index1]
									.setAndGetDirection(insideRoutes[in]
											.getVertexes()[1])) {

								if (!insideRoutes[index1].getMarkedNode(1)) {
									b.add(index1);
									a.add(insideRoutes[index1]
											.getVertexesIndex(1));
									// Marking Node
									insideRoutes[index1].markNode(1);
									for (int k = 0; k < insideRoutes[index1]
											.getRoutesAtEachVertex(1).length; k++) {
										insideRoutes[insideRoutes[index1]
												.getRoutesIndicesAtEachVertex(1)[k]]
												.markNode(insideRoutes[index1]
														.getVertexes()[1]);
									}
								}

							} else {

								if (!insideRoutes[index1].getMarkedNode(0)) {
									b.add(index1);
									a.add(insideRoutes[index1]
											.getVertexesIndex(0));
									// Marking Node
									insideRoutes[index1].markNode(0);
									for (int k = 0; k < insideRoutes[index1]
											.getRoutesAtEachVertex(0).length; k++) {
										insideRoutes[insideRoutes[index1]
												.getRoutesIndicesAtEachVertex(0)[k]]
												.markNode(insideRoutes[index1]
														.getVertexes()[0]);
									}
								}
							}
						}

					} else {

						for (int j = 0; j < insideRoutes[in]
								.getRoutesAtEachVertex(0).length; j++) {
							int index1 = insideRoutes[in]
									.getRoutesIndicesAtEachVertex(0)[j];
							/*
							 * if(in ==97){
							 * System.out.println(j+" Ro "+insideRoutes
							 * [index1]); }
							 */
							if (insideRoutes[index1]
									.setAndGetDirection(insideRoutes[in]
											.getVertexes()[0])) {// HERE
								if (!insideRoutes[index1].getMarkedNode(1)) {
									a.add(insideRoutes[index1]
											.getVertexesIndex(1));
									b.add(index1);
									// Marking Node
									insideRoutes[index1].markNode(1);
									for (int k = 0; k < insideRoutes[index1]
											.getRoutesAtEachVertex(1).length; k++) {
										insideRoutes[insideRoutes[index1]
												.getRoutesIndicesAtEachVertex(1)[k]]
												.markNode(insideRoutes[index1]
														.getVertexes()[1]);
									}
								}
							} else {
								if (!insideRoutes[index1].getMarkedNode(0)) {
									a.add(insideRoutes[index1]
											.getVertexesIndex(0));
									b.add(index1);
									// Marking Node
									insideRoutes[index1].markNode(0);
									for (int k = 0; k < insideRoutes[index1]
											.getRoutesAtEachVertex(0).length; k++) {
										insideRoutes[insideRoutes[index1]
												.getRoutesIndicesAtEachVertex(0)[k]]
												.markNode(insideRoutes[index1]
														.getVertexes()[0]);
									}
								}
							}
						}

					}
				}
			}
			for (int i = 0; i < nodes.size(); i++) {
				for (int j = 0; j < nodes.get(i).length; j++) {
					// System.out.println(r1.getID()+" "+r2.getID()+" "+r1.getVertexes()[k1]+" "+r2.getVertexes()[k2]);
					// System.out.println(i+" "+j+" "+data.getNodes()[nodes.get(i)[j]]);
				}
			}
			int[] aa = new int[a.size()];
			int[] bb = new int[b.size()];

			for (int i = 0; i < a.size(); i++) {
				aa[i] = a.get(i);
			}

			for (int i = 0; i < bb.length; i++) {
				bb[i] = b.get(i);
			}
			nodes.add(aa);
			edges.add(bb);
			
			// CHECK STOPPING CONDITION
			boolean y = false;

			if (sig == cn || sig == 0)
				y = true;

			if (y)
				break;
			if (a.size() == 0) {
				
				// vehicleRouting();

				return null;

				// System.exit(-1);
			}
			++cn;
		}
	
		int[] u = new int[nodes.get(nodes.size() - 1).length];
		for (int i = 0; i < u.length; i++) {
			u[i] = nodes.get(nodes.size() - 1)[i];
		}
		ArrayList<Integer> p = new ArrayList<Integer>();
		
		for(int j=0; j<u.length; ++j){
			for(int i=0; i<data.getNodes().length;++i){
				for( int k=0; k < zone.length; ++k){
					if(zone.length == 2 ){
						if(u[j] == data.getNodeIndex(data.getNodes()[i]) && (data.getNodeZone(i)[0] == zone[0] 
					                                                 || data.getNodeZone(i)[0] == zone[1] ||
					                                                 data.getNodeZone(i)[1] == zone[0]
					                                       		|| data.getNodeZone(i)[1] == zone[1])){
							 p.add(u[j]);	
						}
					}else{
						if(u[j] == data.getNodeIndex(data.getNodes()[i]) && (data.getNodeZone(i)[0] == zone[0] 
						               					                      || data.getNodeZone(i)[1] == zone[0])){
							p.add(u[j]);
						}
					}
				}
			}
		}
		
		int[] u1 = new int[p.size()];
		for(int i=0; i<p.size();++i){
			u1[i] = p.get(i);
		}
		return u1;
	}

	/**
	 * THIS METHOD RETURNS INDEX OF NODE
	 * 
	 * @param route
	 *            ROUTE WHICH THE TRIP WILL BE STARTED
	 * @param raduisRatio
	 *            RADUIS AROUND THE DESIRE NODE, 1 FOR ALL CITY, 0 FOR NO CIRCLE
	 * @return
	 */
	private Routes findDestinationNode(Routes route, double raduisRatio) {

		double[] t = new double[2];
		t[0] = (route.getVertexesCoordinate()[0][0] + route
				.getVertexesCoordinate()[1][0]) / 2;
		t[1] = (route.getVertexesCoordinate()[0][1] + route
				.getVertexesCoordinate()[1][1]) / 2;

		double deltaX = boundary[0][0] - boundary[1][0];
		double deltaY = boundary[0][1] - boundary[1][1];
		double deltaX1 = t[0] - boundary[1][0];
		double deltaY1 = t[1] - boundary[1][1];
		// System.out.println(route.getRouteIndex()+" "+route.getID()+" "+deltaX+" "+deltaY+" "+deltaX1+" "+deltaY1);
		double[][] target = {
				{ t[0] * (1 + raduisRatio * (deltaX - deltaX1) / deltaX),
						t[1] * (1 + raduisRatio * (deltaY - deltaY1) / deltaY) },
				{ t[0] * (1 - raduisRatio * deltaX1 / deltaX),
						t[1] * (1 - raduisRatio * deltaY1 / deltaY) } };
		int index = 0;
		while (true) {
			index = new Random().nextInt(data.getPathSize());
			double[] t1 = new double[2];
			// System.out.println(index+" "+data.paths(index).getID());
			t1[0] = (data.paths(index).getVertexesCoordinate()[0][0] + data
					.paths(index).getVertexesCoordinate()[1][0]) / 2;
			t1[1] = (data.paths(index).getVertexesCoordinate()[0][1] + data
					.paths(index).getVertexesCoordinate()[1][1]) / 2;
			if (t1[0] <= target[0][0] && t1[0] >= target[1][0]
					&& t1[1] <= target[0][1] && t1[1] >= target[1][1]
					&& index != route.getRouteIndex()) {
				break;
			}
		}

		return data.paths(index);
	}

	private double distance(double[][] nodes, double[] favorNode) {
		double a = 0;
		a = Math.sqrt(Math.pow((nodes[0][0] - favorNode[0]), 2)
				+ Math.pow((nodes[0][1] - favorNode[1]), 2))
				+ Math.sqrt(Math.pow((nodes[1][0] - favorNode[0]), 2)
						+ Math.pow((nodes[1][1] - favorNode[1]), 2));
		return a / 2;
	}

	private Routes[] findShortestPath(Routes r1, Routes r2) {
		return null;
	}

	/**
	 * 
	 * @param time
	 *            in MINUTES
	 * @return
	 */
	public double[] nodeEffectedRatio(double time) {
		double[] p = new double[terminalNodeNames.length];
		double[] p_Max = new double[terminalNodeNames.length];
		for (int i = 1; i < 2; i++) {
			for (int j = 0; j < vehicles[i].nodeEffectedPercentage(time).length; j++) {
				p[j] += vehicles[i].nodeEffectedPercentage(time)[j];
				if (p_Max[j] < vehicles[i].nodeEffectedPercentage(time)[j])
					p_Max[j] = vehicles[i].nodeEffectedPercentage(time)[j];
			}
		}
		for (int i = 0; i < p_Max.length; i++) {
			p[i] = Math.floor((p[i] / vehicles.length) * 100) / 100;
			p_Max[i] = Math.floor((p_Max[i]) * 100) / 100;
			if (p[i] < p_Max[i])
				p[i] = p_Max[i];
			if (p[i] < 0.01)
				p[i] = 0.00;
			// System.out.println(terminalNodeNames[i] + " " + p[i]+" "+time);
		}

		return p;
	}
	public boolean[] terminalNodesAffected(double time, double timeStep) {
		boolean[] p = new boolean[terminalNodeNames.length];
		int[] startTime = FireDepartment.startTime;
		for (int i = 0; i < p.length; i++) {
			p[i] = false;
		}
		int checkTimeSteps = 0;
		if (time >= timeStep) {
			checkTimeSteps = (int) (time / timeStep);
		}
		for (int j = 0; j < terminalNodeNames.length; j++) {

			for (int i = 0; i < vehicles.length; i++) {
				if(startTime[i] <= time){
					int size = vehicles[i].getTerminalNodesContribution().length;
					for (int k = 0; k < size; k++) {
						if ((vehicles[i].getTime()[k]+startTime[i]) <= time
								&& (vehicles[i].getTime()[k]+startTime[i]) >= (checkTimeSteps - 1)
										* timeStep) {

							// System.out.println("check "+vehicles[i].getTerminalNodesContribution()[k][k2]);
							if (vehicles[i].getTerminalNodesContribution()[k][j] == 1) {
								p[j] = true;
								//System.out.println(vehicles[i].getTime()[k]
								//	+ " TIME " + time + " CHECK "
								//	+ (checkTimeSteps - 1) * timeStep);
							}

				 		}
					}
				}
			}
		}
		return p;
	}
	/**
	 * FOR CLASS INTERNAL USE ONLY
	 * 
	 * @param a
	 * @param all
	 * @return
	 */

	private Routes findFartherAvilable(Routes a, Routes[] all) {

		return null;
	}
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655370629</Id>
			<Name><![CDATA[ReadingData]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[import java.util.*;
import java.io.*;

public class ReadingData {
	// ArrayList<>
	private String[] fireDepartment = 
	{ "IN1232", "IN0943", "IN0011", "IN0089",
			"IN0267", "IN1514", "IN0414", "IN0573", "IN1391" };
	private int[][] nodeZone;
	private Routes[] paths;
	private double[] lengths;
	private String[] names;
	private String[] vertexStrating;
	private String[] vertexEnding;
	private String[] nodeID;
	private double raduisRatio = 0.2;
	private double[][] coordinates;// THE FIRST ARRAY IS JUST SEQUENCES OF
									// COORDINATES

	private double[] zone1X = { 49964.47, 51036.92, 31723.10 };
	private double[] zone1Y = { 162417.11, 182954, 163014 };

	private double[] zone2X = { 49964.47, 36752.23, 44251.21, 47159.88,
			56766.75, 63164.06, 78180, 80180, 59470 };
	private double[] zone2Y = { 162417.11, 162879.59, 154946.24, 156141.1,
			156585.90, 154204.9, 154723, 196309, 196309 };

	private double[] zone3X = { 44251.21, 47159.88, 56766.75, 63164.06, 78180,
			69674.23, 66552.11, 43654 };
	private double[] zone3Y = { 154946.24, 156141.1, 156585.90, 154204.9,
			154723, 145735.55, 142918.98, 144343 };

	private double[] zone4X = { 78180, 69674.23, 66552.11, 43654, 77330,
			84713.67, 84467.89 };
	private double[] zone4Y = { 154723, 145735.55, 142918.98, 144343, 128273,
			138846.91, 148797.90 };

	private double[] zone5X = { 84467.89, 84713.67, 92366, 97470.88, 102185.64,
			101862.08, 97480 };
	private double[] zone5Y = { 148797.90, 138846.91, 135024, 138498.01,
			148469, 150037.38, 155800 };

	private double[] zone6X = { 101380, 122174, 124430, 101788 };
	private double[] zone6Y = { 123254, 121965, 106736, 107945 };

	private double[] zone7X = { 101380, 122174, 117425.6, 117337.64, 114389.94,
			113653.18, 107509, 101862.08, 102185.64, 97470.88 };
	private double[] zone7Y = { 123254, 121965, 136173.52, 138908.14,
			145557.98, 149879.58, 157741, 150037.38, 148469, 138498.01 };

	private double[] zone8X = { 117425.6, 117337.64, 114389.94, 113653.18,
			107509, 160205.18, 123525 };
	private double[] zone8Y = { 136173.52, 138908.14, 145557.98, 149879.58,
			163894.83, 163894.83, 133107 };

	private double[] zone9X = { 107509, 160205.18, 180074, 107509 };
	private double[] zone9Y = { 163894.83, 163894.83, 213203, 213203 };

	private double[][] coefficients_Zone1 = new double[zone1X.length][2];
	private double[][] coefficients_Zone2 = new double[zone2X.length][2];
	private double[][] coefficients_Zone3 = new double[zone3X.length][2];
	private double[][] coefficients_Zone4 = new double[zone4X.length][2];
	private double[][] coefficients_Zone5 = new double[zone5X.length][2];
	private double[][] coefficients_Zone6 = new double[zone6X.length][2];
	private double[][] coefficients_Zone7 = new double[zone7X.length][2];
	private double[][] coefficients_Zone8 = new double[zone8X.length][2];
	private double[][] coefficients_Zone9 = new double[zone9X.length][2];

	public double getRaduisRatio() {
		return raduisRatio;
	}

	public String getFireDepartment(int index) {
		return fireDepartment[index];
	}

	public int getFireDepartmentSize() {
		return fireDepartment.length;
	}

	public Routes paths(int index) {
		return paths[index];
	}

	public int getPathSize() {
		return paths.length;
	}

	public String[] getNodes() {
		return nodeID;
	}

	public void readingTextFile() {

		String fileAdd = System.getProperty("user.dir").concat(
				"/Routes_modified.txt");
		String fileAdd1 = System.getProperty("user.dir").concat(
				"/VerticesCoordinates_modified.txt");
		String fileAdd2 = System.getProperty("user.dir").concat(
				"/zone_limits.txt");
		// FIRST FILE
		{
			File file = new File(fileAdd);
			ArrayList<Double> leng = new ArrayList<Double>();
			ArrayList<String> edge = new ArrayList<String>();
			ArrayList<String> v1 = new ArrayList<String>();
			ArrayList<String> v2 = new ArrayList<String>();
			try {
				if (file.exists()) {
					Scanner input = new Scanner(file);

					while (input.hasNext()) {
						String s = input.nextLine();
						for (int i = 0; i < s.split("\t").length; ++i) {
							switch (i) {
							case (0):
								edge.add(s.split("\t")[i]);
								break;
							case (2):
								v1.add(s.split("\t")[i].split("\"")[0]);
								break;
							case (4):
								v2.add(s.split("\t")[i].split("\"")[0]);
								break;
							case (6):
								leng.add(Double.parseDouble(s.split("\t")[i]
										.split("\"")[0]));
								break;
							}
						}
					}
					// INITIATES THE CLASS VARIABLES
					lengths = new double[edge.size()];
					names = new String[edge.size()];
					vertexEnding = new String[edge.size()];
					vertexStrating = new String[edge.size()];
					for (int i = 0; i < edge.size(); i++) {
						lengths[i] = leng.get(i);
						names[i] = edge.get(i);
						vertexEnding[i] = v2.get(i);
						vertexStrating[i] = v1.get(i);
					}
				}
			} catch (Exception e) {
				System.out.println("FILE NOT FOUND ROUTES.TXT");
			}
		}
		// SECOND FILE
		{
			File file = new File(fileAdd1);
			ArrayList<Double> X = new ArrayList<Double>();
			ArrayList<Double> Y = new ArrayList<Double>();
			ArrayList<String> node = new ArrayList<String>();
			try {
				if (file.exists()) {
					Scanner input = new Scanner(file);
					while (input.hasNext()) {
						String s = input.nextLine();

						for (int i = 0; i < s.split("\t").length; ++i) {
							switch (i) {
							case (0):
								node.add(s.split("\t")[i]);
								break;
							case (2):
								X.add(Double.parseDouble(s.split("\t")[i]
										.split("\"")[0]));
								break;
							case (4):
								Y.add(Double.parseDouble(s.split("\t")[i]
										.split("\"")[0]));
								break;

							}
						}

					}
					// INITIATES THE CLASS VARIABLES
					coordinates = new double[X.size()][2];
					nodeID = new String[X.size()];
					for (int i = 0; i < X.size(); i++) {
						nodeID[i] = node.get(i);
						coordinates[i][0] = X.get(i);
						coordinates[i][1] = Y.get(i);
					}
				}
			} catch (Exception e) {
				System.out.println("FILE NOT FOUND VETRICESCOORDINATES.TXT");
			}
		}
		// third file
		/*
		 * ArrayList<double[]> zones = new ArrayList<double[]>(); { File file =
		 * new File(fileAdd2); try { if (file.exists()) { Scanner input = new
		 * Scanner(file);
		 * 
		 * while (input.hasNext()) { String s = input.nextLine();
		 * 
		 * if (s.split("\t")[0].equals("min") || s.split("\t")[0].equals("max"))
		 * { System.out.println("SIZE " + s.split("\t").length);
		 * ArrayList<Double> a = new ArrayList<Double>();
		 * 
		 * for (int i = 2; i < s.split("\t").length; i++) {
		 * 
		 * if (!s.split("\t")[2].equals("NONE")) {
		 * a.add(Double.parseDouble(s.split("\t")[i])); } else {
		 * 
		 * a.add(new Double(-1)); } } System.out.println("CHECK " + (a.size() +
		 * 2)); double[] aaa = new double[a.size()]; for (int i = 0; i <
		 * a.size(); i++) { aaa[i] = a.get(i); } // System.out.println("HERE6");
		 * zones.add(aaa); }
		 * 
		 * } } } catch (Exception e) {
		 * System.out.println("FILE NOT FOUND zone_limits.TXT " + e); } }
		 */

		paths = new Routes[lengths.length];
		// CREATING INSTANCES OF CLASSS ROUTES
		for (int i = 0; i < lengths.length; i++) {
			Routes a = new Routes();

			if (lengths[i] == 1000) {
				int c = 0;
				double[][] aa = new double[2][2];
				for (int j = 0; j < nodeID.length; j++) {
					if (nodeID[j].equals(vertexStrating[i])) {
						aa[0] = getCoordinate(j);
						++c;
					}
					if (nodeID[j].equals(vertexEnding[i])) {
						aa[1] = getCoordinate(j);
						++c;
					}
					if (c == 2)
						break;
				}
				lengths[i] = Math.sqrt(Math.pow((aa[0][0] - aa[1][0]), 2)
						+ Math.pow((aa[0][1] - aa[1][1]), 2));
			}

			a.setLength(lengths[i]);
			a.setEDGE(names[i]);
			a.setVertexes(vertexStrating[i], vertexEnding[i]);
			a.setRouteIndex(i);

			if (getNodeIndex(vertexEnding[i]) != -1
					&& getNodeIndex(vertexStrating[i]) != -1)
				a.setNodeIndex(getNodeIndex(vertexStrating[i]),
						getNodeIndex(vertexEnding[i]));

			double[][] aa = { getCoordinate(vertexStrating[i]),
					getCoordinate(vertexEnding[i]) };
			a.setVertexesCoordinate(aa);
			paths[i] = a;

		}
		

		zone9X = increaseItOneSize(zone9X);
		zone9Y = increaseItOneSize(zone9Y);
		zone8X = increaseItOneSize(zone8X);
		zone8Y = increaseItOneSize(zone8Y);
		zone7X = increaseItOneSize(zone7X);
		zone7Y = increaseItOneSize(zone7Y);
		zone6X = increaseItOneSize(zone6X);
		zone6Y = increaseItOneSize(zone6Y);
		zone5X = increaseItOneSize(zone5X);
		zone5Y = increaseItOneSize(zone5Y);
		zone4X = increaseItOneSize(zone4X);
		zone4Y = increaseItOneSize(zone4Y);
		zone3X = increaseItOneSize(zone3X);
		zone3Y = increaseItOneSize(zone3Y);
		zone2X = increaseItOneSize(zone2X);
		zone2Y = increaseItOneSize(zone2Y);
		zone1X = increaseItOneSize(zone1X);
		zone1Y = increaseItOneSize(zone1Y);

		coefficients_Zone1 = calculateLinearEquationCoefficient(zone1X, zone1Y,
				true);
		coefficients_Zone2 = calculateLinearEquationCoefficient(zone2X, zone2Y,
				true);
		coefficients_Zone3 = calculateLinearEquationCoefficient(zone3X, zone3Y,
				true);
		coefficients_Zone4 = calculateLinearEquationCoefficient(zone4X, zone4Y,
				true);
		coefficients_Zone5 = calculateLinearEquationCoefficient(zone5X, zone5Y,
				true);
		coefficients_Zone6 = calculateLinearEquationCoefficient(zone6X, zone6Y,
				true);
		coefficients_Zone7 = calculateLinearEquationCoefficient(zone7X, zone7Y,
				true);
		coefficients_Zone8 = calculateLinearEquationCoefficient(zone8X, zone8Y,
				true);
		coefficients_Zone9 = calculateLinearEquationCoefficient(zone9X, zone9Y,
				true);

		zoningNodes();
	}

	private double[] increaseItOneSize(double[] a) {
		double[] x = new double[a.length + 1];
		for (int i = 0; i < x.length; i++) {
			if (i == x.length - 1) {
				x[i] = a[0];
			} else {
				x[i] = a[i];
			}
		}
		return x;
	}

	public int[] getNodeZone(int index) {
		return nodeZone[index];
	}

	private double[][] calculateLinearEquationCoefficient(double[] zoneX,
			double[] zoneY, boolean wasIncresed) {
		double[][] c;
		if (wasIncresed)
			c = new double[zoneX.length - 1][2];
		else
			c = new double[zoneX.length][2];
		for (int i = 0; i < zoneX.length - 1; i++) {
			double[] a = new double[2];
			if (zoneX[i + 1] != zoneX[i]) {
				a[0] = (zoneY[i + 1] - zoneY[i]) / (zoneX[i + 1] - zoneX[i]);
				a[1] = (-1 * zoneX[i] * (zoneY[i + 1] - zoneY[i]) + zoneY[i]
						* (zoneX[i + 1] - zoneX[i]))
						/ (zoneX[i + 1] - zoneX[i]);
			} else {
				a[0] = Double.MAX_VALUE;
				a[1] = zoneX[i];

			}
			c[i] = a;
		}
		return c;
	}

	private boolean isInThisZone(double[][] coefficeint, int index,
			double[] zoneX, double[] zoneY) {
		int crossing = 0;
		for (int j = 0; j < coefficeint.length; j++) {
			if (coefficeint[j][0] != 0) {
				double answer = 0;
				if (coefficeint[j][0] != Double.MAX_VALUE) {
					answer = (-1 * coefficeint[j][1] + coordinates[index][1])
							/ coefficeint[j][0];
				} else {
					answer = zoneX[j];

				}
				/*
				 * if(index ==1492 && zoneX == zone7X)
				 * System.out.println("HERE 7 "
				 * +answer+" "+zoneX[j+1]+" "+zoneX[j
				 * ]+" "+coordinates[index][0]+" "+coordinates[index][1]);
				 * if(index ==1492 && zoneX == zone9X)
				 * System.out.println("HERE 9 "
				 * +answer+" "+zoneX[j+1]+" "+zoneX[j
				 * ]+" "+coordinates[index][0]+" "+coordinates[index][1]);
				 */
				if (((answer <= zoneX[j] && answer >= zoneX[j + 1]) || (answer >= zoneX[j] && answer <= zoneX[j + 1]))
						&& (coordinates[index][0] >= answer)) {
					if (coefficeint[j][0] == Double.MAX_VALUE) {
						if ((coordinates[index][1] <= zoneY[j] && coordinates[index][1] >= zoneY[j + 1])
								|| (coordinates[index][1] >= zoneY[j] && coordinates[index][1] <= zoneY[j + 1])) {
							++crossing;
						}
					} else
						++crossing;
				}
			}
		}
		/*
		 * if(index ==1492) System.out.println("HERE 2 "+crossing);
		 */
		if (crossing % 2 == 1)
			return true;
		else
			return false;
	}

	public void zoningNodes() {
		nodeZone = new int[nodeID.length][2];
		for (int i = 0; i < nodeID.length; i++) {
			if (isInThisZone(coefficients_Zone1, i, zone1X, zone1Y))
				if (nodeZone[i][0] == 0) {
					nodeZone[i][0] = 1;
					nodeZone[i][1] = 1;
				} else {
					nodeZone[i][1] = 1;
				}
			if (isInThisZone(coefficients_Zone2, i, zone2X, zone2Y))
				if (nodeZone[i][0] == 0) {
					nodeZone[i][0] = 2;
					nodeZone[i][1] = 2;
				} else {
					nodeZone[i][1] = 2;
				}
			if (isInThisZone(coefficients_Zone3, i, zone3X, zone3Y))
				if (nodeZone[i][0] == 0) {
					nodeZone[i][0] = 3;
					nodeZone[i][1] = 3;
				} else {
					nodeZone[i][1] = 3;
				}
			if (isInThisZone(coefficients_Zone4, i, zone4X, zone4Y))
				if (nodeZone[i][0] == 0) {
					nodeZone[i][0] = 4;
					nodeZone[i][1] = 4;
				} else {
					nodeZone[i][1] = 4;
				}
			if (isInThisZone(coefficients_Zone5, i, zone5X, zone5Y))
				if (nodeZone[i][0] == 0) {
					nodeZone[i][0] = 5;
					nodeZone[i][1] = 5;
				} else {
					nodeZone[i][1] = 5;
				}
			if (isInThisZone(coefficients_Zone6, i, zone6X, zone6Y))
				if (nodeZone[i][0] == 0) {
					nodeZone[i][0] = 6;
					nodeZone[i][1] = 6;
				} else {
					nodeZone[i][1] = 6;
				}
			if (isInThisZone(coefficients_Zone7, i, zone7X, zone7Y))
				if (nodeZone[i][0] == 0) {
					nodeZone[i][0] = 7;
					nodeZone[i][1] = 7;
				} else {
					nodeZone[i][1] = 7;
				}
			if (isInThisZone(coefficients_Zone8, i, zone8X, zone8Y))
				if (nodeZone[i][0] == 0) {
					nodeZone[i][0] = 8;
					nodeZone[i][1] = 8;
				} else {
					nodeZone[i][1] = 8;
				}
			if (isInThisZone(coefficients_Zone9, i, zone9X, zone9Y))
				if (nodeZone[i][0] == 0) {
					nodeZone[i][0] = 9;
					nodeZone[i][1] = 9;
				} else {
					nodeZone[i][1] = 9;
				}

		}

	}

	/**
	 * RETURN IS IN AN ARRAY OF DOUBLE SIZE 2
	 * 
	 * @param node
	 * @return
	 */
	public double[] getCoordinate(String node) {
		for (int i = 0; i < nodeID.length; i++) {
			if (nodeID[i].equals(node))
				return coordinates[i];
		}
		return null;
	}

	/**
	 * RETURN IS IN AN ARRAY OF DOUBLE SIZE 2
	 * 
	 * @param index
	 * @return
	 */
	public double[] getCoordinate(int index) {
		return coordinates[index];
	}

	public int getNodeIndex(String node) {
		for (int i = 0; i < nodeID.length; i++) {
			if (nodeID[i].equals(node))
				return i;
		}
		return -1;
	}
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655370636</Id>
			<Name><![CDATA[Routes]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[import java.util.*;

public class Routes {
	private String edge;
	private boolean isPassed;
	// DIRECTION IS A BOOLEAN VARIABLE WHICH IS TRUE IF THE VEHICLE MOVES FROM
	// THE STARTING VERTICE TO THE ENDING Vertexes
	private boolean direction;
	private double length;
	private int routeIndex;
	private String[] vertexes = new String[2];
	private String[] correspondingTerminalNodes;
	private double[] terminalNodeContribution;
	private int[] vertexesIndex = new int[2];
	private ArrayList<String[]> routesAtEachVertice = new ArrayList<String[]>(2);
	private ArrayList<int[]> routesIndicesAtEachVertex = new ArrayList<int[]>(2);
	// X and Y coordinate of Vertexes
	private double[][] vertexesCoordinate = new double[2][2];
	private boolean[] nodeIsMarked = new boolean[2];

	public Routes copyOf() {
		Routes a = new Routes();
		a.terminalNodeContribution = Arrays.copyOf(
				this.terminalNodeContribution,
				this.terminalNodeContribution.length);
		a.edge = this.edge;
		a.isPassed = false;
		a.nodeIsMarked = Arrays.copyOf(nodeIsMarked, nodeIsMarked.length);
		a.length = this.length;
		a.routeIndex = this.routeIndex;
		a.vertexes = Arrays.copyOf(vertexes, vertexes.length);

		if (correspondingTerminalNodes != null)
			a.correspondingTerminalNodes = Arrays.copyOf(
					correspondingTerminalNodes,
					correspondingTerminalNodes.length);

		a.vertexesIndex = Arrays.copyOf(vertexesIndex, vertexesIndex.length);

		ArrayList<String[]> aa = new ArrayList<String[]>();
		aa.add(Arrays.copyOf(this.routesAtEachVertice.get(0),
				this.routesAtEachVertice.get(0).length));
		aa.add(Arrays.copyOf(this.routesAtEachVertice.get(1),
				this.routesAtEachVertice.get(1).length));
		a.routesAtEachVertice = aa;

		ArrayList<int[]> bb = new ArrayList<int[]>();
		bb.add(Arrays.copyOf(this.routesIndicesAtEachVertex.get(0),
				this.routesIndicesAtEachVertex.get(0).length));
		bb.add(Arrays.copyOf(this.routesIndicesAtEachVertex.get(1),
				this.routesIndicesAtEachVertex.get(1).length));
		a.routesIndicesAtEachVertex = bb;

		a.vertexesCoordinate = Arrays.copyOf(vertexesCoordinate,
				vertexesCoordinate.length);
		return a;
	}

	public void setTerminalNodeContributions(double[] contributions) {
		this.terminalNodeContribution = Arrays.copyOf(contributions,
				contributions.length);
	}

	public void setTerminalNodes(String[] names, double[] contributions) {
		this.correspondingTerminalNodes = Arrays.copyOf(names, names.length);
		this.terminalNodeContribution = Arrays.copyOf(contributions,
				contributions.length);
	}

	public double getTerminalNodeContribution(String name) {
		for (int i = 0; i < correspondingTerminalNodes.length; i++) {
			if (correspondingTerminalNodes[i].equals(name))
				return this.terminalNodeContribution[i];
		}
		new Exception("Erorr in name of node as an input");
		System.exit(-1);
		return -1;
	}

	public double[] getTerminalNodesContributions() {
		return this.terminalNodeContribution;
	}

	public double[][] getVertexesCoordinate() {
		return vertexesCoordinate;
	}

	public boolean[] getMarkedNode() {
		return nodeIsMarked;
	}

	public boolean getMarkedNode(int index) {
		return nodeIsMarked[index];
	}

	public void markNode(String nodeName) {
		if (!nodeName.equals(this.vertexes[0])
				&& !nodeName.equals(this.vertexes[1])) {
			System.out.println("INCONSISTENCY");
			System.exit(-1);
		}
		if (nodeName.equals(this.getVertexes()[0])) {
			this.nodeIsMarked[0] = true;
		} else {
			this.nodeIsMarked[1] = true;
		}
	}

	public void markNode(int index) {
		nodeIsMarked[index] = true;
	}

	public void setVertexesCoordinate(double[][] coord) {
		vertexesCoordinate = Arrays.copyOf(coord, coord.length);
	}

	/**
	 * DIRECTION IS A BOOLEAN VARIABLE WHICH IS TRUE IF THE VEHICLE MOVES FROM
	 * THE STARTING VERTICE TO THE ENDING vertexes
	 * 
	 * @return
	 */

	public boolean getDirection() {
		return direction;
	}

	/**
	 * DIRECTION IS A BOOLEAN VARIABLE WHICH IS TRUE IF THE VEHICLE MOVES FROM
	 * THE STARTING VERTICE TO THE ENDING Vertexes THIS METHOD SETS AND GETS
	 * DIRECTION AT THE SAME TIME
	 * 
	 * @param enteringVertice
	 * @return
	 */
	public boolean setAndGetDirection(String enteringVertex) {
		if (enteringVertex.equals(vertexes[0])) {
			direction = true;
			return true;
		} else {
			direction = false;
			return false;
		}
	}

	/**
	 * DIRECTION IS A BOOLEAN VARIABLE WHICH IS TRUE IF THE VEHICLE MOVES FROM
	 * THE STARTING VERTICE TO THE ENDING Vertexes THIS METHOD SETS AND GETS
	 * DIRECTION AT THE SAME TIME Should be zero or one.
	 * 
	 * @param verticeCode
	 * @return
	 */
	public boolean setAndGetDirection(int vertexCode) {
		if (vertexCode == 0) {
			direction = true;
			return true;
		} else {
			direction = false;
			return false;
		}
	}

	public void setIsPassed(boolean isPassed) {
		this.isPassed = isPassed;
	}

	/**
	 * INDEX SHOULD BE ZERO OR ONE ZERO FOR STATING VERTICE AND ONE FOR ENDING
	 * VERTICE
	 * 
	 * @param index
	 * @return
	 */
	public double getXCoordinate(int index) {
		return vertexesCoordinate[index][0];
	}

	/**
	 * INDEX SHOULD BE ZERO OR ONE ZERO FOR STATING VERTICE AND ONE FOR ENDING
	 * VERTICE
	 * 
	 * @param index
	 * @return
	 */
	public void setXCoordinate(int index, double x) {
		vertexesCoordinate[index][0] = x;
	}

	/**
	 * INDEX SHOULD BE ZERO OR ONE ZERO FOR STATING VERTICE AND ONE FOR ENDING
	 * VERTICE
	 * 
	 * @param index
	 * @return
	 */
	public void setYCoordinate(int index, double y) {
		vertexesCoordinate[index][1] = y;
	}

	/**
	 * INDEX SHOULD BE ZERO OR ONE ZERO FOR STATING VERTICE AND ONE FOR ENDING
	 * VERTICE
	 * 
	 * @param index
	 * @return
	 */
	public double getYCoordinate(int index) {
		return vertexesCoordinate[index][1];
	}

	public void setEDGE(String id) {
		this.edge = id;
	}

	public void setIsPassed() {
		isPassed = true;
	}

	/**
	 * MAKE ISPASSED VARIABLE TO TRUE
	 */
	public void resetIsPassed() {
		isPassed = false;
	}

	public void setLength(double length) {
		this.length = length;
	}

	public void setRouteIndex(int index) {
		this.routeIndex = index;
	}

	public void setRouteIDAndIndex(String id, int index) {
		this.routeIndex = index;
		this.edge = id;
	}

	public void setVertexes(String ver1, String ver2) {
		this.vertexes[0] = ver1;
		this.vertexes[1] = ver2;
	}

	public void setAdjointTerminaNodes(String[] name) {
		this.correspondingTerminalNodes = name;
	}

	public void setNodeIndex(int indexNode1, int indexNode2) {
		this.vertexesIndex[0] = indexNode1;
		this.vertexesIndex[1] = indexNode2;
	}

	public void setRoutesAtEachVertexes(String[] routes, String vertice) {
		if (!vertice.equals(vertexes[0]) && !vertice.equals(vertexes[1])) {
			System.out.println("ERROR IN VERTICE NAME");
			System.exit(-1);
		}
		if (vertice.equals(vertexes[0])) {
			routesAtEachVertice.add(0, routes);
		} else {
			routesAtEachVertice.add(1, routes);
		}
	}

	public void setRoutesIndicesAtEachVertexes(int[] routes, String vertex) {
		if (!vertex.equals(vertexes[0]) && !vertex.equals(vertexes[1])) {
			System.out.println("ERROR IN VERTICE NAME");
			System.exit(-1);
		}
		routes = Arrays.copyOf(routes, routes.length);
		if (vertex.equals(vertexes[0])) {
			routesIndicesAtEachVertex.add(0, routes);
		} else {
			routesIndicesAtEachVertex.add(1, routes);
		}
	}

	public String getID() {
		return edge;
	}

	public int getRouteIndex() {
		return routeIndex;
	}

	public boolean getIsPassed() {
		return isPassed;
	}

	public String[] getVertexes() {
		return vertexes;
	}

	public String[] getTerminalNodes() {
		return correspondingTerminalNodes;
	}

	public int getVertexesIndex(String vertex) {
		if (!vertex.equals(vertexes[0]) && !vertex.equals(vertexes[1])) {
			System.out.println("ERROR IN VERTICE NAME");
			System.exit(-2);
		}
		if (vertex.equals(vertexes[0])) {
			return vertexesIndex[0];
		} else {
			return vertexesIndex[1];
		}
	}

	/**
	 * 
	 * @param vertex
	 *            , Zero and One only
	 * @return
	 */
	public int getVertexesIndex(int vertex) {
		if (vertex == 0) {
			return vertexesIndex[0];
		} else {
			return vertexesIndex[1];
		}
	}

	/**
	 * VERTICE CODE IS 0 FOR STARTING VERTICE AND ZERO FOR ENDING VERTICE
	 * 
	 * @param verticeCode
	 * @return
	 */
	public String[] getRoutesAtEachVertex(int verticeCode) {
		if (verticeCode != 0 && verticeCode != 1) {
			System.out.println("ERROR IN VERTICE CODE");
			System.exit(-2);
		}

		if (verticeCode == 0) {
			return routesAtEachVertice.get(0);
		} else {
			return routesAtEachVertice.get(1);
		}
	}

	/**
	 * VERTICE CODE IS 0 FOR STARTING VERTICE AND ZERO FOR ENDING VERTICE
	 * 
	 * @param verticeCode
	 * @return
	 */
	public int[] getRoutesIndicesAtEachVertex(int verticeCode) {
		if (verticeCode != 0 && verticeCode != 1) {
			System.out.println("ERROR IN VERTICE CODE");
			System.exit(-2);
		}

		if (verticeCode == 0) {
			return routesIndicesAtEachVertex.get(0);
		} else {
			return routesIndicesAtEachVertex.get(1);
		}
	}

	public String[] getRoutesAtEachVertex(String vertice) {
		if (!vertice.equals(vertexes[0]) && !vertice.equals(vertexes[1])) {
			System.out.println("ERROR IN VERTICE NAME");
			System.exit(-2);
		}
		if (vertice.equals(vertexes[0])) {
			return routesAtEachVertice.get(0);
		} else {
			return routesAtEachVertice.get(1);
		}
	}

	public int[] getRoutesIndicesAtEachVertex(String vertice) {
		if (!vertice.equals(vertexes[0]) && !vertice.equals(vertexes[1])) {
			System.out.println("ERROR IN VERTICE NAME");
			System.exit(-2);
		}
		if (vertice.equals(vertexes[0])) {
			return routesIndicesAtEachVertex.get(0);
		} else {
			return routesIndicesAtEachVertex.get(1);
		}
	}

	public double getLength() {
		return length;
	}
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655370642</Id>
			<Name><![CDATA[Vehicle]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[import java.util.ArrayList;
import java.util.Arrays;

public class Vehicle extends GraphBuilder {
	private String[] path;
	private double[] length;
	private double[] time;
	private Routes[] routes;
	private double[][] terminalNodesContribution;
	private double timeStep = 60;// Minutes

	public String[] getPath() {
		return Arrays.copyOf(path, path.length);
	}

	public Routes[] getRoutes() {
		return routes;
	}

	public void setRoutes(Routes[] routes) {
		this.routes = new Routes[routes.length];
		for (int i = 0; i < routes.length; i++) {
			this.routes[i] = routes[i].copyOf();
		}
	}

	public double[] getPassedLength() {
		return length;
	}

	public double passedDistance(double time) {
		int seed = 0;
		for (int i = 0; i < this.time.length; i++) {
			if (time >= this.time[i]) {
				seed = i;
				break;
			}
		}
		double passed = 0;
		for (int i = 0; i < seed; i++) {
			passed += length[i];
		}
		return passed;
	}

	/**
	 * THE PATH IS THE LIST OF LINES THAT A VEHICLE HAS PASSED IN A TRAVEL,
	 * INDEX IS THE ORDER OF THE LINE
	 * 
	 * @param id
	 */
	public void setPath(String id, int index) {
		path[index] = id;
	}

	/**
	 * THE PATH IS THE LIST OF LINES THAT A VEHICLE HAS PASSED IN A TRAVEL
	 * 
	 * @param id
	 */
	public void setPath(String[] id) {
		path = id;
	}
	public double[][] getTerminalNodesContribution() {

		return terminalNodesContribution;
	}
	/**
	 * THIS METHOD TAKES LENGTH AND CALCULATES ASSOSICATED TIMES BASED ON
	 * EQUATION # 2 HAUSNER, THEN IT SET THE TIMES AS WELL
	 * 
	 * @param lengths
	 */
	public void setLength(double[] lengths) {
		this.length = lengths;
		double[] a = new double[lengths.length];
		for (int i = 0; i < lengths.length; i++) {
			if (i == 0)
				a[i] =  lengths[i] /(10*88); // speed is 2 miles per hour 
			else
				a[i] = a[i - 1] +  lengths[i] /(10*88); // speed is 2 miles per hour 
		//	if (i == 0)
		//		a[i] = (0.51 + 1.74 * lengths[i] * 0.000189393939) * 1.0;
		//	else
		//		a[i] = a[i - 1] + (.51 + 1.74 * lengths[i] * 0.000189393939)
			//			* 1.0;
			 //System.out.println(a[i] + " " + lengths[i]);
		}
		setTime(a);
	}

	/**
	 * THE TIME IS THE TIME WHEN A VEHICLE IS LEAVING A CORRESPONDENT LINE
	 * 
	 * @param time
	 * @param index
	 */
	public void setTime(double time, int index) {
		double[] a = new double[path.length];
		for (int i = 0; i < a.length - 1; i++) {
			a[i] = this.time[i];
		}
		a[a.length - 1] = time;
		this.time = a;
	}

	public void setTime(double[] time) {
		this.time = time;
	}

	public void setTerminalNodesContribution(double[][] node) {

		terminalNodesContribution = Arrays.copyOf(node, node.length);
	}

	public String getPathMember(int index) {
		return path[index];
	}

	public double getTime(String id) {
		for (int i = 0; i < this.path.length; i++) {
			if (this.path[i].equals(id)) {
				return time[i];
			}
		}
		return -1;
	}

	public double[] getTime() {
		return time;
	}

	public double[] nodeEffectedPercentage(double time) {
		double[] p = new double[terminalNodesContribution[0].length];
		double[] p_MAX = new double[terminalNodesContribution[0].length];
		for (int i = 0; i < routes.length; i++) {
			for (int j = 0; j < terminalNodesContribution[0].length; j++) {
				p[j] += terminalNodesContribution[i][j];
				if (terminalNodesContribution[i][j] > p_MAX[j]) {
					p_MAX[j] = terminalNodesContribution[i][j];
				}
			}
			for (int h = 0; h < this.time.length; h++) {
				if (time <= this.time[h]) {
					for (int k = 0; k < p.length; k++) {
						p[k] = p[k] / (i + 1);

						p_MAX[k] = Math.floor((p_MAX[k] * 100)) / 100;
						p[k] = Math.floor((p[k] * 100)) / 100;
						if (p[k] < p_MAX[k])
							p[k] = p_MAX[k];
						if (p[k] < 0.01) {
							p[k] = 0;
						}
					}
					//System.out.println("FROM HERE");
					return p;
				}
			}

		}
		for (int i = 0; i < p.length; i++) {
			p[i] = p[i] / routes.length;
			p[i] = Math.floor(( p[i] * 100)) / 100;
			p_MAX[i] = Math.floor((p_MAX[i] * 100)) / 100;
			if (p[i] < p_MAX[i])
				p[i] = p_MAX[i];
			

		}

		return p;
	}
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655387730</Id>
			<Name><![CDATA[AbstractMath]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[
public abstract class AbstractMath extends Object {
	protected AbstractMath() {
	}
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655387749</Id>
			<Name><![CDATA[BetaDistribution]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[
//import Math.SpecialMath;

       /**
06:         * The BetaDistribution class provides an object for encapsulating beta distributions.
07:         * @version 1.0
08:         * @author Jaco van Kooten
09:         */
       public final class BetaDistribution extends ProbabilityDistribution {
            private double p, q;

           /**
14:             * Constructs a beta distribution.
15:             * @param dgrP degrees of freedom p.
16:             * @param dgrQ degrees of freedom q.
17:             */
           public BetaDistribution(double dgrP, double dgrQ) {
                if (dgrP <= 0 || dgrQ <= 0)
                    throw new ExceptionInInitializerError(
                            "The degrees of freedom must be greater than zero.");
                p = dgrP;
                q = dgrQ;
            }
           /**
27:             * Returns the degrees of freedom p.
28:             */
            public double getDegreesOfFreedomP() {
                return p;
            }

            /**
34:             * Returns the degrees of freedom q.
35:             */
           public double getDegreesOfFreedomQ() {
                return q;
            }

            /**
41:             * Probability density function of a beta distribution.
42:             * @return the probability that a stochastic variable x has the value X, i.e. P(x=X).
             */
            public double probability(double X) {
               checkRange(X);
                if (X == 0.0 || X == 1.0)
                    return 0.0;
                return Math.exp(-SpecialMath.logBeta(p, q) + (p - 1.0)
                       * Math.log(X) + (q - 1.0) * Math.log(1.0 - X));
            }

            /**
53:             * Cumulative beta distribution function.
54:             * @return the probability that a stochastic variable x is less then X, i.e. P(x&lt;X).
             */
           public double cumulative(double X) {
                checkRange(X);
                return SpecialMath.incompleteBeta(X, p, q);
            }

            /**
62:             * Inverse of the cumulative beta distribution function.
             * @return the value X for which P(x&lt;X).
             */
            public double inverse(double probability) {
                checkRange(probability);
                if (probability == 0.0)
                    return 0.0;
                if (probability == 1.0)
                    return 1.0;
                return findRoot(probability, 0.5, 0.0, 1.0);
            }
        }]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655387753</Id>
			<Name><![CDATA[NumericalConstants]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[

public interface NumericalConstants {
	/**
	 * 10: * Square root of 2. 11:
	 */
	double SQRT2 = 1.4142135623730950488016887242096980785696718753769;
	/**
	 * 14: * Two times <img border=0 alt="pi" src="doc-files/pi.gif">. 15: *
	 * @jsci.planetmath Pi 16:
	 */
	double TWO_PI = 6.2831853071795864769252867665590057683943387987502;
	/**
	 * 19: * Square root of 2<img border=0 alt="pi" src="doc-files/pi.gif">. 20:
	 */
	double SQRT2PI = 2.5066282746310005024157652848110452530069867406099;
	/**
	 * 23: * Natural logarithm of 10. 24:
	 */
	double LOG10 = 2.30258509299404568401799145468436420760110148862877;
	/**
	 * 27: * Euler's gamma constant. 28: * @jsci.planetmath EulersConstant 29:
	 */
	double GAMMA = 0.57721566490153286060651209008240243104215933593992;
	/**
	 * 32: * Golden ratio.
	 * 
	 * @jsci.planetmath GoldenRatio
	 */
	double GOLDEN_RATIO = 1.6180339887498948482045868343656381177203091798058;
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1298655387756</Id>
			<Name><![CDATA[ProbabilityDistribution]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[
/**
04:         * The ProbabilityDistribution superclass provides an object for encapsulating probability distributions.
05:         * @version 1.0
06:         * @author Jaco van Kooten
07:         */
        public abstract class ProbabilityDistribution extends Object {
            /**
10:             * Constructs a probability distribution.
11:             */
            public ProbabilityDistribution() {
            }

            /**
16:             * Probability density function.
17:             * @return the probability that a stochastic variable x has the value X, i.e. P(x=X).
18:             */
            public abstract double probability(double X);

            /**
22:             * Cumulative distribution function.
23:             * @return the probability that a stochastic variable x is less then X, i.e. P(x&lt;X).
24:             */
            public abstract double cumulative(double X);

            /**
28:             * Inverse of the cumulative distribution function.
29:             * @return the value X for which P(x&lt;X).
30:             */
            public abstract double inverse(double probability);

            /**
34:             * Check if the range of the argument of the distribution method is between <code>lo</code> and <code>hi</code>.
35:             * @exception OutOfRangeException If the argument is out of range.
36:             */
            protected final void checkRange(double x, double lo, double hi) {
                if (x < lo || x > hi)
                    throw new ExceptionInInitializerError(
                            "The argument of the distribution method should be between "
                                    + lo + " and " + hi + ".");
            }

            /**
45:             * Check if the range of the argument of the distribution method is between 0.0 and 1.0.
46:             * @exception OutOfRangeException If the argument is out of range.
47:             */
            protected final void checkRange(double x) {
                if (x < 0.0 || x > 1.0)
                    throw new ExceptionInInitializerError(
                            "The argument of the distribution method should be between 0.0 and 1.0.");
            }

            private static final double FINDROOT_ACCURACY = 1.0e-15;
            private static final int FINDROOT_MAX_ITERATIONS = 150;

            /**
58:             * This method approximates the value of X for which P(x&lt;X)=<I>prob</I>.
59:             * It applies a combination of a Newton-Raphson procedure and bisection method
60:             * with the value <I>guess</I> as a starting point. Furthermore, to ensure convergency
61:             * and stability, one should supply an inverval [<I>xLo</I>,<I>xHi</I>] in which the probalility
62:             * distribution reaches the value <I>prob</I>. The method does no checking, it will produce
63:             * bad results if wrong values for the parameters are supplied - use it with care.
64:             */
            protected final double findRoot(double prob, double guess,
                    double xLo, double xHi) {
               double x = guess, xNew = guess;
                double error, pdf, dx = 1.0;
                int i = 0;
                while (Math.abs(dx) > FINDROOT_ACCURACY
                        && i++ < FINDROOT_MAX_ITERATIONS) {
                    // Apply Newton-Raphson step
                    error = cumulative(x) - prob;
                    if (error < 0.0)
                        xLo = x;
                    else
                        xHi = x;
                    pdf = probability(x);
                    if (pdf != 0.0) { // Avoid division by zero
                        dx = error / pdf;
                        xNew = x - dx;
                    }
                    // If the Newton-Raphson fails to converge (which for example may be the
                    // case if the initial guess is to rough) we apply a bisection
                    // step to determine a more narrow interval around the root.
                    if (xNew < xLo || xNew > xHi || pdf == 0.0) {
                        xNew = (xLo + xHi) / 2.0;
                        dx = xNew - x;
                    }
                    x = xNew;
                }
                return x;
            }
       }]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1306882834810</Id>
			<Name><![CDATA[ProblemInformation_WDS_ABM]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[/**
 * ProblemInformation_WDS_ABM
 */	
public class ProblemInformation_WDS_ABM  {



	public static double[] result1 = {
			0.367893078,	0.350484547,	0.451704464,	0.481466083,	0.64155751,	0.602691785	,0.746939457,	0.671296021,	0.481809954,	0.22231999	
	};
	public static double[] result2 = {
			0.329590542,	0.347048539,	0.346526958,	0.229956451,	0.331250769,	0.313654573	,0.52224933,	0.741466763,	0.510064949,	0.495149622

	
	};
	public static double[] result3 = {
			0.562980407	,0.771459614,	0.577733335,	0.557277843,	0.632341825,	0.699718941,	0.655348951,	0.675420833,	0.545972599,	0.350421841

	
	};
	public static double[] result4 = {
			0.347983223	,0.360002093,	0.162690796,	0.269608925,	0.309881702	,0.440250362	,0.47337117,	0.668591731,	0.550523167,	0.494130862

	
	};
	public static double[] result5 = {
			0.329581267	,0.347394225,	0.346162076,	0.230183889,	0.332611432,	0.313024887,	0.522462009,	0.741384087,	0.510146558,	0.495041612

	
	};
	public static int[] zone ={
			
			828	,
			1201	,
			1202	,
			1203	,
			1204	,
			1205	,
			1206	,
			1207	,
			1208	,
			1209	,
			1210	,
			1211	,
			1212	,
			1213	,
			1214	,
			1215	,
			1216	,
			1217	,
			1218	,
			1219	,
			1220	,
			1221	,
			1223	,
			1224	,
			1225	,
			1226	,
			1228	,
			1551	,
			1552	,
			1553	,
			1554	,
			1555	,
			1580	,
			1581	,
			1582	
,
		801	,
		802	,
		803	,
		804	,
		805	,
		806	,
		807	,
		808	,
		809	,
		810	,
		811	,
		812	,
		813	,
		814	,
		815	,
		816	,
		817	,
		818	,
		819	,
		820	,
		821	,
		822	,
		823	,
		824	,
		825	,
		826	,
		827	,
		829	,
		830	,
		831	,
		832	,
		833	,
		834	,
		835	,
		836	,
		837	,
		838	,
		839	,
		840	,
		841	,
		842	,
		843	,
		844	,
		845	,
		846	,
		847	,
		848	,
		849	,
		850	,
		851	,
		852	,
		853	,
		854	,
		855	,
		856	,
		857	,
		858	,
		859	,
		860	,
		861	,
		862	,
		863	,
		864	,
		865	,
		866	,
		867	,
		868	,
		869	,
		870	,
		871	,
		872	,
		873	,
		874	,
		875	,
		876	,
		877	,
		878	,
		879	,
		880	,
		881	,
		882	,
		883	,
		884	,
		885	,
		886	,
		887	,
		888	,
		889	,
		890	,
		891	,
		892	,
		893	,
		894	,
		895	,
		896	,
		897	,
		898	,
		899	,
		900	,
		901	,
		902	,
		903	,
		904	,
		905	,
		906	,
		907	,
		908	,
		922	,
		923	,
		924	,
		925	,
		926	,
		927	,
		928	,
		929	,
		930	,
		931	,
		932	,
		933	,
		934	,
		935	,
		936	,
		937	,
		938	,
		939	,
		940	,
		941	,
		942	,
		944	,
		945	,
		946	,
		947	,
		948	,
		949	,
		950	,
		951	,
		952	,
		953	,
		954	,
		955	,
		956	,
		957	,
		958	,
		959	,
		960	,
		961	,
		962	,
		1227	,
		1258	,
		1259	,
		1260	,
		1261	,
		1262	,
		1263	,
		1264	,
		1265	,
		1266	,
		1267	,
		1268	,
		1269	,
		1270	,
		1271	,
		1272	,
		1273	,
		1274	,
		1275	,
		1276	,
		1277	,
		1278	,
		1279	,
		1280	,
		1281	,
		1282	,
		1283	,
		1284	,
		1285	,
		1286	,
		1287	,
		1288	,
		1289	,
		1290	,
		1291	,
		1292	,
		1293	,
		1294	,
		1295	,
		1296	,
		1297	,
		1298	,
		1299	,
		1300	,
		1301	,
		1302	,
		1303	,
		1304	,
		1305	,
		1306	,
		1307	,
		1308	,
		1309	,
		1310	,
		1311	,
		1516	,
		1517	,
		1533	,
		1534	,
		1538	,
		1539	,
		1557	,
		1558	,
		1559	
,
		0	,
		1	,
		2	,
		4	,
		5	,
		8	,
		9	,
		10	,
		19	,
		20	,
		21	,
		22	,
		23	,
		24	,
		25	,
		27	,
		28	,
		75	,
		76	,
		102	,
		103	,
		104	,
		105	,
		106	,
		107	,
		108	,
		109	,
		110	,
		111	,
		112	,
		113	,
		114	,
		115	,
		116	,
		117	,
		118	,
		119	,
		120	,
		121	,
		122	,
		909	,
		910	,
		911	,
		912	,
		913	,
		914	,
		915	,
		916	,
		917	,
		918	,
		919	,
		920	,
		921	,
		943	,
		963	,
		964	,
		965	,
		966	,
		967	,
		968	,
		969	,
		970	,
		971	,
		972	,
		973	,
		974	,
		975	,
		976	,
		977	,
		978	,
		979	,
		980	,
		981	,
		982	,
		983	,
		984	,
		985	,
		986	,
		987	,
		988	,
		989	,
		990	,
		991	,
		992	,
		993	,
		994	,
		995	,
		996	,
		997	,
		998	,
		999	,
		1000	,
		1001	,
		1002	,
		1003	,
		1004	,
		1005	,
		1006	,
		1007	,
		1556	,
		1560	,
		1561	
,
		6	,
		7	,
		26	,
		29	,
		30	,
		31	,
		32	,
		33	,
		34	,
		35	,
		36	,
		37	,
		38	,
		39	,
		40	,
		88	,
		89	,
		90	,
		91	,
		92	,
		93	,
		94	,
		95	,
		96	,
		97	,
		98	,
		99	,
		100	,
		101	,
		123	,
		137	,
		138	,
		141	,
		142	,
		143	,
		144	,
		145	,
		146	,
		155	,
		156	,
		157	,
		170	,
		171	,
		172	,
		174	,
		177	,
		178	,
		179	,
		180	,
		1525	,
		1541	,
		1542	
	,
		139	,
		140	,
		147	,
		148	,
		149	,
		150	,
		151	,
		152	,
		153	,
		154	,
		158	,
		159	,
		160	,
		161	,
		162	,
		163	,
		164	,
		165	,
		166	,
		167	,
		168	,
		169	,
		173	,
		175	,
		176	,
		216	,
		217	,
		218	,
		219	,
		220	,
		221	,
		222	,
		223	,
		224	,
		225	,
		226	,
		227	,
		228	,
		229	,
		230	,
		231	,
		232	,
		233	,
		234	,
		235	,
		236	,
		237	,
		238	,
		239	,
		240	,
		241	,
		242	,
		243	,
		244	,
		245	,
		246	,
		247	,
		248	,
		249	,
		250	,
		251	,
		252	,
		253	,
		254	,
		255	,
		256	,
		257	,
		258	,
		259	,
		260	,
		261	,
		262	,
		263	,
		264	,
		265	,
		266	,
		267	,
		268	,
		269	,
		270	,
		271	,
		272	,
		273	,
		274	,
		275	,
		276	,
		277	,
		278	,
		279	,
		280	,
		348	,
		1535	,
		1536	,
		1585	
	,
		349	,
		350	,
		351	,
		352	,
		353	,
		354	,
		355	,
		356	,
		357	,
		358	,
		359	,
		360	,
		361	,
		362	,
		363	,
		364	,
		365	,
		366	,
		367	,
		368	,
		369	,
		370	,
		371	,
		372	,
		373	,
		374	,
		375	,
		376	,
		377	,
		378	,
		379	,
		380	,
		381	,
		382	,
		383	,
		384	,
		385	,
		386	,
		387	,
		388	,
		389	,
		390	,
		391	,
		392	,
		393	,
		394	,
		395	,
		396	,
		397	,
		398	,
		399	,
		401	,
		402	,
		403	,
		407	,
		408	,
		409	,
		410	,
		411	,
		412	,
		413	,
		414	,
		415	,
		419	,
		420	,
		421	,
		424	,
		425	,
		426	,
		429	,
		430	,
		431	,
		432	,
		433	,
		434	,
		435	,
		436	,
		437	,
		438	,
		439	,
		440	,
		441	,
		442	,
		443	,
		444	,
		445	,
		446	,
		447	,
		448	,
		449	,
		450	,
		451	,
		452	,
		454	,
		458	,
		459	,
		460	,
		461	,
		574	,
		643	,
		645	,
		1451	,
		1452	,
		1453	,
		1454	,
		1455	,
		1456	,
		1457	,
		1458	,
		1459	,
		1460	,
		1461	,
		1462	,
		1463	,
		1464	,
		1465	,
		1466	,
		1467	,
		1468	,
		1469	,
		1470	,
		1471	,
		1472	,
		1473	,
		1474	,
		1475	,
		1476	,
		1477	,
		1543	,
		1544	,
		1563	,
		1564	,
		1565	,
		1566	,
		1567	,
		1568	,
		400	,
		404	,
		405	,
		416	,
		417	,
		418	,
		422	,
		423	,
		427	,
		428	,
		453	,
		456	,
		457	,
		532	,
		533	,
		534	,
		535	,
		536	,
		537	,
		538	,
		539	,
		540	,
		541	,
		542	,
		543	,
		544	,
		545	,
		546	,
		547	,
		548	,
		549	,
		550	,
		551	,
		552	,
		553	,
		554	,
		555	,
		556	,
		557	,
		558	,
		559	,
		560	,
		561	,
		562	,
		563	,
		564	,
		565	,
		566	,
		567	,
		568	,
		569	,
		570	,
		571	,
		572	,
		573	,
		575	,
		576	,
		577	,
		578	,
		579	,
		580	,
		581	,
		582	,
		583	,
		584	,
		585	,
		586	,
		587	,
		588	,
		589	,
		590	,
		591	,
		592	,
		593	,
		594	,
		595	,
		596	,
		597	,
		598	,
		599	,
		600	,
		601	,
		602	,
		603	,
		604	,
		605	,
		606	,
		607	,
		608	,
		609	,
		610	,
		611	,
		612	,
		613	,
		614	,
		615	,
		616	,
		617	,
		618	,
		619	,
		620	,
		621	,
		622	,
		623	,
		624	,
		625	,
		626	,
		627	,
		628	,
		629	,
		630	,
		631	,
		632	,
		633	,
		634	,
		635	,
		636	,
		640	,
		641	,
		642	,
		644	,
		775	,
		795	,
		796	,
		797	,
		1518	,
		1522	,
		1527	,
		1528	,
		1529	,
		1530	,
		1531	,
		1532	,
		1545	,
		1562	,
		1569	,
		1583	

		
,
		406	,
		455	,
		637	,
		638	,
		639	,
		760	,
		761	,
		762	,
		763	,
		764	,
		765	,
		766	,
		767	,
		768	,
		769	,
		770	,
		771	,
		772	,
		773	,
		774	,
		798	,
		799	,
		800	,
		1354	,
		1355	,
		1356	,
		1357	,
		1358	,
		1359	,
		1360	,
		1361	,
		1362	,
		1363	,
		1364	,
		1365	,
		1366	,
		1367	,
		1368	,
		1369	,
		1370	,
		1371	,
		1372	,
		1373	,
		1374	,
		1375	,
		1376	,
		1377	,
		1378	,
		1379	,
		1380	,
		1381	,
		1382	,
		1383	,
		1384	,
		1385	,
		1386	,
		1387	,
		1388	,
		1389	,
		1390	,
		1391	,
		1392	,
		1393	,
		1394	,
		1395	,
		1396	,
		1397	,
		1398	,
		1399	,
		1448	,
		1449	,
		1450	,
		1504	,
		1505	,
		1506	,
		1507	,
		1508	,
		1509	,
		1510	,
		1511	,
		1512	,
		1513	,
		1514	,
		1519	,
		1520	,
		1523	,
		1524	,
		1526	,
		1537	,
		1540	,
		1546	,
		1570	,
		1571	,
		1572	,
		1573	,
		1574	,
		1575	,
		1576	,
		1577	,
		1578	,
		1579	,
		1584	

};

	public  static int[]  zone2and1 = {
		
		828	,
		1201	,
		1202	,
		1203	,
		1204	,
		1205	,
		1206	,
		1207	,
		1208	,
		1209	,
		1210	,
		1211	,
		1212	,
		1213	,
		1214	,
		1215	,
		1216	,
		1217	,
		1218	,
		1219	,
		1220	,
		1221	,
		1223	,
		1224	,
		1225	,
		1226	,
		1228	,
		1551	,
		1552	,
		1553	,
		1554	,
		1555	,
		1580	,
		1581	,
		1582,
		801	,
		802	,
		803	,
		804	,
		805	,
		806	,
		807	,
		808	,
		809	,
		810	,
		811	,
		812	,
		813	,
		814	,
		815	,
		816	,
		817	,
		818	,
		819	,
		820	,
		821	,
		822	,
		823	,
		824	,
		825	,
		826	,
		827	,
		829	,
		830	,
		831	,
		832	,
		833	,
		834	,
		835	,
		836	,
		837	,
		838	,
		839	,
		840	,
		841	,
		842	,
		843	,
		844	,
		845	,
		846	,
		847	,
		848	,
		849	,
		850	,
		851	,
		852	,
		853	,
		854	,
		855	,
		856	,
		857	,
		858	,
		859	,
		860	,
		861	,
		862	,
		863	,
		864	,
		865	,
		866	,
		867	,
		868	,
		869	,
		870	,
		871	,
		872	,
		873	,
		874	,
		875	,
		876	,
		877	,
		878	,
		879	,
		880	,
		881	,
		882	,
		883	,
		884	,
		885	,
		886	,
		887	,
		888	,
		889	,
		890	,
		891	,
		892	,
		893	,
		894	,
		895	,
		896	,
		897	,
		898	,
		899	,
		900	,
		901	,
		902	,
		903	,
		904	,
		905	,
		906	,
		907	,
		908	,
		922	,
		923	,
		924	,
		925	,
		926	,
		927	,
		928	,
		929	,
		930	,
		931	,
		932	,
		933	,
		934	,
		935	,
		936	,
		937	,
		938	,
		939	,
		940	,
		941	,
		942	,
		944	,
		945	,
		946	,
		947	,
		948	,
		949	,
		950	,
		951	,
		952	,
		953	,
		954	,
		955	,
		956	,
		957	,
		958	,
		959	,
		960	,
		961	,
		962	,
		1227	,
		1258	,
		1259	,
		1260	,
		1261	,
		1262	,
		1263	,
		1264	,
		1265	,
		1266	,
		1267	,
		1268	,
		1269	,
		1270	,
		1271	,
		1272	,
		1273	,
		1274	,
		1275	,
		1276	,
		1277	,
		1278	,
		1279	,
		1280	,
		1281	,
		1282	,
		1283	,
		1284	,
		1285	,
		1286	,
		1287	,
		1288	,
		1289	,
		1290	,
		1291	,
		1292	,
		1293	,
		1294	,
		1295	,
		1296	,
		1297	,
		1298	,
		1299	,
		1300	,
		1301	,
		1302	,
		1303	,
		1304	,
		1305	,
		1306	,
		1307	,
		1308	,
		1309	,
		1310	,
		1311	,
		1516	,
		1517	,
		1533	,
		1534	,
		1538	,
		1539	,
		1557	,
		1558	,
		1559	
	};


	public static int[] zone1 ={
			
			828	,
			1201	,
			1202	,
			1203	,
			1204	,
			1205	,
			1206	,
			1207	,
			1208	,
			1209	,
			1210	,
			1211	,
			1212	,
			1213	,
			1214	,
			1215	,
			1216	,
			1217	,
			1218	,
			1219	,
			1220	,
			1221	,
			1223	,
			1224	,
			1225	,
			1226	,
			1228	,
			1551	,
			1552	,
			1553	,
			1554	,
			1555	,
			1580	,
			1581	,
			1582	

	};
	public static int[] zone2 = {
		801	,
		802	,
		803	,
		804	,
		805	,
		806	,
		807	,
		808	,
		809	,
		810	,
		811	,
		812	,
		813	,
		814	,
		815	,
		816	,
		817	,
		818	,
		819	,
		820	,
		821	,
		822	,
		823	,
		824	,
		825	,
		826	,
		827	,
		829	,
		830	,
		831	,
		832	,
		833	,
		834	,
		835	,
		836	,
		837	,
		838	,
		839	,
		840	,
		841	,
		842	,
		843	,
		844	,
		845	,
		846	,
		847	,
		848	,
		849	,
		850	,
		851	,
		852	,
		853	,
		854	,
		855	,
		856	,
		857	,
		858	,
		859	,
		860	,
		861	,
		862	,
		863	,
		864	,
		865	,
		866	,
		867	,
		868	,
		869	,
		870	,
		871	,
		872	,
		873	,
		874	,
		875	,
		876	,
		877	,
		878	,
		879	,
		880	,
		881	,
		882	,
		883	,
		884	,
		885	,
		886	,
		887	,
		888	,
		889	,
		890	,
		891	,
		892	,
		893	,
		894	,
		895	,
		896	,
		897	,
		898	,
		899	,
		900	,
		901	,
		902	,
		903	,
		904	,
		905	,
		906	,
		907	,
		908	,
		922	,
		923	,
		924	,
		925	,
		926	,
		927	,
		928	,
		929	,
		930	,
		931	,
		932	,
		933	,
		934	,
		935	,
		936	,
		937	,
		938	,
		939	,
		940	,
		941	,
		942	,
		944	,
		945	,
		946	,
		947	,
		948	,
		949	,
		950	,
		951	,
		952	,
		953	,
		954	,
		955	,
		956	,
		957	,
		958	,
		959	,
		960	,
		961	,
		962	,
		1227	,
		1258	,
		1259	,
		1260	,
		1261	,
		1262	,
		1263	,
		1264	,
		1265	,
		1266	,
		1267	,
		1268	,
		1269	,
		1270	,
		1271	,
		1272	,
		1273	,
		1274	,
		1275	,
		1276	,
		1277	,
		1278	,
		1279	,
		1280	,
		1281	,
		1282	,
		1283	,
		1284	,
		1285	,
		1286	,
		1287	,
		1288	,
		1289	,
		1290	,
		1291	,
		1292	,
		1293	,
		1294	,
		1295	,
		1296	,
		1297	,
		1298	,
		1299	,
		1300	,
		1301	,
		1302	,
		1303	,
		1304	,
		1305	,
		1306	,
		1307	,
		1308	,
		1309	,
		1310	,
		1311	,
		1516	,
		1517	,
		1533	,
		1534	,
		1538	,
		1539	,
		1557	,
		1558	,
		1559	

};
	
	
	public static int[] zone3 = {
		0	,
		1	,
		2	,
		4	,
		5	,
		8	,
		9	,
		10	,
		19	,
		20	,
		21	,
		22	,
		23	,
		24	,
		25	,
		27	,
		28	,
		75	,
		76	,
		102	,
		103	,
		104	,
		105	,
		106	,
		107	,
		108	,
		109	,
		110	,
		111	,
		112	,
		113	,
		114	,
		115	,
		116	,
		117	,
		118	,
		119	,
		120	,
		121	,
		122	,
		909	,
		910	,
		911	,
		912	,
		913	,
		914	,
		915	,
		916	,
		917	,
		918	,
		919	,
		920	,
		921	,
		943	,
		963	,
		964	,
		965	,
		966	,
		967	,
		968	,
		969	,
		970	,
		971	,
		972	,
		973	,
		974	,
		975	,
		976	,
		977	,
		978	,
		979	,
		980	,
		981	,
		982	,
		983	,
		984	,
		985	,
		986	,
		987	,
		988	,
		989	,
		990	,
		991	,
		992	,
		993	,
		994	,
		995	,
		996	,
		997	,
		998	,
		999	,
		1000	,
		1001	,
		1002	,
		1003	,
		1004	,
		1005	,
		1006	,
		1007	,
		1556	,
		1560	,
		1561	

};
public static int[] zone3and4 ={
	0	,
	1	,
	2	,
	4	,
	5	,
	8	,
	9	,
	10	,
	19	,
	20	,
	21	,
	22	,
	23	,
	24	,
	25	,
	27	,
	28	,
	75	,
	76	,
	102	,
	103	,
	104	,
	105	,
	106	,
	107	,
	108	,
	109	,
	110	,
	111	,
	112	,
	113	,
	114	,
	115	,
	116	,
	117	,
	118	,
	119	,
	120	,
	121	,
	122	,
	909	,
	910	,
	911	,
	912	,
	913	,
	914	,
	915	,
	916	,
	917	,
	918	,
	919	,
	920	,
	921	,
	943	,
	963	,
	964	,
	965	,
	966	,
	967	,
	968	,
	969	,
	970	,
	971	,
	972	,
	973	,
	974	,
	975	,
	976	,
	977	,
	978	,
	979	,
	980	,
	981	,
	982	,
	983	,
	984	,
	985	,
	986	,
	987	,
	988	,
	989	,
	990	,
	991	,
	992	,
	993	,
	994	,
	995	,
	996	,
	997	,
	998	,
	999	,
	1000	,
	1001	,
	1002	,
	1003	,
	1004	,
	1005	,
	1006	,
	1007	,
	1556	,
	1560	,
	1561	,
	6	,
	7	,
	26	,
	29	,
	30	,
	31	,
	32	,
	33	,
	34	,
	35	,
	36	,
	37	,
	38	,
	39	,
	40	,
	88	,
	89	,
	90	,
	91	,
	92	,
	93	,
	94	,
	95	,
	96	,
	97	,
	98	,
	99	,
	100	,
	101	,
	123	,
	137	,
	138	,
	141	,
	142	,
	143	,
	144	,
	145	,
	146	,
	155	,
	156	,
	157	,
	170	,
	171	,
	172	,
	174	,
	177	,
	178	,
	179	,
	180	,
	1525	,
	1541	,
	1542	

	};
	public static int[] zone4 = {
		6	,
		7	,
		26	,
		29	,
		30	,
		31	,
		32	,
		33	,
		34	,
		35	,
		36	,
		37	,
		38	,
		39	,
		40	,
		88	,
		89	,
		90	,
		91	,
		92	,
		93	,
		94	,
		95	,
		96	,
		97	,
		98	,
		99	,
		100	,
		101	,
		123	,
		137	,
		138	,
		141	,
		142	,
		143	,
		144	,
		145	,
		146	,
		155	,
		156	,
		157	,
		170	,
		171	,
		172	,
		174	,
		177	,
		178	,
		179	,
		180	,
		1525	,
		1541	,
		1542	
	
};

	public static int[] zone5 = {
		139	,
		140	,
		147	,
		148	,
		149	,
		150	,
		151	,
		152	,
		153	,
		154	,
		158	,
		159	,
		160	,
		161	,
		162	,
		163	,
		164	,
		165	,
		166	,
		167	,
		168	,
		169	,
		173	,
		175	,
		176	,
		216	,
		217	,
		218	,
		219	,
		220	,
		221	,
		222	,
		223	,
		224	,
		225	,
		226	,
		227	,
		228	,
		229	,
		230	,
		231	,
		232	,
		233	,
		234	,
		235	,
		236	,
		237	,
		238	,
		239	,
		240	,
		241	,
		242	,
		243	,
		244	,
		245	,
		246	,
		247	,
		248	,
		249	,
		250	,
		251	,
		252	,
		253	,
		254	,
		255	,
		256	,
		257	,
		258	,
		259	,
		260	,
		261	,
		262	,
		263	,
		264	,
		265	,
		266	,
		267	,
		268	,
		269	,
		270	,
		271	,
		272	,
		273	,
		274	,
		275	,
		276	,
		277	,
		278	,
		279	,
		280	,
		348	,
		1535	,
		1536	,
		1585	
	
};
	public static int[] zone7 = {
		349	,
		350	,
		351	,
		352	,
		353	,
		354	,
		355	,
		356	,
		357	,
		358	,
		359	,
		360	,
		361	,
		362	,
		363	,
		364	,
		365	,
		366	,
		367	,
		368	,
		369	,
		370	,
		371	,
		372	,
		373	,
		374	,
		375	,
		376	,
		377	,
		378	,
		379	,
		380	,
		381	,
		382	,
		383	,
		384	,
		385	,
		386	,
		387	,
		388	,
		389	,
		390	,
		391	,
		392	,
		393	,
		394	,
		395	,
		396	,
		397	,
		398	,
		399	,
		401	,
		402	,
		403	,
		407	,
		408	,
		409	,
		410	,
		411	,
		412	,
		413	,
		414	,
		415	,
		419	,
		420	,
		421	,
		424	,
		425	,
		426	,
		429	,
		430	,
		431	,
		432	,
		433	,
		434	,
		435	,
		436	,
		437	,
		438	,
		439	,
		440	,
		441	,
		442	,
		443	,
		444	,
		445	,
		446	,
		447	,
		448	,
		449	,
		450	,
		451	,
		452	,
		454	,
		458	,
		459	,
		460	,
		461	,
		574	,
		643	,
		645	,
		1451	,
		1452	,
		1453	,
		1454	,
		1455	,
		1456	,
		1457	,
		1458	,
		1459	,
		1460	,
		1461	,
		1462	,
		1463	,
		1464	,
		1465	,
		1466	,
		1467	,
		1468	,
		1469	,
		1470	,
		1471	,
		1472	,
		1473	,
		1474	,
		1475	,
		1476	,
		1477	,
		1543	,
		1544	,
		1563	,
		1564	,
		1565	,
		1566	,
		1567	,
		1568	

};

	public static int[] zone8 = {
		400	,
		404	,
		405	,
		416	,
		417	,
		418	,
		422	,
		423	,
		427	,
		428	,
		453	,
		456	,
		457	,
		532	,
		533	,
		534	,
		535	,
		536	,
		537	,
		538	,
		539	,
		540	,
		541	,
		542	,
		543	,
		544	,
		545	,
		546	,
		547	,
		548	,
		549	,
		550	,
		551	,
		552	,
		553	,
		554	,
		555	,
		556	,
		557	,
		558	,
		559	,
		560	,
		561	,
		562	,
		563	,
		564	,
		565	,
		566	,
		567	,
		568	,
		569	,
		570	,
		571	,
		572	,
		573	,
		575	,
		576	,
		577	,
		578	,
		579	,
		580	,
		581	,
		582	,
		583	,
		584	,
		585	,
		586	,
		587	,
		588	,
		589	,
		590	,
		591	,
		592	,
		593	,
		594	,
		595	,
		596	,
		597	,
		598	,
		599	,
		600	,
		601	,
		602	,
		603	,
		604	,
		605	,
		606	,
		607	,
		608	,
		609	,
		610	,
		611	,
		612	,
		613	,
		614	,
		615	,
		616	,
		617	,
		618	,
		619	,
		620	,
		621	,
		622	,
		623	,
		624	,
		625	,
		626	,
		627	,
		628	,
		629	,
		630	,
		631	,
		632	,
		633	,
		634	,
		635	,
		636	,
		640	,
		641	,
		642	,
		644	,
		775	,
		795	,
		796	,
		797	,
		1518	,
		1522	,
		1527	,
		1528	,
		1529	,
		1530	,
		1531	,
		1532	,
		1545	,
		1562	,
		1569	,
		1583	

		
};
	public static int[] zone8and9 ={
		406	,
		455	,
		637	,
		638	,
		639	,
		760	,
		761	,
		762	,
		763	,
		764	,
		765	,
		766	,
		767	,
		768	,
		769	,
		770	,
		771	,
		772	,
		773	,
		774	,
		798	,
		799	,
		800	,
		1354	,
		1355	,
		1356	,
		1357	,
		1358	,
		1359	,
		1360	,
		1361	,
		1362	,
		1363	,
		1364	,
		1365	,
		1366	,
		1367	,
		1368	,
		1369	,
		1370	,
		1371	,
		1372	,
		1373	,
		1374	,
		1375	,
		1376	,
		1377	,
		1378	,
		1379	,
		1380	,
		1381	,
		1382	,
		1383	,
		1384	,
		1385	,
		1386	,
		1387	,
		1388	,
		1389	,
		1390	,
		1391	,
		1392	,
		1393	,
		1394	,
		1395	,
		1396	,
		1397	,
		1398	,
		1399	,
		1448	,
		1449	,
		1450	,
		1504	,
		1505	,
		1506	,
		1507	,
		1508	,
		1509	,
		1510	,
		1511	,
		1512	,
		1513	,
		1514	,
		1519	,
		1520	,
		1523	,
		1524	,
		1526	,
		1537	,
		1540	,
		1546	,
		1570	,
		1571	,
		1572	,
		1573	,
		1574	,
		1575	,
		1576	,
		1577	,
		1578	,
		1579	,
		1584	,
		400	,
		404	,
		405	,
		416	,
		417	,
		418	,
		422	,
		423	,
		427	,
		428	,
		453	,
		456	,
		457	,
		532	,
		533	,
		534	,
		535	,
		536	,
		537	,
		538	,
		539	,
		540	,
		541	,
		542	,
		543	,
		544	,
		545	,
		546	,
		547	,
		548	,
		549	,
		550	,
		551	,
		552	,
		553	,
		554	,
		555	,
		556	,
		557	,
		558	,
		559	,
		560	,
		561	,
		562	,
		563	,
		564	,
		565	,
		566	,
		567	,
		568	,
		569	,
		570	,
		571	,
		572	,
		573	,
		575	,
		576	,
		577	,
		578	,
		579	,
		580	,
		581	,
		582	,
		583	,
		584	,
		585	,
		586	,
		587	,
		588	,
		589	,
		590	,
		591	,
		592	,
		593	,
		594	,
		595	,
		596	,
		597	,
		598	,
		599	,
		600	,
		601	,
		602	,
		603	,
		604	,
		605	,
		606	,
		607	,
		608	,
		609	,
		610	,
		611	,
		612	,
		613	,
		614	,
		615	,
		616	,
		617	,
		618	,
		619	,
		620	,
		621	,
		622	,
		623	,
		624	,
		625	,
		626	,
		627	,
		628	,
		629	,
		630	,
		631	,
		632	,
		633	,
		634	,
		635	,
		636	,
		640	,
		641	,
		642	,
		644	,
		775	,
		795	,
		796	,
		797	,
		1518	,
		1522	,
		1527	,
		1528	,
		1529	,
		1530	,
		1531	,
		1532	,
		1545	,
		1562	,
		1569	,
		1583
	};
	public static int[] zone9 = {
		406	,
		455	,
		637	,
		638	,
		639	,
		760	,
		761	,
		762	,
		763	,
		764	,
		765	,
		766	,
		767	,
		768	,
		769	,
		770	,
		771	,
		772	,
		773	,
		774	,
		798	,
		799	,
		800	,
		1354	,
		1355	,
		1356	,
		1357	,
		1358	,
		1359	,
		1360	,
		1361	,
		1362	,
		1363	,
		1364	,
		1365	,
		1366	,
		1367	,
		1368	,
		1369	,
		1370	,
		1371	,
		1372	,
		1373	,
		1374	,
		1375	,
		1376	,
		1377	,
		1378	,
		1379	,
		1380	,
		1381	,
		1382	,
		1383	,
		1384	,
		1385	,
		1386	,
		1387	,
		1388	,
		1389	,
		1390	,
		1391	,
		1392	,
		1393	,
		1394	,
		1395	,
		1396	,
		1397	,
		1398	,
		1399	,
		1448	,
		1449	,
		1450	,
		1504	,
		1505	,
		1506	,
		1507	,
		1508	,
		1509	,
		1510	,
		1511	,
		1512	,
		1513	,
		1514	,
		1519	,
		1520	,
		1523	,
		1524	,
		1526	,
		1537	,
		1540	,
		1546	,
		1570	,
		1571	,
		1572	,
		1573	,
		1574	,
		1575	,
		1576	,
		1577	,
		1578	,
		1579	,
		1584	

};


}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1316207226210</Id>
			<Name><![CDATA[SpecialMath]]></Name>
			<ExcludeFromBuild>false</ExcludeFromBuild>
			<Text><![CDATA[
public final class SpecialMath extends AbstractMath implements NumericalConstants {
	private SpecialMath() {
	}

	// Some IEEE machine constants
	/**
	 * Relative machine precision.
	 */
	private final static double EPS = 2.22e-16;
	/**
	 * The smallest positive floating-point number such that 1/xminin is machine
	 * representable.
	 */
	private final static double XMININ = 2.23e-308;

	// CHEBYSHEV SERIES

	// series for ai0 on the interval 1.25000d-01 to 3.33333d-01
	// with weighted error 7.87e-17
	// log weighted error 16.10
	// significant figures required 14.69
	// decimal places required 16.76

	private final static double ai0cs[] = { 0.07575994494023796,
			0.00759138081082334, 0.00041531313389237, 0.00001070076463439,
			-0.00000790117997921, -0.00000078261435014, 0.00000027838499429,
			0.00000000825247260, -0.00000001204463945, 0.00000000155964859,
			0.00000000022925563, -0.00000000011916228, 0.00000000001757854,
			0.00000000000112822, -0.00000000000114684, 0.00000000000027155,
			-0.00000000000002415, -0.00000000000000608, 0.00000000000000314,
			-0.00000000000000071, 0.00000000000000007 };

	// series for ai02 on the interval 0. to 1.25000d-01
	// with weighted error 3.79e-17
	// log weighted error 16.42
	// significant figures required 14.86
	// decimal places required 17.09
	private final static double ai02cs[] = { 0.05449041101410882,
			0.00336911647825569, 0.00006889758346918, 0.00000289137052082,
			0.00000020489185893, 0.00000002266668991, 0.00000000339623203,
			0.00000000049406022, 0.00000000001188914, -0.00000000003149915,
			-0.00000000001321580, -0.00000000000179419, 0.00000000000071801,
			0.00000000000038529, 0.00000000000001539, -0.00000000000004151,
			-0.00000000000000954, 0.00000000000000382, 0.00000000000000176,
			-0.00000000000000034, -0.00000000000000027, 0.00000000000000003 };

	// series for ai1 on the interval 1.25000d-01 to 3.33333d-01
	// with weighted error 6.98e-17
	// log weighted error 16.16
	// significant figures required 14.53
	// decimal places required 16.82

	private final static double ai1cs[] = { -0.02846744181881479,
			-0.01922953231443221, -0.00061151858579437, -0.00002069971253350,
			0.00000858561914581, 0.00000104949824671, -0.00000029183389184,
			-0.00000001559378146, 0.00000001318012367, -0.00000000144842341,
			-0.00000000029085122, 0.00000000012663889, -0.00000000001664947,
			-0.00000000000166665, 0.00000000000124260, -0.00000000000027315,
			0.00000000000002023, 0.00000000000000730, -0.00000000000000333,
			0.00000000000000071, -0.00000000000000006 };

	// series for ai12 on the interval 0. to 1.25000d-01
	// with weighted error 3.55e-17
	// log weighted error 16.45
	// significant figures required 14.69
	// decimal places required 17.12

	private final static double ai12cs[] = { 0.02857623501828014,
			-0.00976109749136147, -0.00011058893876263, -0.00000388256480887,
			-0.00000025122362377, -0.00000002631468847, -0.00000000383538039,
			-0.00000000055897433, -0.00000000001897495, 0.00000000003252602,
			0.00000000001412580, 0.00000000000203564, -0.00000000000071985,
			-0.00000000000040836, -0.00000000000002101, 0.00000000000004273,
			0.00000000000001041, -0.00000000000000382, -0.00000000000000186,
			0.00000000000000033, 0.00000000000000028, -0.00000000000000003 };

	// series for aif on the interval -1.00000d+00 to 1.00000d+00
	// with weighted error 1.09e-19
	// log weighted error 18.96
	// significant figures required 17.76
	// decimal places required 19.44

	private final static double aifcs[] = { -0.03797135849666999750,
			0.05919188853726363857, 0.00098629280577279975,
			0.00000684884381907656, 0.00000002594202596219,
			0.00000000006176612774, 0.00000000000010092454,
			0.00000000000000012014, 0.00000000000000000010 };

	// series for aig on the interval -1.00000d+00 to 1.00000d+00
	// with weighted error 1.51e-17
	// log weighted error 16.82
	// significant figures required 15.19
	// decimal places required 17.27

	private final static double aigcs[] = { 0.01815236558116127,
			0.02157256316601076, 0.00025678356987483, 0.00000142652141197,
			0.00000000457211492, 0.00000000000952517, 0.00000000000001392,
			0.00000000000000001 };

	// series for aip on the interval 0. to 1.00000d+00
	// with weighted error 5.10e-17
	// log weighted error 16.29
	// significant figures required 14.41
	// decimal places required 17.06

	private final static double aipcs[] = { -0.0187519297793868,
			-0.0091443848250055, 0.0009010457337825, -0.0001394184127221,
			0.0000273815815785, -0.0000062750421119, 0.0000016064844184,
			-0.0000004476392158, 0.0000001334635874, -0.0000000420735334,
			0.0000000139021990, -0.0000000047831848, 0.0000000017047897,
			-0.0000000006268389, 0.0000000002369824, -0.0000000000918641,
			0.0000000000364278, -0.0000000000147475, 0.0000000000060851,
			-0.0000000000025552, 0.0000000000010906, -0.0000000000004725,
			0.0000000000002076, -0.0000000000000924, 0.0000000000000417,
			-0.0000000000000190, 0.0000000000000087, -0.0000000000000040,
			0.0000000000000019, -0.0000000000000009, 0.0000000000000004,
			-0.0000000000000002, 0.0000000000000001, -0.0000000000000000 };

	// series for am21 on the interval -1.25000d-01 to 0.
	// with weighted error 2.89e-17
	// log weighted error 16.54
	// significant figures required 14.15
	// decimal places required 17.34

	private final static double am21cs[] = { 0.0065809191761485,
			0.0023675984685722, 0.0001324741670371, 0.0000157600904043,
			0.0000027529702663, 0.0000006102679017, 0.0000001595088468,
			0.0000000471033947, 0.0000000152933871, 0.0000000053590722,
			0.0000000020000910, 0.0000000007872292, 0.0000000003243103,
			0.0000000001390106, 0.0000000000617011, 0.0000000000282491,
			0.0000000000132979, 0.0000000000064188, 0.0000000000031697,
			0.0000000000015981, 0.0000000000008213, 0.0000000000004296,
			0.0000000000002284, 0.0000000000001232, 0.0000000000000675,
			0.0000000000000374, 0.0000000000000210, 0.0000000000000119,
			0.0000000000000068, 0.0000000000000039, 0.0000000000000023,
			0.0000000000000013, 0.0000000000000008, 0.0000000000000005,
			0.0000000000000003, 0.0000000000000001, 0.0000000000000001,
			0.0000000000000000, 0.0000000000000000, 0.0000000000000000 };

	// series for ath1 on the interval -1.25000d-01 to 0.
	// with weighted error 2.53e-17
	// log weighted error 16.60
	// significant figures required 15.15
	// decimal places required 17.38

	private final static double ath1cs[] = { -0.07125837815669365,
			-0.00590471979831451, -0.00012114544069499, -0.00000988608542270,
			-0.00000138084097352, -0.00000026142640172, -0.00000006050432589,
			-0.00000001618436223, -0.00000000483464911, -0.00000000157655272,
			-0.00000000055231518, -0.00000000020545441, -0.00000000008043412,
			-0.00000000003291252, -0.00000000001399875, -0.00000000000616151,
			-0.00000000000279614, -0.00000000000130428, -0.00000000000062373,
			-0.00000000000030512, -0.00000000000015239, -0.00000000000007758,
			-0.00000000000004020, -0.00000000000002117, -0.00000000000001132,
			-0.00000000000000614, -0.00000000000000337, -0.00000000000000188,
			-0.00000000000000105, -0.00000000000000060, -0.00000000000000034,
			-0.00000000000000020, -0.00000000000000011, -0.00000000000000007,
			-0.00000000000000004, -2E-17 };

	// series for am22 on the interval -1.00000d+00 to -1.25000d-01
	// with weighted error 2.99E-17
	// log weighted error 16.52
	// significant figures required 14.57
	// decimal places required 17.28

	private final static double am22cs[] = { -0.01562844480625341,
			0.00778336445239681, 0.00086705777047718, 0.00015696627315611,
			0.00003563962571432, 0.00000924598335425, 0.00000262110161850,
			0.00000079188221651, 0.00000025104152792, 0.00000008265223206,
			0.00000002805711662, 0.00000000976821090, 0.00000000347407923,
			0.00000000125828132, 0.00000000046298826, 0.00000000017272825,
			0.00000000006523192, 0.00000000002490471, 0.00000000000960156,
			0.00000000000373448, 0.00000000000146417, 0.00000000000057826,
			0.00000000000022991, 0.00000000000009197, 0.00000000000003700,
			0.00000000000001496, 0.00000000000000608, 0.00000000000000248,
			0.00000000000000101, 0.00000000000000041, 0.00000000000000017,
			0.00000000000000007, 2E-17 };

	// series for ath2 on the interval -1.00000d+00 to -1.25000d-01
	// with weighted error 2.57E-17
	// log weighted error 16.59
	// significant figures required 15.07
	// decimal places required 17.34

	private final static double ath2cs[] = { 0.00440527345871877,
			-0.03042919452318455, -0.00138565328377179, -0.00018044439089549,
			-0.00003380847108327, -0.00000767818353522, -0.00000196783944371,
			-0.00000054837271158, -0.00000016254615505, -0.00000005053049981,
			-0.00000001631580701, -0.00000000543420411, -0.00000000185739855,
			-0.00000000064895120, -0.00000000023105948, -0.00000000008363282,
			-0.00000000003071196, -0.00000000001142367, -0.00000000000429811,
			-0.00000000000163389, -0.00000000000062693, -0.00000000000024260,
			-0.00000000000009461, -0.00000000000003716, -0.00000000000001469,
			-0.00000000000000584, -0.00000000000000233, -0.00000000000000093,
			-0.00000000000000037, -0.00000000000000015, -0.00000000000000006,
			-2E-17 };

	// series for bi0 on the interval 0 to 9.00000d+00
	// with weighted error 2.46E-18
	// log weighted error 17.61
	// significant figures required 17.9
	// decimal places required 18.15

	private final static double bi0cs[] = { -0.07660547252839144951,
			1.927337953993808270, 0.2282644586920301339,
			0.01304891466707290428, 0.00043442709008164874,
			0.00000942265768600193, 0.00000014340062895106,
			0.00000000161384906966, 0.00000000001396650044,
			0.00000000000009579451, 0.00000000000000053339, 2.45E-18 };

	// series for bj0 on the interval 0 to 1.60000d+01
	// with weighted error 7.47E-18
	// log weighted error 17.13
	// significant figures required 16.98
	// decimal places required 17.68

	private final static double bj0cs[] = { 0.100254161968939137,
			-0.665223007764405132, 0.248983703498281314,
			-0.0332527231700357697, 0.0023114179304694015,
			-0.0000991127741995080, 0.0000028916708643998,
			-0.0000000612108586630, 0.0000000009838650793,
			-0.0000000000124235515, 0.0000000000001265433,
			-0.0000000000000010619, 7.4E-18 };

	// series for bm0 on the interval 0 to 6.25000d-02
	// with weighted error 4.98E-17
	// log weighted error 16.3
	// significant figures required 14.97
	// decimal places required 16.96

	private final static double bm0cs[] = { 0.09284961637381644,
			-0.00142987707403484, 0.00002830579271257, -0.00000143300611424,
			0.00000012028628046, -0.00000001397113013, 0.00000000204076188,
			-0.00000000035399669, 0.00000000007024759, -0.00000000001554107,
			0.00000000000376226, -0.00000000000098282, 0.00000000000027408,
			-0.00000000000008091, 0.00000000000002511, -0.00000000000000814,
			0.00000000000000275, -0.00000000000000096, 0.00000000000000034,
			-0.00000000000000012, 4E-17 };

	// series for bth0 on the interval 0 to 6.25000d-02
	// with weighted error 3.67E-17
	// log weighted error 16.44
	// significant figures required 15.53
	// decimal places required 17.13

	private final static double bth0cs[] = { -0.24639163774300119,
			0.001737098307508963, -0.000062183633402968, 0.000004368050165742,
			-0.000000456093019869, 0.000000062197400101, -0.000000010300442889,
			0.000000001979526776, -0.000000000428198396, 0.000000000102035840,
			-0.000000000026363898, 0.000000000007297935, -0.000000000002144188,
			0.000000000000663693, -0.000000000000215126, 0.000000000000072659,
			-0.000000000000025465, 0.000000000000009229, -0.000000000000003448,
			0.000000000000001325, -0.000000000000000522, 0.000000000000000210,
			-0.000000000000000087, 3.6E-17 };

	// series for by0 on the interval 0 to 1.60000d+01
	// with weighted error 1.20E-17
	// log weighted error 16.92
	// significant figures required 16.15
	// decimal places required 17.48

	private final static double by0cs[] = { -0.011277839392865573,
			-0.12834523756042035, -0.10437884799794249, 0.023662749183969695,
			-0.002090391647700486, 0.000103975453939057, -0.000003369747162423,
			0.000000077293842676, -0.000000001324976772, 0.000000000017648232,
			-0.000000000000188105, 0.000000000000001641, -1.1E-17 };

	// series for bi1 on the interval 0 to 9.00000d+00
	// with weighted error 2.40E-17
	// log weighted error 16.62
	// significant figures required 16.23
	// decimal places required 17.14

	private final static double bi1cs[] = { -0.001971713261099859,
			0.40734887667546481, 0.034838994299959456, 0.001545394556300123,
			0.000041888521098377, 0.000000764902676483, 0.000000010042493924,
			0.000000000099322077, 0.000000000000766380, 0.000000000000004741,
			2.4E-17 };

	// series for bj1 on the interval 0 to 1.60000d+01
	// with weighted error 4.48E-17
	// log weighted error 16.35
	// significant figures required 15.77
	// decimal places required 16.89

	private final static double bj1cs[] = { -0.11726141513332787,
			-0.25361521830790640, 0.050127080984469569, -0.004631514809625081,
			0.000247996229415914, -0.000008678948686278, 0.000000214293917143,
			-0.000000003936093079, 0.000000000055911823, -0.000000000000632761,
			0.000000000000005840, -4.4E-17 };

	// series for bm1 on the interval 0 to 6.25000d-02
	// with weighted error 5.61E-17
	// log weighted error 16.25
	// significant figures required 14.97
	// decimal places required 16.91

	private final static double bm1cs[] = { 0.1047362510931285,
			0.00442443893702345, -0.00005661639504035, 0.00000231349417339,
			-0.00000017377182007, 0.00000001893209930, -0.00000000265416023,
			0.00000000044740209, -0.00000000008691795, 0.00000000001891492,
			-0.00000000000451884, 0.00000000000116765, -0.00000000000032265,
			0.00000000000009450, -0.00000000000002913, 0.00000000000000939,
			-0.00000000000000315, 0.00000000000000109, -0.00000000000000039,
			0.00000000000000014, -5E-17 };

	// series for bth1 on the interval 0 to 6.25000d-02
	// with weighted error 4.10E-17
	// log weighted error 16.39
	// significant figures required 15.96
	// decimal places required 17.08

	private final static double bth1cs[] = { 0.74060141026313850,
			-0.004571755659637690, 0.000119818510964326, -0.000006964561891648,
			0.000000655495621447, -0.000000084066228945, 0.000000013376886564,
			-0.000000002499565654, 0.000000000529495100, -0.000000000124135944,
			0.000000000031656485, -0.000000000008668640, 0.000000000002523758,
			-0.000000000000775085, 0.000000000000249527, -0.000000000000083773,
			0.000000000000029205, -0.000000000000010534, 0.000000000000003919,
			-0.000000000000001500, 0.000000000000000589, -0.000000000000000237,
			0.000000000000000097, -4E-17 };

	// series for by1 on the interval 0 to 1.60000d+01
	// with weighted error 1.87E-18
	// log weighted error 17.73
	// significant figures required 17.83
	// decimal places required 18.3

	private final static double by1cs[] = { 0.03208047100611908629,
			1.262707897433500450, 0.00649996189992317500,
			-0.08936164528860504117, 0.01325088122175709545,
			-0.00089790591196483523, 0.00003647361487958306,
			-0.00000100137438166600, 0.00000001994539657390,
			-0.00000000030230656018, 0.00000000000360987815,
			-0.00000000000003487488, 0.00000000000000027838, -1.86E-18 };

	/**
	 * Evaluates a Chebyshev series.
	 * 
	 * @param x
	 *            value at which to evaluate series
	 * @param series
	 *            the coefficients of the series
	 */
	public static double chebyshev(double x, double series[]) {
		double twox, b0 = 0.0, b1 = 0.0, b2 = 0.0;
		twox = 2 * x;
		for (int i = series.length - 1; i > -1; i--) {
			b2 = b1;
			b1 = b0;
			b0 = twox * b1 - b2 + series[i];
		}
		return 0.5 * (b0 - b2);
	}

	/**
	 * Airy function. Based on the NETLIB Fortran function ai written by W.
	 * Fullerton.
	 */
	public static double airy(double x) {
		if (x < -1.0) {
			return airyModPhase(x);
		} else if (x > 1.0)
			return expAiry(x) * Math.exp(-2.0 * x * Math.sqrt(x) / 3.0);
		else {
			final double z = x * x * x;
			return 0.375 + (chebyshev(z, aifcs) - x
					* (0.25 + chebyshev(z, aigcs)));
		}
	}

	/**
	 * Airy modulus and phase. Based on the NETLIB Fortran subroutine r9aimp
	 * written by W. Fullerton.
	 * 
	 * @return the real part, i.e. modulus*cos(phase).
	 */
	private static double airyModPhase(double x) {
		double modulus, phase;
		if (x < -2.0) {
			double z = 16 / (x * x * x) + 1.0;
			modulus = 0.3125 + chebyshev(z, am21cs);
			phase = -0.625 + chebyshev(z, ath1cs);
		} else {
			double z = (16.0 / (x * x * x) + 9.0) / 7.0;
			modulus = 0.3125 + chebyshev(z, am22cs);
			phase = -0.625 + chebyshev(z, ath2cs);
		}
		final double sqrtx = Math.sqrt(-x);
		modulus = Math.sqrt(modulus / sqrtx);
		phase = Math.PI / 4 - x * sqrtx * phase;
		return modulus * Math.cos(phase);
	}

	/**
	 * Exponential scaled Airy function. Based on the NETLIB Fortran function
	 * aie written by W. Fullerton.
	 */
	private static double expAiry(double x) {
		if (x < -1.0) {
			return airyModPhase(x);
		} else if (x <= 1.0) {
			final double z = x * x * x;
			return 0.375
					+ (chebyshev(z, aifcs) - x * (0.25 + chebyshev(z, aigcs)))
					* Math.exp(2.0 * x * Math.sqrt(x) / 3.0);
		} else {
			final double sqrtx = Math.sqrt(x);
			final double z = 2 / (x * sqrtx) - 1.0;
			return (0.28125 + chebyshev(z, aipcs)) / Math.sqrt(sqrtx);
		}
	}

	/**
	 * Bessel function of first kind, order zero. Based on the NETLIB Fortran
	 * function besj0 written by W. Fullerton.
	 */
	public static double besselFirstZero(double x) {
		double y = Math.abs(x);
		if (y > 4.0) {
			final double z = 32 / (y * y) - 1;
			final double amplitude = (0.75 + chebyshev(z, bm0cs))
					/ Math.sqrt(y);
			final double theta = y - Math.PI / 4 + chebyshev(z, bth0cs) / y;
			return amplitude * Math.cos(theta);
		} else if (y == 0.0)
			return 1.0;
		else
			return chebyshev(0.125 * y * y - 1, bj0cs);
	}

	/**
	 * Modified Bessel function of first kind, order zero. Based on the NETLIB
	 * Fortran function besi0 written by W. Fullerton.
	 */
	public static double modBesselFirstZero(double x) {
		double y = Math.abs(x);
		if (y > 3.0)
			return Math.exp(y) * expModBesselFirstZero(x);
		else
			return 2.75 + chebyshev(y * y / 4.5 - 1.0, bi0cs);
	}

	/**
	 * Exponential scaled modified Bessel function of first kind, order zero.
	 * Based on the NETLIB Fortran function besi0e written by W. Fullerton.
	 */
	private static double expModBesselFirstZero(double x) {
		final double y = Math.abs(x);
		if (y > 3.0) {
			if (y > 8.0)
				return (0.375 + chebyshev(16.0 / y - 1.0, ai02cs))
						/ Math.sqrt(y);
			else
				return (0.375 + chebyshev((48.0 / y - 11.0) / 5.0, ai0cs))
						/ Math.sqrt(y);
		} else
			return Math.exp(-y) * (2.75 + chebyshev(y * y / 4.5 - 1.0, bi0cs));
	}

	/**
	 * Bessel function of first kind, order one. Based on the NETLIB Fortran
	 * function besj1 written by W. Fullerton.
	 */
	public static double besselFirstOne(double x) {
		double y = Math.abs(x);
		if (y > 4.0) {
			final double z = 32 / (y * y) - 1.0;
			final double amplitude = (0.75 + chebyshev(z, bm1cs))
					/ Math.sqrt(y);
			final double theta = y - 3 * Math.PI / 4 + chebyshev(z, bth1cs) / y;
			return Math.abs(amplitude) * x * Math.cos(theta) / Math.abs(x);
		} else if (y == 0.0)
			return 0.0;
		else
			return x * (0.25 + chebyshev(0.125 * y * y - 1.0, bj1cs));
	}

	/**
	 * Modified Bessel function of first kind, order one. Based on the NETLIB
	 * Fortran function besi1 written by W. Fullerton.
	 */
	public static double modBesselFirstOne(double x) {
		final double y = Math.abs(x);
		if (y > 3.0)
			return Math.exp(y) * expModBesselFirstOne(x);
		else if (y == 0.0)
			return 0.0;
		else
			return x * (0.875 + chebyshev(y * y / 4.5 - 1.0, bi1cs));
	}

	/**
	 * Exponential scaled modified Bessel function of first kind, order one.
	 * Based on the NETLIB Fortran function besi1e written by W. Fullerton.
	 */
	private static double expModBesselFirstOne(double x) {
		final double y = Math.abs(x);
		if (y > 3.0) {
			if (y > 8.0)
				return x / y * (0.375 + chebyshev(16.0 / y - 1.0, ai12cs))
						/ Math.sqrt(y);
			else
				return x / y
						* (0.375 + chebyshev((48.0 / y - 11.0) / 5.0, ai1cs))
						/ Math.sqrt(y);
		} else if (y == 0.0)
			return 0.0;
		else
			return Math.exp(-y) * x
					* (0.875 + chebyshev(y * y / 4.5 - 1.0, bi1cs));
	}

	/**
	 * Bessel function of second kind, order zero. Based on the NETLIB Fortran
	 * function besy0 written by W. Fullerton.
	 */
	public static double besselSecondZero(double x) {
		if (x > 4.0) {
			final double z = 32 / (x * x) - 1.0;
			final double amplitude = (0.75 + chebyshev(z, bm0cs))
					/ Math.sqrt(x);
			final double theta = x - Math.PI / 4 + chebyshev(z, bth0cs) / x;
			return amplitude * Math.sin(theta);
		} else
			return (Math.log(0.5) + Math.log(x)) * besselFirstZero(x) + 0.375
					+ chebyshev(0.125 * x * x - 1.0, by0cs) * 2 / Math.PI;
	}

	/**
	 * Bessel function of second kind, order one. Based on the NETLIB Fortran
	 * function besy1 written by W. Fullerton.
	 */
	public static double besselSecondOne(double x) {
		if (x > 4.0) {
			final double z = 32 / (x * x) - 1.0;
			final double amplitude = (0.75 + chebyshev(z, bm1cs))
					/ Math.sqrt(x);
			final double theta = x - 3 * Math.PI / 4 + chebyshev(z, bth1cs) / x;
			return amplitude * Math.sin(theta);
		} else
			return 2 * Math.log(0.5 * x) * besselFirstOne(x) / Math.PI
					+ (0.5 + chebyshev(0.125 * x * x - 1.0, by1cs)) / x;
	}

	private final static double LOGSQRT2PI = Math.log(SQRT2PI);

	// Gamma function related constants
	private final static double g_p[] = { -1.71618513886549492533811,
			24.7656508055759199108314, -379.804256470945635097577,
			629.331155312818442661052, 866.966202790413211295064,
			-31451.2729688483675254357, -36144.4134186911729807069, 66456.14382 };
	private final static double g_q[] = { -30.8402300119738975254353,
			315.350626979604161529144, -1015.15636749021914166146,
			-3107.77167157231109440444, 22538.1184209801510330112,
			4755.84627752788110767815, -134659.959864969306392456, -115132.2597 };
	private final static double g_c[] = { -0.001910444077728,
			8.4171387781295e-4, -5.952379913043012e-4, 7.93650793500350248e-4,
			-0.002777777777777681622553, 0.08333333333333333331554247,
			0.005708384 };
	/**
	 * The largest argument for which <code>gamma(x)</code> is representable in
	 * the machine.
	 */
	public final static double GAMMA_X_MAX_VALUE = 171.624;

	/**
	 * Gamma function. Based on public domain NETLIB (Fortran) code by W. J.
	 * Cody and L. Stoltz<BR>
	 * Applied Mathematics Division<BR>
	 * Argonne National Laboratory<BR>
	 * Argonne, IL 60439<BR>
	 * <P>
	 * References:
	 * <OL>
	 * <LI>"An	Overview	of	Software	Development	for	Special	Functions", W. J.
	 * Cody, Lecture Notes in Mathematics, 506, Numerical Analysis Dundee, 1975,
	 * <LI>Computer Approximations, Hart, Et. Al., Wiley and sons, New York,
	 * 1968
	 * </OL>
	 * </P>
	 * <P>
	 * From the original documentation:
	 * </P>
	 * <P>
	 * This routine calculates the GAMMA function for a real argument X.
	 * Computation is based on an algorithm outlined in reference 1 The program
	 * uses rational functions that approximate the GAMMA function to at least
	 * 20 significant decimal digits. Coefficients for the approximation over
	 * the interval (1,2) are unpublished. Those for the approximation for X
	 * .GE. 12 are from reference 2 The accuracy achieved depends on the
	 * arithmetic system, the compiler, the intrinsic functions, and proper
	 * selection of the machine-dependent constants.
	 * </P>
	 * <P>
	 * Error returns:<BR>
	 * The program returns the value XINF for singularities or when overflow
	 * would occur. The computation is believed to be free of underflow and
	 * overflow.
	 * </P>
	 * 
	 * @return Double.MAX_VALUE if overflow would occur, i.e. if abs(x) >
	 *         171.624
	 * @jsci.planetmath GammaFunction
	 * @author Jaco van Kooten
	 */
	public static double gamma(double x) {
		double fact = 1.0, xden, xnum;
		int i, n = 0;
		double y = x, z, y1;
		boolean parity = false;
		double res, sum, ysq;

		if (y <= 0.0) {
			// ----------------------------------------------------------------------
			// Argument is negative
			// ----------------------------------------------------------------------
			y = -(x);
			y1 = (int) y;
			res = y - y1;
			if (res != 0.0) {
				if (y1 != (((int) (y1 * 0.5)) * 2.0))
					parity = true;
				fact = Math.PI / Math.sin(Math.PI * res);
				y++;
			} else
				return Double.MAX_VALUE;
		}
		// ----------------------------------------------------------------------
		// Argument is positive
		// ----------------------------------------------------------------------
		if (y < EPS) {
			// ----------------------------------------------------------------------
			// Argument .LT. EPS
			// ----------------------------------------------------------------------
			if (y >= XMININ)
				res = 1 / y;
			else
				return Double.MAX_VALUE;
		} else if (y < 12.0) {
			y1 = y;
			if (y < 1.0) {
				// ----------------------------------------------------------------------
				// 0 .LT. argument .LT. 1
				// ----------------------------------------------------------------------
				z = y;
				y++;
			} else {
				// ----------------------------------------------------------------------
				// 1 .LT. argument .LT. 12.0, reduce argument if necessary
				// ----------------------------------------------------------------------
				n = (int) y - 1;
				y -= (double) n;
				z = y - 1.0;
			}
			// ----------------------------------------------------------------------
			// Evaluate approximation for 1 .LT. argument .LT. 2
			// ----------------------------------------------------------------------
			xnum = 0.0;
			xden = 1.0;
			for (i = 0; i < 8; ++i) {
				xnum = (xnum + g_p[i]) * z;
				xden = xden * z + g_q[i];
			}
			res = xnum / xden + 1.0;
			if (y1 < y)
				// ----------------------------------------------------------------------
				// Adjust result for case 0 .LT. argument .LT. 1
				// ----------------------------------------------------------------------
				res /= y1;
			else if (y1 > y) {
				// ----------------------------------------------------------------------
				// Adjust result for case 2 .LT. argument .LT. 12
				// ----------------------------------------------------------------------
				for (i = 0; i < n; ++i) {
					res *= y;
					y++;
				}
			}
		} else {
			// ----------------------------------------------------------------------
			// Evaluate for argument .GE. 12
			// ----------------------------------------------------------------------
			if (y <= GAMMA_X_MAX_VALUE) {
				ysq = y * y;
				sum = g_c[6];
				for (i = 0; i < 6; ++i)
					sum = sum / ysq + g_c[i];
				sum = sum / y - y + LOGSQRT2PI;
				sum += (y - 0.5) * Math.log(y);
				res = Math.exp(sum);
			} else
				return Double.MAX_VALUE;
		}
		// ----------------------------------------------------------------------
		// Final adjustments and return
		// ----------------------------------------------------------------------
		if (parity)
			res = -res;
		if (fact != 1.0)
			res = fact / res;
		return res;
	}

	/**
	 * The largest argument for which <code>logGamma(x)</code> is representable
	 * in the machine.
	 */
	public final static double LOG_GAMMA_X_MAX_VALUE = 2.55e305;

	// Log Gamma related constants
	private final static double lg_d1 = -0.5772156649015328605195174;
	private final static double lg_d2 = 0.4227843350984671393993777;
	private final static double lg_d4 = 1.791759469228055000094023;
	private final static double lg_p1[] = { 4.945235359296727046734888,
			201.8112620856775083915565, 2290.838373831346393026739,
			11319.67205903380828685045, 28557.24635671635335736389,
			38484.96228443793359990269, 26377.48787624195437963534, 7225.81398 };
	private final static double lg_q1[] = { 67.48212550303777196073036,
			1113.332393857199323513008, 7738.757056935398733233834,
			27639.87074403340708898585, 54993.10206226157329794414,
			61611.22180066002127833352, 36351.27591501940507276287, 8785.536302 };
	private final static double lg_p2[] = { 4.974607845568932035012064,
			542.4138599891070494101986, 15506.93864978364947665077,
			184793.2904445632425417223, 1088204.76946882876749847,
			3338152.967987029735917223, 5106661.678927352456275255, 3074109.055 };
	private final static double lg_q2[] = { 183.0328399370592604055942,
			7765.049321445005871323047, 133190.3827966074194402448,
			1136705.821321969608938755, 5267964.117437946917577538,
			13467014.54311101692290052, 17827365.30353274213975932, 9533095.592 };
	private final static double lg_p4[] = { 14745.02166059939948905062,
			2426813.369486704502836312, 121475557.4045093227939592,
			2663432449.630976949898078, 29403789566.34553899906876,
			170266573776.5398868392998, 492612579337.743088758812, 5.60625E+11 };
	private final static double lg_q4[] = { 2690.530175870899333379843,
			639388.5654300092398984238, 41355999.30241388052042842,
			1120872109.61614794137657, 14886137286.78813811542398,
			101680358627.2438228077304, 341747634550.7377132798597, 4.46316E+11 };
	private final static double lg_c[] = { -0.001910444077728,
			8.4171387781295e-4, -5.952379913043012e-4, 7.93650793500350248e-4,
			-0.002777777777777681622553, 0.08333333333333333331554247,
			0.005708384 };
	// Rough estimate of the fourth root of logGamma_xBig
	private final static double lg_frtbig = 2.25e76;
	private final static double pnt68 = 0.6796875;

	// Function cache for logGamma
	private static final ThreadLocal logGammaCache_res = new ThreadLocal() {
		protected Object initialValue() {
			return new Double(0.0);
		}

	};
	private static final ThreadLocal logGammaCache_x = new ThreadLocal() {
		protected Object initialValue() {
			return new Double(0.0);
		}
	};

	/**
	 * The natural logarithm of the gamma function. Based on public domain
	 * NETLIB (Fortran) code by W. J. Cody and L. Stoltz<BR>
	 * Applied Mathematics Division<BR>
	 * Argonne National Laboratory<BR>
	 * Argonne, IL 60439<BR>
	 * <P>
	 * References:
	 * <OL>
	 * <LI>W. J. Cody and K. E. Hillstrom, 'Chebyshev Approximations for the
	 * Natural Logarithm of the Gamma Function,' Math. Comp. 21,
	 * <LI>K. E. Hillstrom, ANL/AMD Program ANLC366S, DGAMMA/DLGAMA, May, 1969
	 * <LI>Hart, Et. Al., Computer Approximations, Wiley and sons, New York,
	 * 1968
	 * </OL>
	 * </P>
	 * <P>
	 * From the original documentation:
	 * </P>
	 * <P>
	 * This routine calculates the LOG(GAMMA) function for a positive real
	 * argument X. Computation is based on an algorithm outlined in references 1
	 * and 2 The program uses rational functions that theoretically approximate
	 * LOG(GAMMA) to at least 18 significant decimal digits. The approximation
	 * for X > 12 is from reference 3, while approximations for X < 12 are
	 * similar to those in reference 1, but are unpublished. The accuracy
	 * achieved depends on the arithmetic system, the compiler, the intrinsic
	 * functions, and proper selection of the machine-dependent constants.
	 * </P>
	 * <P>
	 * Error returns:<BR>
	 * The program returns the value XINF for X .LE. 0 or when overflow would
	 * occur. The computation is believed to be free of underflow and overflow.
	 * </P>
	 * 
	 * @return Double.MAX_VALUE for x < 0 or when overflow would occur, i.e. x >
	 *         2.55E+305
	 * @author Jaco van Kooten
	 */
	public static double logGamma(double x) {
		double xden, corr, xnum;
		int i;
		double y, xm1, xm2, xm4, res, ysq;

		if (x == ((Double) logGammaCache_x.get()).doubleValue())
			return ((Double) logGammaCache_res.get()).doubleValue();

		y = x;
		if (y > 0 && y <= LOG_GAMMA_X_MAX_VALUE) {
			if (y <= EPS) {
				res = -Math.log(y);
			} else if (y <= 1.5) {
				// ----------------------------------------------------------------------
				// EPS .LT. X .LE. 1.5
				// ----------------------------------------------------------------------
				if (y < pnt68) {
					corr = -Math.log(y);
					xm1 = y;
				} else {
					corr = 0.0;
					xm1 = y - 1.0;
				}
				if (y <= 0.5 || y >= pnt68) {
					xden = 1.0;
					xnum = 0.0;
					for (i = 0; i < 8; i++) {
						xnum = xnum * xm1 + lg_p1[i];
						xden = xden * xm1 + lg_q1[i];
					}
					res = corr + xm1 * (lg_d1 + xm1 * (xnum / xden));
				} else {
					xm2 = y - 1.0;
					xden = 1.0;
					xnum = 0.0;
					for (i = 0; i < 8; i++) {
						xnum = xnum * xm2 + lg_p2[i];
						xden = xden * xm2 + lg_q2[i];
					}
					res = corr + xm2 * (lg_d2 + xm2 * (xnum / xden));
				}
			} else if (y <= 4.0) {
				// ----------------------------------------------------------------------
				// 1.5 .LT. X .LE. 4
				// ----------------------------------------------------------------------
				xm2 = y - 2.0;
				xden = 1.0;
				xnum = 0.0;
				for (i = 0; i < 8; i++) {
					xnum = xnum * xm2 + lg_p2[i];
					xden = xden * xm2 + lg_q2[i];
				}
				res = xm2 * (lg_d2 + xm2 * (xnum / xden));
			} else if (y <= 12.0) {
				// ----------------------------------------------------------------------
				// 4 .LT. X .LE. 12
				// ----------------------------------------------------------------------
				xm4 = y - 4.0;
				xden = -1.0;
				xnum = 0.0;
				for (i = 0; i < 8; i++) {
					xnum = xnum * xm4 + lg_p4[i];
					xden = xden * xm4 + lg_q4[i];
				}
				res = lg_d4 + xm4 * (xnum / xden);
			} else {
				// ----------------------------------------------------------------------
				// Evaluate for argument .GE. 12
				// ----------------------------------------------------------------------
				res = 0.0;
				if (y <= lg_frtbig) {
					res = lg_c[6];
					ysq = y * y;
					for (i = 0; i < 6; i++)
						res = res / ysq + lg_c[i];
				}
				res /= y;
				corr = Math.log(y);
				res = res + LOGSQRT2PI - 0.5 * corr;
				res += y * (corr - 1.0);
			}
		} else {
			// ----------------------------------------------------------------------
			// Return for bad arguments
			// ----------------------------------------------------------------------
			res = Double.MAX_VALUE;
		}
		// ----------------------------------------------------------------------
		// Final adjustments and return
		// ----------------------------------------------------------------------
		logGammaCache_x.set(new Double(x));
		logGammaCache_res.set(new Double(res));
		return res;
	}

	private final static int MAX_ITERATIONS = 1000;
	// lower value = higher precision
	private final static double PRECISION = 4 * EPS;

	/**
	 * Incomplete gamma function. The computation is based on approximations
	 * presented in Numerical Recipes, Chapter 6.2 (W.H. Press et al, 1992).
	 * 
	 * @param a
	 *            require a>=0
	 * @param x
	 *            require x>=0
	 * @return 0 if x<0, a<=0 or a>2.55E305 to avoid errors and over/underflow
	 * @author Jaco van Kooten
	 */
	public static double incompleteGamma(double a, double x) {
		if (x <= 0 || a <= 0 || a > LOG_GAMMA_X_MAX_VALUE)
			return 0.0;
		if (x < (a + 1.0))
			return gammaSeriesExpansion(a, x);
		else
			return 1 - gammaFraction(a, x);
	}

	/**
	 * @author Jaco van Kooten
	 */
	private static double gammaSeriesExpansion(double a, double x) {
		double ap = a;
		double del = 1 / a;
		double sum = del;
		for (int n = 1; n < MAX_ITERATIONS; n++) {
			++ap;
			del *= x / ap;
			sum += del;
			if (del < sum * PRECISION)
				return sum * Math.exp(-x + a * Math.log(x) - logGamma(a));
		}
		throw new RuntimeException(
				"Maximum	iterations	exceeded:	please	file	a	bug	report.");
	}

	/**
	 * @author Jaco van Kooten
	 */
	private static double gammaFraction(double a, double x) {
		double b = x + 1 - a;
		double c = 1 / XMININ;
		double d = 1 / b;
		double h = d;
		double del = 0.0;
		double an;
		for (int i = 1; i < MAX_ITERATIONS && Math.abs(del - 1.0) > PRECISION; i++) {
			an = -i * (i - a);
			b += 2.0;
			d = an * d + b;
			c = b + an / c;
			if (Math.abs(c) < XMININ)
				c = XMININ;
			if (Math.abs(d) < XMININ)
				c = XMININ;
			d = 1 / d;
			del = d * c;
			h *= del;
		}
		return Math.exp(-x + a * Math.log(x) - logGamma(a)) * h;
	}

	/**
	 * Beta function.
	 * 
	 * @param p
	 *            require p>0
	 * @param q
	 *            require q>0
	 * @return 0 if p<=0, q<=0 or p+q>2.55E305 to avoid errors and
	 *         over/underflow
	 * @author Jaco van Kooten
	 */
	public static double beta(double p, double q) {
		if (p <= 0 || q <= 0 || (p + q) > LOG_GAMMA_X_MAX_VALUE)
			return 0.0;
		else
			return Math.exp(logBeta(p, q));
	}

	// Function cache for logBeta
	private static final ThreadLocal logBetaCache_res = new ThreadLocal() {
		protected Object initialValue() {
			return new Double(0.0);
		}
	};
	private static final ThreadLocal logBetaCache_p = new ThreadLocal() {
		protected Object initialValue() {
			return new Double(0.0);
		}
	};
	private static final ThreadLocal logBetaCache_q = new ThreadLocal() {
		protected Object initialValue() {
			return new Double(0.0);
		}
	};

	/**
	 * The natural logarithm of the beta function.
	 * 
	 * @param p
	 *            require p>0
	 * @param q
	 *            require q>0
	 * @return 0 if p<=0, q<=0 or p+q>2.55E305 to avoid errors and
	 *         over/underflow
	 * @author Jaco van Kooten
	 */
	public static double logBeta(double p, double q) {
		if (p != ((Double) logBetaCache_p.get()).doubleValue()
				|| q != ((Double) logBetaCache_q.get()).doubleValue()) {
			logBetaCache_p.set(new Double(p));
			logBetaCache_q.set(new Double(q));
			double res;
			if (p <= 0 || q <= 0 || (p + q) > LOG_GAMMA_X_MAX_VALUE)
				res = 0.0;
			else
				res = logGamma(p) + logGamma(q) - logGamma(p + q);
			logBetaCache_res.set(new Double(res));
			return res;
		} else {
			return ((Double) logBetaCache_res.get()).doubleValue();
		}
	}

	/**
	 * Incomplete beta function. The computation is based on formulas from
	 * Numerical Recipes, Chapter 6.4 (W.H. Press et al, 1992).
	 * 
	 * @param x
	 *            require 0<=x<=1
	 * @param p
	 *            require p>0
	 * @param q
	 *            require q>0
	 * @return 0 if x<0, p<=0, q<=0 or p+q>2.55E305 and 1 if x>1 to avoid errors
	 *         and over/underflow
	 * @author Jaco van Kooten
	 */
	public static double incompleteBeta(double x, double p, double q) {
		if (x <= 0.0)
			return 0.0;
		else if (x >= 1.0)
			return 1.0;
		else if (p <= 0 || q <= 0 || (p + q) > LOG_GAMMA_X_MAX_VALUE)
			return 0.0;
		else {
			final double beta_gam = Math.exp(-logBeta(p, q) + p * Math.log(x)
					+ q * Math.log(1.0 - x));
			if (x < (p + 1.0) / (p + q + 2.0))
				return beta_gam * betaFraction(x, p, q) / p;
			else
				return 1 - (beta_gam * betaFraction(1.0 - x, q, p) / q);
		}
	}

	/**
	 * Evaluates of continued fraction part of incomplete beta function. Based
	 * on an idea from Numerical Recipes (W.H. Press et al, 1992).
	 * 
	 * @author Jaco van Kooten
	 */
	private static double betaFraction(double x, double p, double q) {
		int m, m2;
		double sum_pq, p_plus, p_minus, c = 1.0, d, delta, h, frac;
		sum_pq = p + q;
		p_plus = p + 1.0;
		p_minus = p - 1.0;
		h = 1 - sum_pq * x / p_plus;
		if (Math.abs(h) < XMININ)
			h = XMININ;
		h = 1 / h;
		frac = h;
		m = 1;
		delta = 0.0;
		while (m <= MAX_ITERATIONS && Math.abs(delta - 1.0) > PRECISION) {
			m2 = 2 * m;
			// even index for d
			d = m * (q - m) * x / ((p_minus + m2) * (p + m2));
			h = 1 + d * h;
			if (Math.abs(h) < XMININ)
				h = XMININ;
			h = 1 / h;
			c = 1 + d / c;
			if (Math.abs(c) < XMININ)
				c = XMININ;
			frac *= h * c;
			// odd index for d
			d = -(p + m) * (sum_pq + m) * x / ((p + m2) * (p_plus + m2));
			h = 1 + d * h;
			if (Math.abs(h) < XMININ)
				h = XMININ;
			h = 1 / h;
			c = 1 + d / c;
			if (Math.abs(c) < XMININ)
				c = XMININ;
			delta = h * c;
			frac *= delta;
			m++;
		}
		return frac;
	}

	// ====================================================
	// Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.
	//
	// Developed at SunSoft, a Sun Microsystems, Inc. business.
	// Permission to use, copy, modify, and distribute this
	// software is freely granted, provided that this notice
	// is preserved.
	// ====================================================
	//
	// x
	// 2 |\
	// erf(x) = --------- | exp(-t*t)dt
	// sqrt(pi) \|
	// 0
	//
	// erfc(x) = 1-erf(x)
	// Note that
	// erf(-x) = #NAME?
	// erfc(-x) = 2 - erfc(x)
	//
	// Method:
	// 1 For |x| in [0, 0.84375]
	// erf(x) = x + x*R(x^2)
	// erfc(x) = 1 - erf(x) if x in [-.84375,0.25]
	// = 0.5 + ((0.5-x)-x*R) if x in [0.25,0.84375]
	// where R = P/Q where P is an odd poly of degree 8 and
	// Q is an odd poly of degree 10
	// -57.9
	// | R - (erf(x)-x)/x | <= 2
	//
	//
	// Remark. The formula is derived by noting
	// erf(x) = (2/sqrt(pi))*(x - x^3/3 + x^5/10 - x^7/42 + ....)
	// and that
	// 2/sqrt(pi) = 1.128379167
	// is close to one. The interval is chosen because the fix
	// point of erf(x) is near 0.6174 (i.e., erf(x)=x when x is
	// near 0.6174), and by some experiment, 0.84375 is chosen to
	// guarantee the error is less than one ulp for erf.
	//
	// 2 For |x| in [0.84375,1.25], let s = |x| - 1, and
	// c = 0.845062912 rounded to single (24 bits)
	// erf(x) = sign(x) * (c + P1(s)/Q1(s))
	// erfc(x) = (1-c) - P1(s)/Q1(s) if x > 0
	// 1+(c+P1(s)/Q1(s)) if x < 0
	// |P1/Q1 - (erf(|x|)-c)| <= 2**-59.06
	// Remark: here we use the taylor series expansion at x=1.
	// erf(1+s) = erf(1) + s*Poly(s)
	// = 0.845.. + P1(s)/Q1(s)
	// That is, we use rational approximation to approximate
	// erf(1+s) - (c = (single)0.84506291151)
	// Note that |P1/Q1|< 0.078 for x in [0.84375,1.25]
	// where
	// P1(s) = degree 6 poly in s
	// Q1(s) = degree 6 poly in s
	//
	// 3 For x in [1.25,1/0.35(~2.857143)],
	// erfc(x) = (1/x)*exp(-x*x-0.5625+R1/S1)
	// erf(x) = 1 - erfc(x)
	// where
	// R1(z) = degree 7 poly in z, (z=1/x^2)
	// S1(z) = degree 8 poly in z
	//
	// 4 For x in [1/0.35,28]
	// erfc(x) = (1/x)*exp(-x*x-0.5625+R2/S2) if x > 0
	// = 2 - (1/x)*exp(-x*x-0.5625+R2/S2) if #NAME?
	// = 2 - tiny (if x <= -6)
	// erf(x) = sign(x)*(1.0 - erfc(x)) if x < 6, else
	// erf(x) = sign(x)*(1.0 - tiny)
	// where
	// R2(z) = degree 6 poly in z, (z=1/x^2)
	// S2(z) = degree 7 poly in z
	//
	// Note1:
	// To compute exp(-x*x-0.5625+R/S), let s be a single
	// precision number and s := x; then
	// #NAME? = #NAME? + (s-x)*(s+x)
	// exp(-x*x-0.5626+R/S) =
	// exp(-s*s-0.5625)*exp((s-x)*(s+x)+R/S);
	// Note2:
	// Here 4 and 5 make use of the asymptotic series
	// exp(-x*x)
	// erfc(x) ~ ---------- * ( 1 + Poly(1/x^2) )
	// x*sqrt(pi)
	// We use rational approximation to approximate
	// g(s)=f(1/x^2) = log(erfc(x)*x) - x*x + 0.5625
	// Here is the error bound for R1/S1 and R2/S2
	// |R1/S1 - f(x)| < 2**(-62.57)
	// |R2/S2 - f(x)| < 2**(-61.52)
	//
	// 5 For inf > x >= 28
	// erf(x) = sign(x) *(1 - tiny) (raise inexact)
	// erfc(x) = tiny*tiny (raise underflow) if x > 0
	// = 2 - tiny if x<0
	//
	// 7 Special case:
	// erf(0) = 0, erf(inf) = 1, erf(-inf) = -1,
	// erfc(0) = 1, erfc(inf) = 0, erfc(-inf) = 2,
	// erfc/erf(NaN) is NaN
	//

	// Coefficients for approximation to erf on [0,0.84375]
	private final static double e_efx = 1.28379167095512586316e-01;
	// private final static double efx8=1.02703333676410069053e00;
	private final static double ePp[] = { 1.28379167095512558561e-01,
			-3.25042107247001499370e-01, -2.84817495755985104766e-02,
			-5.77027029648944159157e-03, -2.38E-05 };
	private final static double eQq[] = { 3.97917223959155352819e-01,
			6.50222499887672944485e-02, 5.08130628187576562776e-03,
			1.32494738004321644526e-04, -3.96E-06 };
	// Coefficients for approximation to erf in [0.84375,1.25]
	private final static double ePa[] = { -2.36211856075265944077e-03,
			4.14856118683748331666e-01, -3.72207876035701323847e-01,
			3.18346619901161753674e-01, -1.10894694282396677476e-01,
			3.54783043256182359371e-02, -2.17E-03 };
	private final static double eQa[] = { 1.06420880400844228286e-01,
			5.40397917702171048937e-01, 7.18286544141962662868e-02,
			1.26171219808761642112e-01, 1.36370839120290507362e-02, 1.20E-02 };
	private final static double e_erx = 8.45062911510467529297e-01;

	/**
	 * Error function. Based on C-code for the error function developed at Sun
	 * Microsystems.
	 * 
	 * @author Jaco van Kooten
	 */
	public static double error(double x) {
		double P, Q, s, retval;
		final double abs_x = (x >= 0 ? x : -x);
		if (abs_x < 0.84375) { // 0 < |x| < 0.84375
			if (abs_x < 3.7252902984619141e-9) // |x| < 2.00E-28
				retval = abs_x + abs_x * e_efx;
			else {
				s = x * x;
				P = ePp[0] + s
						* (ePp[1] + s * (ePp[2] + s * (ePp[3] + s * ePp[4])));
				Q = 1
						+ s
						* (eQq[0] + s
								* (eQq[1] + s
										* (eQq[2] + s * (eQq[3] + s * eQq[4]))));
				retval = abs_x + abs_x * (P / Q);
			}
		} else if (abs_x < 1.25) { // 0.84375 < |x| < 1.25
			s = abs_x - 1.0;
			P = ePa[0]
					+ s
					* (ePa[1] + s
							* (ePa[2] + s
									* (ePa[3] + s
											* (ePa[4] + s
													* (ePa[5] + s * ePa[6])))));
			Q = 1
					+ s
					* (eQa[0] + s
							* (eQa[1] + s
									* (eQa[2] + s
											* (eQa[3] + s
													* (eQa[4] + s * eQa[5])))));
			retval = e_erx + P / Q;
		} else if (abs_x >= 6.0)
			retval = 1.0;
		else
			// 1.25 < |x| < 6
			retval = 1 - complementaryError(abs_x);
		return (x >= 0.0) ? retval : -retval;
	}

	// Coefficients for approximation to erfc in [1.25,1/.35]
	private final static double eRa[] = { -9.86494403484714822705e-03,
			-6.93858572707181764372e-01, -1.05586262253232909814e01,
			-6.23753324503260060396e01, -1.62396669462573470355e02,
			-1.84605092906711035994e02, -8.12874355063065934246e01, -9.81E+00 };
	private final static double eSa[] = { 1.96512716674392571292e01,
			1.37657754143519042600e02, 4.34565877475229228821e02,
			6.45387271733267880336e02, 4.29008140027567833386e02,
			1.08635005541779435134e02, 6.57024977031928170135e00, -6.04E-02 };
	// Coefficients for approximation to erfc in [1/.35,28]
	private final static double eRb[] = { -9.86494292470009928597e-03,
			-7.99283237680523006574e-01, -1.77579549177547519889e01,
			-1.60636384855821916062e02, -6.37566443368389627722e02,
			-1.02509513161107724954e03, -4.84E+02 };
	private final static double eSb[] = { 3.03380607434824582924e01,
			3.25792512996573918826e02, 1.53672958608443695994e03,
			3.19985821950859553908e03, 2.55305040643316442583e03,
			4.74528541206955367215e02, -2.24E+01 };

	/**
	 * Complementary error function. Based on C-code for the error function
	 * developed at Sun Microsystems.
	 * 
	 * @author Jaco van Kooten
	 */
	public static double complementaryError(double x) {
		double s, retval, R, S;
		final double abs_x = (x >= 0 ? x : -x);
		if (abs_x < 1.25)
			retval = 1 - error(abs_x);
		else if (abs_x > 28.0)
			retval = 0.0;
		else { // 1.25 < |x| < 28
			s = 1 / (abs_x * abs_x);
			if (abs_x < 2.8571428) { // ( |x| < 1/0.35 )
				R = eRa[0]
						+ s
						* (eRa[1] + s
								* (eRa[2] + s
										* (eRa[3] + s
												* (eRa[4] + s
														* (eRa[5] + s
																* (eRa[6] + s
																		* eRa[7]))))));
				S = 1
						+ s
						* (eSa[0] + s
								* (eSa[1] + s
										* (eSa[2] + s
												* (eSa[3] + s
														* (eSa[4] + s
																* (eSa[5] + s
																		* (eSa[6] + s
																				* eSa[7])))))));
			} else { // ( |x| > 1/0.35 )
				R = eRb[0]
						+ s
						* (eRb[1] + s
								* (eRb[2] + s
										* (eRb[3] + s
												* (eRb[4] + s
														* (eRb[5] + s * eRb[6])))));
				S = 1
						+ s
						* (eSb[0] + s
								* (eSb[1] + s
										* (eSb[2] + s
												* (eSb[3] + s
														* (eSb[4] + s
																* (eSb[5] + s
																		* eSb[6]))))));
			}
			retval = Math.exp(-x * x - 0.5625 + R / S) / abs_x;
		}
		return (x >= 0.0) ? retval : 2 - retval;
	}
}
]]></Text>
		</JavaClass>
	</JavaClasses>
</Model>
</AnyLogicWorkspace>